import{u as h,r as u,j as e,_ as o,a as x}from"./index-DOir1VEp.js";import{A as p}from"./AdminSidebar-BciyrFpp.js";import{F as j,d as f}from"./index-DRB5IWKv.js";import{C as v}from"./ContentHeader-DxsedZZO.js";import{t as N}from"./profile-BZ_9zrrG.js";import"./chunk-DBLREEYE-BUE9bXnN.js";import"./useOverlayTriggerState-CEjPxx58.js";import"./chunk-CIZQCQPA-Cs75E8Kh.js";function b(d,a){const r="0123456789";let t="";switch(d){case"Parent":t="parentID_";break;case"Teacher":t="teacherID_";break;case"Admin":t="adminID_";break}let s=t;const i=r.length;for(let l=0;l<a;l++)s+=r.charAt(Math.floor(Math.random()*i));return s}const w=()=>{const d=h(),[a,r]=u.useState({UserID:"",email:"",password:"",role:""}),t=async s=>{s.preventDefault();const{email:i,password:l,role:c}=a;if(!i||!l||!c){o.error("All fields are required.");return}const m=b(c,6);try{const n=await x.post("/api/addUser",{UserID:m,email:i,password:l,role:c});n.data.error?o.error(n.data.error):(r({UserID:"",email:"",password:"",role:""}),o.success("Added User Successfully."),d("/adminUsers"))}catch(n){console.error("There was an error adding the user:",n),o.error("Failed to add user. Please try again later.")}};return e.jsxs("div",{className:"content-body",children:[e.jsx("div",{className:"content-title-header",children:e.jsxs("div",{children:["Add User's Information",e.jsx(N,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Add User"}),e.jsx("div",{className:"text-tiny",children:"This function will add the information of the user in system."})]}),children:e.jsx(j,{icon:f,size:"1x",className:"help-icon"})})]})}),e.jsx("form",{onSubmit:t,children:e.jsxs("div",{className:"content-container",children:[e.jsx("div",{className:"back-button-profile",children:e.jsx("div",{className:"btn-back",onClick:()=>d(-1),children:"Back"})}),e.jsxs("div",{className:"add-inputs",children:[e.jsxs("div",{className:"add-input",children:[e.jsx("div",{className:"label-add",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Enter the User's Email",value:a.email,onChange:s=>r({...a,email:s.target.value})})]}),e.jsxs("div",{className:"add-input",children:[e.jsx("div",{className:"label-add",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Set Password",value:a.password,onChange:s=>r({...a,password:s.target.value})})]}),e.jsxs("div",{className:"add-input",children:[e.jsx("div",{className:"label-add",children:"Role"}),e.jsxs("select",{className:"select-gender",value:a.role,onChange:s=>r({...a,role:s.target.value}),children:[e.jsx("option",{value:"",disabled:!0,children:"Select Role"}),e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Teacher",children:"Teacher"}),e.jsx("option",{value:"Parent",children:"Parent"})]})]})]}),e.jsx("div",{className:"add-student",children:e.jsx("button",{className:"btn-add",type:"submit",children:"Add User"})})]})})]})},k=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(p,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(v,{}),e.jsx(w,{})]})]});export{k as default};
