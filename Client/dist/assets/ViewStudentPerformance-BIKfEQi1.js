import{u as j,r as i,U as N,c as u,j as e,a as y,_ as b}from"./index-9k_Ocd80.js";import{C as v}from"./ContentHeader-BKYcynH5.js";import{S as A}from"./Sidebar-C8qJrSzU.js";import{F as d,d as w,D as h,E as p}from"./index-B6K5ESG2.js";import{A as C}from"./AddFeedback-BkjzOE_w.js";import{t as m}from"./profile-DYuKv9Zm.js";import{b as c}from"./chunk-DBLREEYE-DVjbjQx8.js";import"./chunk-P2T5LMDM-CR1df-yk.js";import"./useOverlayTriggerState-BZO4l0S3.js";import"./useDialog-Cje9gbXM.js";import"./useLabels-D-HJF6pw.js";import"./VisuallyHidden-PT-Sj4_P.js";import"./chunk-GQQM5TNQ-DIeraZ41.js";import"./chunk-CAFRINWI-CMvs8fyY.js";import"./useFormReset-8bZuwF1F.js";import"./useField-CpUyNuvN.js";import"./chunk-CEHIK4GH-zxS_DSeF.js";import"./chunk-ATAY3LCU-BV89LzXG.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./chunk-CIZQCQPA-8Nr0sLZY.js";const R=n=>{const t=parseInt(n,10);if(isNaN(t))return"Not applicable";const o=Math.floor(t/60),l=t%60;return`${o}:${l<10?"0":""}${l} min`},k=()=>{const n=j(),[t,o]=i.useState(!1),{user:l}=i.useContext(N),{UserInputId:x}=u(),[r,f]=i.useState({UserInputId:"",LRN:"",Section:"",ActivityCode:"",Type:"",PerformanceItems:[],QuestionData:[],Score:"",TimeRead:""});i.useEffect(()=>{(async()=>{try{const a=await y.get(`/api/getPerformance/${x}`);f(a.data)}catch{b.error("Failed to fetch performance data. Please try again later.")}})()},[x]);const g=()=>{o(!0)};return e.jsxs("div",{className:"px-9",children:[e.jsx(C,{show:t,onHide:()=>o(!1),actCode:r.ActivityCode,userid:l.UserID,lrn:r.LRN,section:r.Section}),e.jsxs("div",{className:"flex items-center justify-start gap-2 mb-5",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"View Performance"}),e.jsx(m,{showArrow:!0,content:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-sm font-bold",children:"View Student Performance"}),e.jsx("div",{className:"text-xs",children:"This section displays the student's performance."})]}),children:e.jsx(d,{icon:w,className:"text-gray-600"})})]}),e.jsxs("div",{className:"w-full max-w-8xl mx-auto bg-white shadow-lg rounded-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Assessment Details"}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Activity Code:"})," ",r.ActivityCode||"N/A"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"LRN:"})," ",r.LRN||"N/A"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Section:"})," ",r.Section||"N/A"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Type:"})," ",r.Type||"N/A"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Score:"})," ",r.Score||"N/A"]})}),r.Type==="Pagbabasa"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Questions and Answers"}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Time Read:"})," ",R(r.TimeRead)]}),r.QuestionData&&r.QuestionData.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.QuestionData.map((s,a)=>e.jsxs("div",{className:`p-4 rounded-lg shadow ${s.Remarks==="Correct"?"border border-green-500":"border border-red-500"} relative`,children:[e.jsxs("p",{className:"text-gray-800 flex justify-start gap-2",children:[e.jsxs("strong",{children:["Question ",a+1,":"]})," ",s.Question||"N/A"]}),e.jsxs("p",{className:"text-gray-800 flex justify-start gap-7",children:[e.jsx("strong",{children:"Answer:"})," ",s.Answer||"N/A"]}),e.jsxs("p",{className:"text-gray-800 flex justify-start gap-5",children:[e.jsx("strong",{children:"Remarks:"})," ",s.Remarks||"N/A"]}),e.jsx(d,{icon:s.Remarks==="Correct"?h:p,className:`absolute top-2 right-2 ${s.Remarks==="Correct"?"text-green-500":"text-red-500"}`})]},a))}):e.jsx("p",{className:"text-gray-700",children:"No questions available for this assessment."})]}),r.Type!=="Pagbabasa"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Items"}),r.PerformanceItems&&r.PerformanceItems.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:r.PerformanceItems.map((s,a)=>e.jsxs("div",{className:`p-4 bg-gray-50 rounded-lg shadow ${s.Remarks==="Correct"?"border-2 border-green-500":"border-2 border-red-500"} relative`,children:[e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Item Code:"})," ",s.ItemCode]}),e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Word:"})," ",s.Word||"N/A"]}),e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Remarks:"})," ",s.Remarks||"N/A"]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:s.UserAudioURL?e.jsx(m,{content:"Play User Audio",children:e.jsx(c,{as:"a",href:s.UserAudioURL,target:"_blank",rel:"noopener noreferrer",color:"primary",size:"sm",children:"Play User Audio"})}):"No audio uploaded"}),e.jsx("div",{className:"flex items-center gap-2",children:s.DefaultAudio?e.jsx(m,{content:"Play Default Audio",children:e.jsx(c,{as:"a",href:s.DefaultAudio,target:"_blank",rel:"noopener noreferrer",color:"primary",size:"sm",children:"Play Default Audio"})}):"No default audio available"}),e.jsx(d,{icon:s.Remarks==="Correct"?h:p,className:`absolute top-2 right-2 ${s.Remarks==="Correct"?"text-green-500":"text-red-500"}`})]})]},a))}):e.jsx("p",{className:"text-gray-700",children:"No items available for this assessment."})]}),e.jsxs("div",{className:"mt-6 gap-5 flex",children:[e.jsx(c,{color:"danger",onClick:()=>n(-1),className:"my-4",children:"Back"}),e.jsx(c,{color:"primary",onClick:g,className:"my-4",children:"Feedback"})]})]})]})},X=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(A,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(v,{}),e.jsx(k,{})]})]});export{X as default};
