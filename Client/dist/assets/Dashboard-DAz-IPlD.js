import{r as i,U as P,j as e,a as f}from"./index-A7ZaZ4u8.js";import{C as F}from"./ContentHeader-Bw-tufK8.js";import{S as G}from"./Sidebar-Dbaqu-nW.js";import{F as r,d as H,e as c,g as N}from"./index-CaxXx6Tv.js";import{t as B}from"./profile-CjC0TWUN.js";import{I as y}from"./BarChart-BfcHBS9r.js";import"./chunk-DBLREEYE-D8P85AZ_.js";import"./useOverlayTriggerState-BdGeqriK.js";import"./chunk-CIZQCQPA-DsJBGEOY.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./createPopper-iTKh2FQm.js";const M=()=>{const[x,S]=i.useState({}),[g,E]=i.useState([]),[j,A]=i.useState([]),{user:v}=i.useContext(P),[U,C]=i.useState({}),[w,T]=i.useState({}),[u,k]=i.useState([]),[n,D]=i.useState({Incomplete:0,LowEmergingReader:0,HighEmergingReader:0,DevelopingReader:0,TransitioningReader:0,GradeLevelReader:0});i.useEffect(()=>{const t=async()=>{try{const s=await f.get(`/api/getTeacher/${v.UserID}`);S(s.data)}catch(s){console.error("Error fetching teacher:",s)}},p=async()=>{try{const l=(await f.get("/api/getStudents")).data.filter(o=>o.Section===x.Section);E(l);const a={Incomplete:0,LowEmergingReader:0,HighEmergingReader:0,DevelopingReader:0,TransitioningReader:0,GradeLevelReader:0};l.forEach(o=>{switch(o.status){case"Incomplete":a.Incomplete+=1;break;case"Low Emerging Reader":a.LowEmergingReader+=1;break;case"High Emerging Reader":a.HighEmergingReader+=1;break;case"Developing Reader":a.DevelopingReader+=1;break;case"Transitioning Reader":a.TransitioningReader+=1;break;case"Grade Level Reader":a.GradeLevelReader+=1;break;default:break}}),D(a),C(l)}catch(s){console.error("Error fetching students:",s)}},b=async()=>{try{const l=(await f.get("/api/getPerformance")).data.filter(a=>a.Section===x.Section);k(l)}catch(s){console.error("Error fetching performance:",s)}},d=async()=>{try{const l=(await f.get("/api/getAssessments")).data.filter(h=>h.Section===x.Section),o=["Pagbabaybay","Pantig","Salita","Pagbabasa"].reduce((h,R)=>(h[R]=l.filter(z=>z.Type===R).length,h),{});A(l),T(o)}catch(s){console.error("Error fetching assessments:",s)}};t(),p(),b(),d()},[v.UserID,x.Section]);const L=g.map(t=>{const p=u.filter(d=>d.LRN===t.LRN),b=j.map(d=>{const s=p.find(m=>m.Type===d.Type);return s?parseInt(s.Score,10):0});return{studentName:t.Name,scores:b}}),I=j.map(t=>t.Type);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Teacher Dashboard"}),e.jsx(B,{showArrow:!0,content:e.jsxs("div",{className:"p-2 text-sm",children:[e.jsx("div",{className:"font-bold",children:"Dashboard Info"}),e.jsx("p",{children:"View system data for the assigned section."})]}),children:e.jsx(r,{icon:H,className:"ml-2 text-black"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-[#fb6ea4] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Students"}),e.jsx("p",{className:"text-5xl mt-2",children:g.length})]}),e.jsx("div",{children:e.jsx(r,{icon:c,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#7668d2] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Assessment"}),e.jsx("p",{className:"text-5xl mt-2",children:j.length})," "]}),e.jsx("div",{children:e.jsx(r,{icon:N,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#91c123] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Performance"}),e.jsx("p",{className:"text-5xl mt-2",children:u.length})," "]}),e.jsx("div",{children:e.jsx(r,{icon:c,size:"2xl",className:"text-md",inverse:!0})})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Student Status"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-[#ff505b] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Incomplete"}),e.jsx("p",{className:"text-5xl mt-2",children:n.Incomplete})]}),e.jsx("div",{children:e.jsx(r,{icon:c,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#ff7828] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Low Emerging Reader"}),e.jsx("p",{className:"text-5xl mt-2",children:n.LowEmergingReader})]}),e.jsx("div",{children:e.jsx(r,{icon:N,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#DC84F3] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"High Emerging Reader"}),e.jsx("p",{className:"text-5xl mt-2",children:n.HighEmergingReader})]}),e.jsx("div",{children:e.jsx(r,{icon:N,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#4b99f5] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Developing Reader"}),e.jsx("p",{className:"text-5xl mt-2",children:n.DevelopingReader})]}),e.jsx("div",{children:e.jsx(r,{icon:c,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#ffce1f] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Transitioning Reader"}),e.jsx("p",{className:"text-5xl mt-2",children:n.TransitioningReader})]}),e.jsx("div",{children:e.jsx(r,{icon:c,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#FF8080] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Grade Level Reader"}),e.jsx("p",{className:"text-5xl mt-2",children:n.GradeLevelReader})]}),e.jsx("div",{children:e.jsx(r,{icon:c,size:"2xl",className:"text-md",inverse:!0})})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Assessment Created"}),e.jsx("div",{className:"bg-white rounded-lg shadow-2xl p-4",children:e.jsx(y,{xAxis:[{label:"Activities",scaleType:"band",data:Object.keys(w),tickSize:10}],yAxis:[{label:"Number of Assessments",max:10,min:0,tickCount:6,tickFormat:t=>Math.floor(t),grid:!0}],series:[{data:Object.values(w),color:"#ffce1f",label:"Assessments"}],barsize:40,gap:30,width:1500,height:400})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Performance of Students"}),e.jsx("div",{className:"bg-white rounded-lg shadow-2xl p-4",children:u.length>0&&g.length>0?e.jsx(y,{xAxis:[{label:"Assessment Type",data:I,scaleType:"band",tickSize:10}],yAxis:[{label:"Score",min:0,max:10,tickCount:6,tickFormat:t=>Math.floor(t)}],series:L.map(t=>({data:t.scores,label:t.studentName,color:`#${Math.floor(Math.random()*16777215).toString(16)}`})),width:1500,height:500}):e.jsx("p",{children:"No performance data available"})})]})]})},ee=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(G,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(F,{}),e.jsx(M,{})]})]});export{ee as default};
