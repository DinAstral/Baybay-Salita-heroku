import{r as n,j as e}from"./react-BCcS7c0c.js";import{A as h}from"./AdminSidebar-hE8um79y.js";import{F as j,d as g}from"./@fortawesome-BVdY808A.js";import{a as d}from"./axios-CCb-kr4I.js";import{_ as l}from"./react-hot-toast-Dux6v_Wl.js";import{a as v,g as N}from"./react-router-MkLRJz4d.js";import{t as y,i,b as c}from"./@nextui-org-CLkIIHEi.js";import{C as w}from"./ContentHeader-B2Ht1HTi.js";import"./@babel-m2JXyA6a.js";import"./react-router-dom-Dk6_dLEo.js";import"./react-dom-rv-KAOpM.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-BOUEh3jQ.js";import"./profile-Berhznzr.js";import"./index-ByxnD8YG.js";import"./goober-vt3s6TGe.js";import"./@react-aria-CfXSs2UI.js";import"./@react-stately-ChQ0zIrC.js";import"./clsx-B-dksMZM.js";import"./@swc-DS7M6wx8.js";import"./@internationalized-BB0Nk989.js";import"./framer-motion-BvVSIgoR.js";import"./react-textarea-autosize-bEG1sDiq.js";import"./use-latest-2zZSkz0C.js";import"./use-isomorphic-layout-effect-Co3QFFXf.js";import"./use-composed-ref-BmZZpR7Y.js";import"./tailwind-variants-ayMnMv5e.js";import"./tailwind-merge-Dc5vmgZ1.js";import"./prop-types-LuavYUF2.js";const b=()=>{const m=v(),{id:o}=N(),[s,t]=n.useState({email:"",password:"",role:""});n.useEffect(()=>{d.get(`/api/getUser/${o}`).then(r=>{t(r.data)}).catch(r=>{console.error("Error fetching user data:",r),l.error("Failed to fetch user data. Please try again later.")})},[o]);const p=async r=>{r.preventDefault();const{email:x,password:u,role:f}=s;try{const a=await d.patch(`/api/updateUser/${o}`,{email:x,password:u,role:f});a.data.error?l.error(a.data.error):(t({}),l.success("Updated User info successfully."),m("/AdminUsers"))}catch(a){console.error("Error updating user data:",a),l.error("Failed to update user. Please try again.")}};return e.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Update User's Information"}),e.jsx(y,{content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-sm font-bold",children:"Update Information"}),e.jsx("div",{className:"text-xs",children:"This function will update the information of the user in the system."})]}),children:e.jsx(j,{icon:g,size:"lg",className:"text-gray-600"})})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-medium text-gray-700",children:"Email"}),e.jsx(i,{underlined:!0,type:"email",placeholder:"Enter the User's Email",value:s.email,onChange:r=>t({...s,email:r.target.value})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-medium text-gray-700",children:"Password"}),e.jsx(i,{underlined:!0,type:"password",placeholder:"Set Password",onChange:r=>t({...s,password:r.target.value})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-medium text-gray-700",children:"Role"}),e.jsx(i,{underlined:!0,placeholder:"Enter Role",value:s.role,onChange:r=>t({...s,role:r.target.value})})]})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(c,{type:"submit",color:"primary",auto:!0,children:"Save Changes"}),e.jsx(c,{auto:!0,flat:!0,color:"error",onClick:()=>m(-1),className:"ml-4",children:"Cancel"})]})]})]})},Z=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6]",children:e.jsx(h,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(w,{}),e.jsx(b,{})]})]});export{Z as default};
