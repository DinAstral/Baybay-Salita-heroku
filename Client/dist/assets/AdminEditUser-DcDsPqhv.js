import{u as p,c as j,r as n,a as c,_ as l,j as e}from"./index-B7MPDMra.js";import{A as g}from"./AdminSidebar-hpWMdrn7.js";import{F as v,d as N}from"./index-C254uZew.js";import{t as y}from"./profile-F0OvA6C9.js";import{i}from"./chunk-GQQM5TNQ-3AqrG7fD.js";import{b as m}from"./chunk-DBLREEYE-BBTKcXgi.js";import{C as w}from"./ContentHeader-CLqeOHbp.js";import"./useOverlayTriggerState-B7DmzVKq.js";import"./chunk-CIZQCQPA-BNeo4a9C.js";import"./useField-CUjDOBJZ.js";import"./useLabels-DBq97qWD.js";import"./useFormReset-vmAMJXSZ.js";const b=()=>{const d=p(),{id:o}=j(),[a,r]=n.useState({email:"",password:"",role:""});n.useEffect(()=>{c.get(`/api/getUser/${o}`).then(s=>{r(s.data)}).catch(s=>{console.error("Error fetching user data:",s),l.error("Failed to fetch user data. Please try again later.")})},[o]);const x=async s=>{s.preventDefault();const{email:u,password:f,role:h}=a;try{const t=await c.patch(`/api/updateUser/${o}`,{email:u,password:f,role:h});t.data.error?l.error(t.data.error):(r({}),l.success("Updated User info successfully."),d("/AdminUsers"))}catch(t){console.error("Error updating user data:",t),l.error("Failed to update user. Please try again.")}};return e.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Update User's Information"}),e.jsx(y,{content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-sm font-bold",children:"Update Information"}),e.jsx("div",{className:"text-xs",children:"This function will update the information of the user in the system."})]}),children:e.jsx(v,{icon:N,size:"lg",className:"text-gray-600"})})]}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-medium text-gray-700",children:"Email"}),e.jsx(i,{underlined:!0,type:"email",placeholder:"Enter the User's Email",value:a.email,onChange:s=>r({...a,email:s.target.value})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-medium text-gray-700",children:"Password"}),e.jsx(i,{underlined:!0,type:"password",placeholder:"Set Password",onChange:s=>r({...a,password:s.target.value})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-medium text-gray-700",children:"Role"}),e.jsx(i,{underlined:!0,placeholder:"Enter Role",value:a.role,onChange:s=>r({...a,role:s.target.value})})]})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(m,{type:"submit",color:"primary",auto:!0,children:"Save Changes"}),e.jsx(m,{auto:!0,flat:!0,color:"error",onClick:()=>d(-1),className:"ml-4",children:"Cancel"})]})]})]})},$=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(g,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(w,{}),e.jsx(b,{})]})]});export{$ as default};
