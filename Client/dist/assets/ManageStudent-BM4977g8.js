import{j as e,L as b,r as t,U as ae,a as M}from"./index-A7ZaZ4u8.js";import{C as le}from"./ContentHeader-Bw-tufK8.js";import{S as ie}from"./Sidebar-Dbaqu-nW.js";import{l as re}from"./index-CH_NsAg_.js";import{R as ne}from"./react-paginate-C86u9zav.js";import{P as d,F as g,d as oe,i as de,j as ce}from"./index-CaxXx6Tv.js";import{P as he,t as me,a as xe,b as n,c as ue,d as fe,e as o}from"./PrintRecord-D4MVCmYE.js";import{m as S,a as w,b as N,c as v}from"./chunk-P2T5LMDM-QFyHCutd.js";import{m as y}from"./chunk-LT4XONRR-QAM0LgTb.js";import{b as c}from"./chunk-DBLREEYE-D8P85AZ_.js";import{D as je}from"./DeleteStudent-BtlxSMYc.js";import{t as A}from"./profile-CjC0TWUN.js";import{i as pe}from"./chunk-GQQM5TNQ-X-hgkQha.js";import{s as ge,l as h}from"./chunk-CEHIK4GH-Ci_k2Axj.js";import"./useOverlayTriggerState-BdGeqriK.js";import"./useDialog-CRxUUliV.js";import"./useLabels-BIMkgeY8.js";import"./VisuallyHidden-ioMxcth_.js";import"./Overlay-D_HhAsSD.js";import"./chunk-KBN3H6OQ-3zZ-S7EY.js";import"./chunk-CAFRINWI-CMvs8fyY.js";import"./useField-D5dkv_Ew.js";import"./chunk-CIZQCQPA-DsJBGEOY.js";import"./useFormReset-B5tvkxkm.js";const I=({show:l,onHide:i,student:r})=>e.jsx(S,{isOpen:l,onClose:i,"aria-labelledby":"contained-modal-title-vcenter",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(y,{children:[e.jsx(w,{className:"flex flex-col",id:"edit-user-modal-title",children:"View Student Information"}),e.jsx(N,{children:e.jsx("p",{children:"Do you want to view the profile of student selected?"})}),e.jsxs(v,{children:[e.jsx(c,{color:"danger",variant:"light",onClick:i,children:"Cancel"}),e.jsx(b,{to:`/viewStudent/${r==null?void 0:r._id}`,children:e.jsx(c,{color:"primary",children:"View"})})]})]})});I.propTypes={show:d.bool.isRequired,onHide:d.func.isRequired,student:d.object};const H=({show:l,onHide:i})=>e.jsx(S,{isOpen:l,onClose:i,"aria-labelledby":"add-user-modal-title",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(y,{children:[e.jsx(w,{className:"flex flex-col",id:"add-user-modal-title",children:"Add Student Information"}),e.jsx(N,{children:e.jsx("p",{children:"Do you want to add student information?"})}),e.jsxs(v,{children:[e.jsx(c,{color:"danger",variant:"light",onClick:i,children:"Cancel"}),e.jsx(b,{to:"/addStudent",children:e.jsx(c,{color:"primary",children:"Add"})})]})]})});H.propTypes={show:d.bool.isRequired,onHide:d.func.isRequired};const U=({show:l,onHide:i,student:r})=>e.jsx(S,{isOpen:l,onClose:i,"aria-labelledby":"contained-modal-title-vcenter",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(y,{children:[e.jsx(w,{className:"flex flex-col",id:"contained-modal-title-vcenter",children:"Update Student Information"}),e.jsx(N,{children:e.jsx("p",{children:"Are you sure you want to update this student's information?"})}),e.jsxs(v,{children:[e.jsx(c,{color:"danger",variant:"light",onClick:i,children:"Cancel"}),e.jsx(b,{to:`/editStudent/${r==null?void 0:r._id}`,children:e.jsx(c,{color:"primary",children:"Update"})})]})]})});U.propTypes={show:d.bool.isRequired,onHide:d.func.isRequired,student:d.object};const be=()=>{const{user:l}=t.useContext(ae),[i,r]=t.useState(!1),[F,C]=t.useState(!1),[V,R]=t.useState(!1),[q,_]=t.useState(!1),[G,D]=t.useState(!1),[x,P]=t.useState([]),[L,z]=t.useState([]),[u,K]=t.useState(""),[f,E]=t.useState(null),[O,$]=t.useState(0),[j]=t.useState(10),[p,B]=t.useState(""),[m,Q]=t.useState(""),k=t.useRef(null),{onDownload:W}=re.useDownloadExcel({currentTableRef:k.current,filename:"Performance_List_Report",sheet:"Performance",data:x.map(({_id:s,...a})=>a)});t.useEffect(()=>{l&&l.UserID&&M.get(`/api/getTeacher/${l.UserID}`).then(s=>{K(s.data.Section)}).catch(s=>console.log(s))},[l]),t.useEffect(()=>{M.get("/api/getStudents").then(s=>{P(s.data)}).catch(s=>console.log(s))},[]),t.useEffect(()=>{let s=x;u&&(s=s.filter(a=>a.Section===u)),m&&(s=s.filter(a=>a.FirstName.toLowerCase().includes(m.toLowerCase())||a.LastName.toLowerCase().includes(m.toLowerCase())||a.LRN.includes(m))),p&&(s=s.filter(a=>a.status===p)),z(s)},[m,p,x,u]);const J=()=>C(!0),X=s=>{E(s),_(!0)},Y=s=>{E(s),R(!0)},Z=s=>{P(x.filter(a=>a._id!==s)),D(!1)},ee=s=>$(s.selected),T=O*j,se=L.slice(T,T+j),te=s=>{switch(s){case"Grade Ready Reader":return"text-green-600 font-semibold";case"Transitioning Reader":return"text-blue-600 font-semibold";case"Developing Reader":return"text-orange-600 font-semibold";case"Low Emerging Reader":return"text-red-600 font-semibold";case"High Emerging Reader":return"text-red-600 font-semibold";case"Incomplete":return"text-gray-600 italic";default:return"text-black"}};return e.jsxs("div",{className:"px-9",children:[e.jsx(he,{show:F,onHide:()=>C(!1),print:W}),e.jsx(H,{show:i,onHide:()=>r(!1)}),e.jsx(I,{show:q,onHide:()=>_(!1),student:f}),e.jsx(U,{show:V,student:f,onHide:()=>R(!1)}),e.jsx(je,{show:G,onHide:()=>D(!1),student:f,onDeleteSuccess:Z}),e.jsxs("div",{className:"content-title-header",children:[e.jsxs("div",{children:["Manage Student",e.jsx(A,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Student Table"}),e.jsx("div",{className:"text-tiny",children:"This function will view the list of the students in each section."})]}),children:e.jsx(g,{icon:oe,size:"1x",className:"help-icon"})})]}),e.jsx("div",{className:"generate-report",children:e.jsx(A,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Print"}),e.jsx("div",{className:"text-tiny",children:"Generate report/Print table"})]}),children:e.jsx(g,{icon:de,size:"1x",className:"print-icon",onClick:J})})})]}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card mt-1 border-0",children:[e.jsx("div",{className:"list-header-drop-score",children:e.jsxs("div",{className:"flex flex-row gap-5 justify-start w-[100%]",children:[e.jsx("div",{className:"w-[40%] flex pt-4",children:e.jsx(pe,{type:"text",className:"pt-4",placeholder:"Search Student Name or LRN",variant:"bordered",startContent:e.jsx(g,{icon:ce,size:"1x",inverse:!0,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}),onChange:s=>Q(s.target.value)})}),e.jsxs(ge,{className:"w-[20%]",labelPlacement:"outside",label:"Status",variant:"bordered",onChange:s=>B(s.target.value),defaultSelectedKeys:"",children:[e.jsx(h,{children:"All"},""),e.jsx(h,{children:"Incomplete"},"Incomplete"),e.jsx(h,{children:"Low Emerging"},"Low Emerging Reader"),e.jsx(h,{children:"High Emerging"},"High Emerging Reader"),e.jsx(h,{children:"Developing"},"Developing Reader"),e.jsx(h,{children:"Transitioning"},"Transitioning Reader"),e.jsx(h,{children:"Grade Ready"},"Grade Ready Reader")]})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsxs(me,{ref:k,removeWrapper:!0,color:"primary",selectionMode:"single","aria-label":"Manage Students Table",children:[e.jsxs(xe,{children:[e.jsx(n,{children:"LRN"}),e.jsx(n,{children:"First Name"}),e.jsx(n,{children:"Last Name"}),e.jsx(n,{children:"Age"}),e.jsx(n,{children:"Section"}),e.jsx(n,{children:"Mother Tongue"}),e.jsx(n,{children:"Gender"}),e.jsx(n,{children:"Status"})," ",e.jsx(n,{className:"text-center",children:"Actions"})]}),e.jsx(ue,{emptyContent:"No rows to display.",children:se.map(s=>e.jsxs(fe,{children:[e.jsx(o,{children:s.LRN}),e.jsx(o,{children:s.FirstName}),e.jsx(o,{children:s.LastName}),e.jsx(o,{children:s.Age}),e.jsx(o,{children:s.Section}),e.jsx(o,{children:s.MotherTongue}),e.jsx(o,{children:s.Gender}),e.jsx(o,{children:e.jsx("span",{className:te(s.status),children:s.status})}),e.jsx(o,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(c,{color:"default",size:"sm",onClick:()=>X(s),children:"View"}),e.jsx(c,{color:"primary",size:"sm",onClick:()=>Y(s),children:"Update"})]})})]},s._id))})]}),e.jsx(ne,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(L.length/j),marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:ee,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})]})]})})})})]})},Ke=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(ie,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(le,{}),e.jsx(be,{})]})]});export{Ke as default};
