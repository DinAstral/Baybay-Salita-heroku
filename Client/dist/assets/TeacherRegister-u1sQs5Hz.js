import{r as u,u as $,j as t,a as Y,n as g}from"./index-BeTcVfSM.js";import{F as o,l as C,m as H,n as U,f as z,a as w,b as y}from"./index-CQ-r-5AQ.js";import{c as J,a as K}from"./chunk-H4VOEXHF-qpQ0kc8a.js";import{b as p}from"./chunk-DBLREEYE-BzKuSura.js";import{i as l}from"./chunk-GQQM5TNQ-8rat9Odn.js";import{s as h,l as d}from"./chunk-CEHIK4GH-6ZP7awBo.js";import"./chunk-CAFRINWI-CMvs8fyY.js";import"./useFormReset-CRh2bn8n.js";import"./useField-Ddeb4sCA.js";import"./useLabels-CUB2NPeE.js";import"./useOverlayTriggerState-efY3q-2i.js";import"./useDialog-BT8fesRI.js";import"./VisuallyHidden-DjJdtpt7.js";import"./Overlay-BQdpL7pO.js";const de=()=>{const[a,i]=u.useState({FirstName:"",LastName:"",Section:"",Department:"",Birthday:"",Age:"",Gender:"",Address:"",Status:"",ContactNumber:"",email:"",password:"",confirmPassword:""}),[s,v]=u.useState({}),N=$(),[j,S]=u.useState(0),[x,I]=u.useState(!1),A=()=>I(!x),[b,D]=u.useState(!1),F=()=>D(!b),P=()=>{N("/register")},M=e=>{const r=new Date(e),n=new Date;let m=n.getFullYear()-r.getFullYear();const f=n.getMonth()-r.getMonth();return(f<0||f===0&&n.getDate()<r.getDate())&&m--,m},B=()=>{let e=!0,r={};return v({}),a.FirstName||(r.FirstName="First Name is required.",e=!1),a.LastName||(r.LastName="Last Name is required.",e=!1),a.Section||(r.Section="Section is required.",e=!1),a.Department||(r.Department="Department is required.",e=!1),a.Birthday||(r.Birthday="Birthday is required.",e=!1),a.Age<20&&(r.Birthday="Age must be at least 20 years old.",e=!1),a.Gender||(r.Gender="Gender is required.",e=!1),a.Address||(r.Address="Address is required.",e=!1),a.Status||(r.Status="Status is required.",e=!1),a.ContactNumber||(r.ContactNumber="Contact Number is required.",e=!1),/^09\d{9}$/.test(a.ContactNumber)||(r.ContactNumber="Please enter a valid PH contact number.",e=!1),a.email||(r.email="Email is required.",e=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(r.email="Invalid email format.",e=!1),a.password||(r.password="Password is required.",e=!1),a.password!==a.confirmPassword&&(r.confirmPassword="Passwords do not match.",e=!1),v(r),e},L=async e=>{if(e.preventDefault(),!B()){g.error("Please fill out this form.");return}const{FirstName:r,LastName:n,Section:m,Department:f,Birthday:q,Address:E,Status:G,Gender:_,ContactNumber:R,email:V,password:T,Age:k}=a;try{const c=await Y.post("/api/registerTeacher",{FirstName:r,LastName:n,Section:m,Department:f,Birthday:q,Age:k,Address:E,Status:G,Gender:_,ContactNumber:R,email:V,password:T});c.data.error?g.error(c.data.error):(i({}),g.success(c.data.message),localStorage.setItem("userId",c.data.data.userId),N("/verifyEmail"))}catch{g.error("An error occurred. Please try again.")}};return t.jsx("div",{className:"flex bg-[#f6fbff] w-full items-center min-h-screen p-4 md:p-8",children:t.jsx("div",{className:"w-full max-w-4xl mx-auto",children:t.jsxs(J,{className:"w-full flex flex-col p-4",children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-center",children:"Teacher Registration"}),t.jsx("div",{className:"flex gap-4 md:gap-6 border-b pb-3 justify-center mb-4",children:t.jsx(p,{variant:"light",className:`text-sm md:text-md font-medium ${j===0?"border-b-4 border-blue-500":""}`,onClick:()=>S(0),children:"Teacher Information"})}),t.jsx("p",{className:"text-sm text-center mb-4",children:"Please fill up the details needed!"}),t.jsx(K,{children:j===0&&t.jsxs("form",{onSubmit:L,children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(l,{name:"FirstName",label:"First Name",variant:"bordered",value:a.FirstName,onChange:e=>i({...a,FirstName:e.target.value}),errorMessage:s.FirstName,isInvalid:!!s.FirstName,endContent:t.jsx(o,{icon:C})}),t.jsx(l,{name:"LastName",label:"Last Name",variant:"bordered",value:a.LastName,onChange:e=>i({...a,LastName:e.target.value}),errorMessage:s.LastName,isInvalid:!!s.LastName,endContent:t.jsx(o,{icon:C})}),t.jsxs(h,{label:"Section",placeholder:"Select your section",variant:"bordered",value:a.Section,onChange:e=>i({...a,Section:e.target.value}),errorMessage:s.Section,isInvalid:!!s.Section,children:[t.jsx(d,{children:"Aster"},"Aster"),t.jsx(d,{children:"Camia"},"Camia")]}),t.jsx(h,{label:"Department",placeholder:"Select your department",variant:"bordered",value:a.Department,onChange:e=>i({...a,Department:e.target.value}),errorMessage:s.Department,isInvalid:!!s.Department,children:t.jsx(d,{children:"Filipino"},"Filipino")}),t.jsx(l,{name:"Birthday",type:"date",label:"Birthday",variant:"bordered",value:a.Birthday,onChange:e=>{const r=e.target.value,n=M(r);i({...a,Birthday:r,Age:n})},errorMessage:s.Birthday,isInvalid:!!s.Birthday}),t.jsxs(h,{label:"Gender",placeholder:"Select your gender",variant:"bordered",value:a.Gender,onChange:e=>i({...a,Gender:e.target.value}),errorMessage:s.Gender,isInvalid:!!s.Gender,children:[t.jsx(d,{children:"Male"},"Male"),t.jsx(d,{children:"Female"},"Female")]}),t.jsx(l,{name:"Address",label:"Address",variant:"bordered",value:a.Address,onChange:e=>i({...a,Address:e.target.value}),errorMessage:s.Address,isInvalid:!!s.Address,endContent:t.jsx(o,{icon:H})}),t.jsx(h,{name:"Status",label:"Status",variant:"bordered",placeholder:"Select your status",value:a.Status,onChange:e=>i({...a,Status:e.target.value}),errorMessage:s.Status,isInvalid:!!s.Status,children:t.jsx(d,{children:"Single"},"Single")}),t.jsx(l,{name:"ContactNumber",label:"Contact Number",maxLength:11,variant:"bordered",value:a.ContactNumber,onChange:e=>i({...a,ContactNumber:e.target.value}),errorMessage:s.ContactNumber,isInvalid:!!s.ContactNumber,endContent:t.jsx(o,{icon:U})}),t.jsx(l,{name:"email",label:"Email",variant:"bordered",value:a.email,onChange:e=>i({...a,email:e.target.value}),errorMessage:s.email,isInvalid:!!s.email,endContent:t.jsx(o,{icon:z})})]}),t.jsxs("div",{className:"mt-3",children:[t.jsx(l,{name:"password",label:"Password",type:x?"text":"password",variant:"bordered",value:a.password,onChange:e=>i({...a,password:e.target.value}),errorMessage:s.password,isInvalid:!!s.password,endContent:t.jsx("button",{type:"button",onClick:A,children:t.jsx(o,{icon:x?w:y})})}),t.jsx(l,{name:"confirmPassword",label:"Confirm Password",type:b?"text":"password",variant:"bordered",value:a.confirmPassword,className:"mt-3",onChange:e=>i({...a,confirmPassword:e.target.value}),errorMessage:s.confirmPassword,isInvalid:!!s.confirmPassword,endContent:t.jsx("button",{type:"button",onClick:F,children:t.jsx(o,{icon:b?w:y})})})]}),t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 mt-6",children:[t.jsx(p,{className:"w-full md:w-1/2 text-md",color:"danger",variant:"light",onClick:P,children:"Cancel"}),t.jsx(p,{type:"submit",className:"w-full md:w-1/2 text-md",color:"primary",children:"Submit"})]})]})})]})})})};export{de as default};
