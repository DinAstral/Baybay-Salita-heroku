import{r as s,j as e}from"./react-BCcS7c0c.js";import{A as Q}from"./AdminSidebar-hE8um79y.js";import{l as q}from"./react-export-table-to-excel-CDdXcfrC.js";import{R as K}from"./react-paginate-BYTMUaIF.js";import{F as f,d as W,i as X,j as Y}from"./@fortawesome-BVdY808A.js";import{a as Z}from"./axios-CCb-kr4I.js";import{C as $}from"./ContentHeader-B2Ht1HTi.js";import{P as ee}from"./PrintRecord-LBy-exmt.js";import{V as te}from"./ViewStudent-uU4nAQJS.js";import{A as se,D as ae}from"./DeleteStudent-Cj9PH2b5.js";import{U as le}from"./UpdateStudent-DE29nnoj.js";import{t as y,s as re,l as a,i as ie,b as c,k as ne,n as oe,o as l,p as ce,q as de,r}from"./@nextui-org-CLkIIHEi.js";import"./@babel-m2JXyA6a.js";import"./react-router-dom-Dk6_dLEo.js";import"./react-dom-rv-KAOpM.js";import"./scheduler-CzFDRTuY.js";import"./react-router-MkLRJz4d.js";import"./@remix-run-BOUEh3jQ.js";import"./profile-Berhznzr.js";import"./index-ByxnD8YG.js";import"./react-hot-toast-Dux6v_Wl.js";import"./goober-vt3s6TGe.js";import"./@react-aria-CfXSs2UI.js";import"./@react-stately-ChQ0zIrC.js";import"./clsx-B-dksMZM.js";import"./@swc-DS7M6wx8.js";import"./@internationalized-BB0Nk989.js";import"./framer-motion-BvVSIgoR.js";import"./react-textarea-autosize-bEG1sDiq.js";import"./use-latest-2zZSkz0C.js";import"./use-isomorphic-layout-effect-Co3QFFXf.js";import"./use-composed-ref-BmZZpR7Y.js";import"./tailwind-variants-ayMnMv5e.js";import"./tailwind-merge-Dc5vmgZ1.js";import"./prop-types-LuavYUF2.js";const me=()=>{const[R,p]=s.useState(!1),[_,j]=s.useState(!1),[k,S]=s.useState(!1),[P,b]=s.useState(!1),[D,d]=s.useState(!1),[m,g]=s.useState([]),[N,w]=s.useState([]),[h,x]=s.useState(null),[A,L]=s.useState(0),[u]=s.useState(10),[o,E]=s.useState(""),[n,M]=s.useState(""),v=s.useRef(null),{onDownload:F}=q.useDownloadExcel({currentTableRef:v.current,filename:"Student_List_Report_table",sheet:"Students"});s.useEffect(()=>{Z.get("/api/getStudents").then(t=>{g(t.data),w(t.data)}).catch(t=>console.log(t))},[]),s.useEffect(()=>{let t=m;n&&(t=t.filter(i=>i.FirstName.toLowerCase().includes(n.toLowerCase())||i.LastName.toLowerCase().includes(n.toLowerCase())||i.LRN.includes(n))),o&&(t=t.filter(i=>i.Section===o)),w(t)},[n,o,m]);const T=()=>{j(!0)},H=()=>{p(!0)},z=t=>{x(t),b(!0)},V=t=>{x(t),S(!0)},I=t=>{x(t),d(!0)},B=t=>{g(m.filter(i=>i._id!==t)),d(!1)},G=t=>{L(t.selected)},C=A*u,U=N.slice(C,C+u),J=t=>{const i=t.target.value;E(i)},O=t=>{switch(t){case"Grade Ready Reader":return"text-green-600 font-semibold";case"Transitioning Reader":return"text-blue-600 font-semibold";case"Developing Reader":return"text-orange-600 font-semibold";case"Low Emerging Reader":return"text-red-600 font-semibold";case"High Emerging Reader":return"text-red-600 font-semibold";case"Incomplete":return"text-gray-600 italic";default:return"text-black"}};return e.jsxs("div",{className:"px-9",children:[e.jsx(ee,{show:_,onHide:()=>j(!1),print:F}),e.jsx(se,{show:R,onHide:()=>p(!1)}),e.jsx(te,{show:P,onHide:()=>b(!1),student:h}),e.jsx(le,{show:k,student:h,onHide:()=>S(!1)}),e.jsx(ae,{show:D,onHide:()=>d(!1),student:h,onDeleteSuccess:B}),e.jsxs("div",{className:"content-title-header",children:[e.jsxs("div",{children:["Manage Student",e.jsx(y,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Student Table"}),e.jsx("div",{className:"text-tiny",children:"This function will view the list of the students in each section."})]}),children:e.jsx(f,{icon:W,size:"1x",className:"help-icon"})})]}),e.jsx("div",{className:"generate-report",children:e.jsx(y,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Print"}),e.jsx("div",{className:"text-tiny",children:"Generate report/Print table"})]}),children:e.jsx(f,{icon:X,size:"1x",className:"print-icon",onClick:T})})})]}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card mt-1 border-0",children:[e.jsxs("div",{className:"list-header-drop-score",children:[e.jsxs(re,{className:"w-[20%]",labelPlacement:"outside",label:"Sort by Section",variant:"bordered",defaultSelectedKeys:[""],onChange:J,value:o,children:[e.jsx(a,{children:"Select Section"},""),e.jsx(a,{children:"Aster"},"Aster"),e.jsx(a,{children:"Camia"},"Camia"),e.jsx(a,{children:"Dahlia"},"Dahlia"),e.jsx(a,{children:"Iris"},"Iris"),e.jsx(a,{children:"Jasmin"},"Jasmin"),e.jsx(a,{children:"Orchid"},"Orchid"),e.jsx(a,{children:"Rose"},"Rose"),e.jsx(a,{children:"Tulip"},"Tulip"),e.jsx(a,{children:"SSC"},"SSC")]}),e.jsx("div",{className:"w-[40%] flex pt-8",children:e.jsx(ie,{type:"text",placeholder:"Search Student Name or LRN",variant:"bordered",startContent:e.jsx(f,{icon:Y,size:"1x",inverse:!0,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}),onChange:t=>M(t.target.value)})}),e.jsx("div",{className:"back-button-profile",children:e.jsx(c,{auto:!0,color:"primary",className:"",onClick:()=>H(),children:"Add Student"})})]}),e.jsxs("div",{className:"card-body scrollable-table scrollable-container",children:[e.jsxs(ne,{ref:v,removeWrapper:!0,color:"primary",selectionMode:"single",children:[e.jsxs(oe,{children:[e.jsx(l,{children:"LRN"}),e.jsx(l,{children:"First Name"}),e.jsx(l,{children:"Last Name"}),e.jsx(l,{children:"Age"}),e.jsx(l,{children:"Section"}),e.jsx(l,{children:"Birthday"}),e.jsx(l,{children:"Mother Tongue"}),e.jsx(l,{children:"Gender"}),e.jsx(l,{children:"Status"})," ",e.jsx(l,{className:"text-center",children:"Actions"})]}),e.jsx(ce,{emptyContent:"No rows to display.",children:U.map(t=>e.jsxs(de,{children:[e.jsx(r,{children:t.LRN}),e.jsx(r,{children:t.FirstName}),e.jsx(r,{children:t.LastName}),e.jsx(r,{children:t.Age}),e.jsx(r,{children:t.Section}),e.jsx(r,{children:t.Birthday}),e.jsx(r,{children:t.MotherTongue}),e.jsx(r,{children:t.Gender}),e.jsx(r,{children:e.jsx("span",{className:O(t.status),children:t.status})}),e.jsx(r,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(c,{color:"primary",size:"sm",onClick:()=>z(t),children:"View"}),e.jsx(c,{color:"secondary",size:"sm",onClick:()=>V(t),children:"Edit"}),e.jsx(c,{color:"danger",size:"sm",onClick:()=>I(t),children:"Delete"})]})})]},t._id))})]}),e.jsx(K,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(N.length/u),marginPagesDisplayed:2,pageRangeDisplayed:10,onPageChange:G,containerClassName:"pagination",activeClassName:"active"})]})]})})})})]})},qe=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6]",children:e.jsx(Q,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx($,{}),e.jsx(me,{})]})]});export{qe as default};
