import{u as C,c as k,r as l,j as s,n as c,a as S}from"./index-46g2bTDn.js";import{F as o,a as f,b as u}from"./index-DNBWh895.js";import{c as V,a as _}from"./chunk-H4VOEXHF-3H74hM7n.js";import{i as x}from"./chunk-GQQM5TNQ-L-PYr1s4.js";import{b as p}from"./chunk-DBLREEYE-BXO_GMqR.js";import"./useField-BjMqx42N.js";import"./useLabels-BPo4wpnf.js";import"./useFormReset-CCBh5ESW.js";const A=()=>{const d=C(),{id:b,token:w}=k(),[r,y]=l.useState(!1),g=()=>y(!r),[n,h]=l.useState(!1),j=()=>h(!n),[e,i]=l.useState({password:"",confirmPassword:""}),v=()=>{d("/login")},N=async t=>{t.preventDefault();const{password:m,confirmPassword:P}=e;if(m!==P){c.error("Passwords do not match");return}try{const{data:a}=await S.post(`/api/reset-password/${b}/${w}`,{password:m});a.error?c.error(a.error):(i({}),c.success("Reset Password Successful."),d("/login"))}catch(a){console.log(a)}};return s.jsx("div",{className:"flex bg-[#f6fbff] w-full h-screen ",children:s.jsx("div",{className:"w-full flex flex-col items-center justify-center m-3",children:s.jsxs(V,{className:"w-[50%] flex flex-col p-4 ",children:[s.jsx("h1",{className:"text-3xl font-bold items-center justify-center",children:"Reset Password"}),s.jsx("p",{className:"text-sm items-center justify-center mt-2",children:"Please input your new password to your account."}),s.jsx(_,{children:s.jsxs("form",{onSubmit:N,children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(x,{name:"password",label:"Password",variant:"bordered",className:"py-1 my-0 mb-2",value:e.password,onChange:t=>i({...e,password:t.target.value}),endContent:s.jsx("button",{className:"focus:outline-none",type:"button",onClick:g,"aria-label":"toggle password visibility",children:r?s.jsx(o,{icon:f,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}):s.jsx(o,{icon:u,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),type:r?"text":"password"}),s.jsx(x,{name:"confirmPassword",label:"Confirm Password",variant:"bordered",className:"py-1 my-0 mb-2",endContent:s.jsx("button",{className:"focus:outline-none",type:"button",onClick:j,"aria-label":"toggle password visibility",children:n?s.jsx(o,{icon:f,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}):s.jsx(o,{icon:u,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),type:n?"text":"password",value:e.confirmPassword,onChange:t=>i({...e,confirmPassword:t.target.value})})]}),s.jsxs("div",{className:"w-full flex items-center justify-center gap-6 my-4",children:[s.jsx(p,{className:"my-2",size:"lg",radius:"md",color:"danger",variant:"light",onClick:v,children:"Back"}),s.jsx(p,{type:"submit",className:"my-2",size:"lg",radius:"md",color:"primary",children:"Submit"})]})]})})]})})})};export{A as default};
