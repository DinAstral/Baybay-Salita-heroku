import{j as e,r as D,a as de}from"./index-CTjF65Bf.js";import{A as De}from"./AdminSidebar-LWyvR1-U.js";import"./index-DW8klAfn.js";import{F as U,d as Fe,e as ae,g as ce,h as He}from"./index-BEPVNJaY.js";import{t as ze}from"./profile-DzgRJjWV.js";import{_ as F}from"./extends-CF3RwP-h.js";import{_ as Y}from"./objectWithoutPropertiesLoose-CAYKN5F1.js";import{p as Re,c as Z,s as J,a as V,h as Ae,e as O,t as Oe,b as ne,m as me,d as je,f as H,g as ye,i as Ge,j as Ue,k as Ce,l as Pe,n as Le,u as Be,o as ge,q as $e,r as _e,v as Te,w as Ie,x as ve,y as We,D as qe,z as Je,A as Ve,R as Xe,B as Ze,C as Ke,E as Qe,F as Ye,G as es,H as ss,I as ue}from"./BarChart-ePn6Q7bA.js";import{s as Ne,l as ie}from"./chunk-CEHIK4GH-D_U5Y1oD.js";import{C as ts}from"./ContentHeader-BG8XZ0b8.js";import"./chunk-DBLREEYE-BCf7xM7G.js";import"./useOverlayTriggerState-b4fMS1Sn.js";import"./chunk-CIZQCQPA-p8uCXWEl.js";import"./createPopper-iTKh2FQm.js";import"./useField-C46DdfRE.js";import"./useLabels-u1a-u8ee.js";import"./useDialog-D0dhXZxj.js";import"./VisuallyHidden-Da3cub3c.js";import"./useFormReset-Bsa8XPzW.js";const xe=Math.PI,fe=2*xe,K=1e-6,as=fe-K;function ke(s){this._+=s[0];for(let t=1,a=s.length;t<a;++t)this._+=arguments[t]+s[t]}function is(s){let t=Math.floor(s);if(!(t>=0))throw new Error(`invalid digits: ${s}`);if(t>15)return ke;const a=10**t;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*a)/a+i[r]}}class ns{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ke:is(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,i,r){this._append`Q${+t},${+a},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,a,i,r,o,g){this._append`C${+t},${+a},${+i},${+r},${this._x1=+o},${this._y1=+g}`}arcTo(t,a,i,r,o){if(t=+t,a=+a,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let g=this._x1,d=this._y1,x=i-t,c=r-a,n=g-t,f=d-a,l=n*n+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(l>K)if(!(Math.abs(f*x-c*n)>K)||!o)this._append`L${this._x1=t},${this._y1=a}`;else{let u=i-g,R=r-d,A=x*x+c*c,w=u*u+R*R,p=Math.sqrt(A),b=Math.sqrt(l),j=o*Math.tan((xe-Math.acos((A+l-w)/(2*p*b)))/2),y=j/b,v=j/p;Math.abs(y-1)>K&&this._append`L${t+y*n},${a+y*f}`,this._append`A${o},${o},0,0,${+(f*u>n*R)},${this._x1=t+v*x},${this._y1=a+v*c}`}}arc(t,a,i,r,o,g){if(t=+t,a=+a,i=+i,g=!!g,i<0)throw new Error(`negative radius: ${i}`);let d=i*Math.cos(r),x=i*Math.sin(r),c=t+d,n=a+x,f=1^g,l=g?r-o:o-r;this._x1===null?this._append`M${c},${n}`:(Math.abs(this._x1-c)>K||Math.abs(this._y1-n)>K)&&this._append`L${c},${n}`,i&&(l<0&&(l=l%fe+fe),l>as?this._append`A${i},${i},0,1,${f},${t-d},${a-x}A${i},${i},0,1,${f},${this._x1=c},${this._y1=n}`:l>K&&this._append`A${i},${i},0,${+(l>=xe)},${f},${this._x1=t+i*Math.cos(o)},${this._y1=a+i*Math.sin(o)}`)}rect(t,a,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function rs(s){let t=3;return s.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const i=Math.floor(a);if(!(i>=0))throw new RangeError(`invalid digits: ${a}`);t=i}return s},()=>new ns(t)}function ls(s){return s.innerRadius}function os(s){return s.outerRadius}function ds(s){return s.startAngle}function cs(s){return s.endAngle}function us(s){return s&&s.padAngle}function hs(s,t,a,i,r,o,g,d){var x=a-s,c=i-t,n=g-r,f=d-o,l=f*x-n*c;if(!(l*l<O))return l=(n*(t-o)-f*(s-r))/l,[s+l*x,t+l*c]}function he(s,t,a,i,r,o,g){var d=s-a,x=t-i,c=(g?o:-o)/ne(d*d+x*x),n=c*x,f=-c*d,l=s+n,u=t+f,R=a+n,A=i+f,w=(l+R)/2,p=(u+A)/2,b=R-l,j=A-u,y=b*b+j*j,v=r-o,S=l*A-R*u,$=(j<0?-1:1)*ne(Ue(0,v*v*y-S*S)),T=(S*j-b*$)/y,P=(-S*b-j*$)/y,I=(S*j+b*$)/y,k=(-S*b+j*$)/y,E=T-w,m=P-p,N=I-w,G=k-p;return E*E+m*m>N*N+G*G&&(T=I,P=k),{cx:T,cy:P,x01:-n,y01:-f,x11:T*(r/v-1),y11:P*(r/v-1)}}function Ee(){var s=ls,t=os,a=V(0),i=null,r=ds,o=cs,g=us,d=null,x=rs(c);function c(){var n,f,l=+s.apply(this,arguments),u=+t.apply(this,arguments),R=r.apply(this,arguments)-Ae,A=o.apply(this,arguments)-Ae,w=je(A-R),p=A>R;if(d||(d=n=x()),u<l&&(f=u,u=l,l=f),!(u>O))d.moveTo(0,0);else if(w>Oe-O)d.moveTo(u*Z(R),u*J(R)),d.arc(0,0,u,R,A,!p),l>O&&(d.moveTo(l*Z(A),l*J(A)),d.arc(0,0,l,A,R,p));else{var b=R,j=A,y=R,v=A,S=w,$=w,T=g.apply(this,arguments)/2,P=T>O&&(i?+i.apply(this,arguments):ne(l*l+u*u)),I=me(je(u-l)/2,+a.apply(this,arguments)),k=I,E=I,m,N;if(P>O){var G=ye(P/l*J(T)),B=ye(P/u*J(T));(S-=G*2)>O?(G*=p?1:-1,y+=G,v-=G):(S=0,y=v=(R+A)/2),($-=B*2)>O?(B*=p?1:-1,b+=B,j-=B):($=0,b=j=(R+A)/2)}var W=u*Z(b),q=u*J(b),re=l*Z(v),ee=l*J(v);if(I>O){var se=u*Z(j),te=u*J(j),le=l*Z(y),oe=l*J(y),h;if(w<Re)if(h=hs(W,q,le,oe,se,te,re,ee)){var C=W-h[0],L=q-h[1],_=se-h[0],M=te-h[1],z=1/J(Ge((C*_+L*M)/(ne(C*C+L*L)*ne(_*_+M*M)))/2),X=ne(h[0]*h[0]+h[1]*h[1]);k=me(I,(l-X)/(z-1)),E=me(I,(u-X)/(z+1))}else k=E=0}$>O?E>O?(m=he(le,oe,W,q,u,E,p),N=he(se,te,re,ee,u,E,p),d.moveTo(m.cx+m.x01,m.cy+m.y01),E<I?d.arc(m.cx,m.cy,E,H(m.y01,m.x01),H(N.y01,N.x01),!p):(d.arc(m.cx,m.cy,E,H(m.y01,m.x01),H(m.y11,m.x11),!p),d.arc(0,0,u,H(m.cy+m.y11,m.cx+m.x11),H(N.cy+N.y11,N.cx+N.x11),!p),d.arc(N.cx,N.cy,E,H(N.y11,N.x11),H(N.y01,N.x01),!p))):(d.moveTo(W,q),d.arc(0,0,u,b,j,!p)):d.moveTo(W,q),!(l>O)||!(S>O)?d.lineTo(re,ee):k>O?(m=he(re,ee,se,te,l,-k,p),N=he(W,q,le,oe,l,-k,p),d.lineTo(m.cx+m.x01,m.cy+m.y01),k<I?d.arc(m.cx,m.cy,k,H(m.y01,m.x01),H(N.y01,N.x01),!p):(d.arc(m.cx,m.cy,k,H(m.y01,m.x01),H(m.y11,m.x11),!p),d.arc(0,0,l,H(m.cy+m.y11,m.cx+m.x11),H(N.cy+N.y11,N.cx+N.x11),p),d.arc(N.cx,N.cy,k,H(N.y11,N.x11),H(N.y01,N.x01),!p))):d.arc(0,0,l,v,y,p)}if(d.closePath(),n)return d=null,n+""||null}return c.centroid=function(){var n=(+s.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Re/2;return[Z(f)*n,J(f)*n]},c.innerRadius=function(n){return arguments.length?(s=typeof n=="function"?n:V(+n),c):s},c.outerRadius=function(n){return arguments.length?(t=typeof n=="function"?n:V(+n),c):t},c.cornerRadius=function(n){return arguments.length?(a=typeof n=="function"?n:V(+n),c):a},c.padRadius=function(n){return arguments.length?(i=n==null?null:typeof n=="function"?n:V(+n),c):i},c.startAngle=function(n){return arguments.length?(r=typeof n=="function"?n:V(+n),c):r},c.endAngle=function(n){return arguments.length?(o=typeof n=="function"?n:V(+n),c):o},c.padAngle=function(n){return arguments.length?(g=typeof n=="function"?n:V(+n),c):g},c.context=function(n){return arguments.length?(d=n??null,c):d},c}function Q(s,t){if(typeof s=="number")return s;if(s==="100%")return t;if(s.endsWith("%")){const a=Number.parseFloat(s.slice(0,s.length-1));if(!Number.isNaN(a))return a*t/100}if(s.endsWith("px")){const a=Number.parseFloat(s.slice(0,s.length-2));if(!Number.isNaN(a))return a}throw Error(`MUI X: Received an unknown value "${s}". It should be a number, or a string with a percentage value.`)}const gs=["classes","color","cornerRadius","dataIndex","endAngle","id","innerRadius","isFaded","isHighlighted","onClick","outerRadius","paddingAngle","startAngle","highlightScope"];function ms(s){return _e("MuiPieArc",s)}Ce("MuiPieArc",["root","highlighted","faded"]);const xs=s=>{const{classes:t,id:a,isFaded:i,isHighlighted:r}=s,o={root:["root",`series-${a}`,r&&"highlighted",i&&"faded"]};return $e(o,ms,t)},fs=Pe(Le.path,{name:"MuiPieArc",slot:"Root",overridesResolver:(s,t)=>t.arc})(({theme:s})=>({stroke:(s.vars||s).palette.background.paper,strokeWidth:1,strokeLinejoin:"round"}));function ps(s){const{classes:t,color:a,cornerRadius:i,dataIndex:r,endAngle:o,id:g,innerRadius:d,isFaded:x,isHighlighted:c,onClick:n,outerRadius:f,paddingAngle:l,startAngle:u}=s,R=Y(s,gs),A={id:g,dataIndex:r,classes:t,color:a,isFaded:x,isHighlighted:c},w=xs(A),p=Be();return e.jsx(fs,F({d:ge([u,o,l,d,f,i],(b,j,y,v,S,$)=>Ee().cornerRadius($)({padAngle:y,startAngle:b,endAngle:j,innerRadius:v,outerRadius:S})),visibility:ge([u,o],(b,j)=>b===j?"hidden":"visible"),onClick:n,cursor:n?"pointer":"unset",ownerState:A,className:w.root},R,p({type:"pie",seriesId:g,dataIndex:r})))}const bs={keys:s=>s.id,from:({innerRadius:s,outerRadius:t,cornerRadius:a,startAngle:i,endAngle:r,paddingAngle:o,color:g,isFaded:d})=>({innerRadius:s,outerRadius:(s+t)/2,cornerRadius:a,startAngle:(i+r)/2,endAngle:(i+r)/2,paddingAngle:o,fill:g,opacity:d?.3:1}),leave:({innerRadius:s,startAngle:t,endAngle:a})=>({innerRadius:s,outerRadius:s,startAngle:(t+a)/2,endAngle:(t+a)/2}),enter:({innerRadius:s,outerRadius:t,startAngle:a,endAngle:i})=>({innerRadius:s,outerRadius:t,startAngle:a,endAngle:i}),update:({innerRadius:s,outerRadius:t,cornerRadius:a,startAngle:i,endAngle:r,paddingAngle:o,color:g,isFaded:d})=>({innerRadius:s,outerRadius:t,cornerRadius:a,startAngle:i,endAngle:r,paddingAngle:o,fill:g,opacity:d?.3:1}),config:{tension:120,friction:14,clamp:!0}},Rs={keys:s=>s.id,from:({innerRadius:s,outerRadius:t,arcLabelRadius:a,cornerRadius:i,startAngle:r,endAngle:o,paddingAngle:g})=>({innerRadius:s,outerRadius:(s+t)/2,cornerRadius:i,arcLabelRadius:a,startAngle:(r+o)/2,endAngle:(r+o)/2,paddingAngle:g,opacity:0}),leave:({innerRadius:s,startAngle:t,endAngle:a})=>({innerRadius:s,outerRadius:s,arcLabelRadius:s,startAngle:(t+a)/2,endAngle:(t+a)/2,opacity:0}),enter:({innerRadius:s,outerRadius:t,startAngle:a,endAngle:i,arcLabelRadius:r})=>({innerRadius:s,outerRadius:t,startAngle:a,endAngle:i,arcLabelRadius:r,opacity:1}),update:({innerRadius:s,outerRadius:t,cornerRadius:a,startAngle:i,endAngle:r,paddingAngle:o,arcLabelRadius:g})=>({innerRadius:s,outerRadius:t,cornerRadius:a,startAngle:i,endAngle:r,paddingAngle:o,arcLabelRadius:g,opacity:1}),config:{tension:120,friction:14,clamp:!0}};function Me(s){const{id:t,data:a,faded:i,highlighted:r,paddingAngle:o=0,innerRadius:g=0,arcLabelRadius:d,outerRadius:x,cornerRadius:c=0}=s,{isFaded:n,isHighlighted:f}=Te();return D.useMemo(()=>a.map((u,R)=>{const A={seriesId:t,dataIndex:R},w=f(A),p=!w&&n(A),b=F({additionalRadius:0},p&&i||w&&r||{}),j=Math.max(0,Math.PI*(b.paddingAngle??o)/180),y=Math.max(0,b.innerRadius??g),v=Math.max(0,b.outerRadius??x+b.additionalRadius),S=b.cornerRadius??c,$=b.arcLabelRadius??d??(y+v)/2;return F({},u,b,{isFaded:p,isHighlighted:w,paddingAngle:j,innerRadius:y,outerRadius:v,cornerRadius:S,arcLabelRadius:$})}),[c,g,x,o,d,a,i,r,n,f,t])}const As=["slots","slotProps","innerRadius","outerRadius","cornerRadius","paddingAngle","id","highlighted","faded","data","onItemClick","skipAnimation"],js=["startAngle","endAngle","paddingAngle","innerRadius","arcLabelRadius","outerRadius","cornerRadius"];function ys(s){const{slots:t,slotProps:a,innerRadius:i=0,outerRadius:r,cornerRadius:o=0,paddingAngle:g=0,id:d,highlighted:x,faded:c={additionalRadius:-5},data:n,onItemClick:f,skipAnimation:l}=s,u=Y(s,As),R=Me({innerRadius:i,outerRadius:r,cornerRadius:o,paddingAngle:g,id:d,highlighted:x,faded:c,data:n}),A=Ie(R,F({},bs,{immediate:l})),{highlightScope:w}=Te();if(n.length===0)return null;const p=(t==null?void 0:t.pieArc)??ps;return e.jsx("g",F({},u,{children:A((b,j,y,v)=>{let{startAngle:S,endAngle:$,paddingAngle:T,innerRadius:P,outerRadius:I,cornerRadius:k}=b,E=Y(b,js);return e.jsx(p,F({startAngle:S,endAngle:$,paddingAngle:T,innerRadius:P,outerRadius:I,cornerRadius:k,style:E,id:d,color:j.color,dataIndex:v,highlightScope:w,isFaded:j.isFaded,isHighlighted:j.isHighlighted,onClick:f&&(m=>{f(m,{type:"pie",seriesId:d,dataIndex:v},j)})},a==null?void 0:a.pieArc))})}))}const vs=["id","classes","color","startAngle","endAngle","paddingAngle","arcLabelRadius","innerRadius","outerRadius","cornerRadius","formattedArcLabel","isHighlighted","isFaded","style"];function Ns(s){return _e("MuiPieArcLabel",s)}Ce("MuiPieArcLabel",["root","highlighted","faded"]);const ws=s=>{const{classes:t,id:a,isFaded:i,isHighlighted:r}=s,o={root:["root",`series-${a}`,r&&"highlighted",i&&"faded"]};return $e(o,Ns,t)},Ss=Pe(Le.text,{name:"MuiPieArcLabel",slot:"Root",overridesResolver:(s,t)=>t.root})(({theme:s})=>({fill:(s.vars||s).palette.text.primary,textAnchor:"middle",dominantBaseline:"middle",pointerEvents:"none"})),we=(s,t)=>(a,i,r,o,g)=>{if(!s)return 0;const[d,x]=Ee().cornerRadius(g).centroid({padAngle:r,startAngle:a,endAngle:i,innerRadius:o,outerRadius:o});return t==="x"?d:x};function Cs(s){const{id:t,classes:a,color:i,startAngle:r,endAngle:o,paddingAngle:g,arcLabelRadius:d,cornerRadius:x,formattedArcLabel:c,isHighlighted:n,isFaded:f,style:l}=s,u=Y(s,vs),A=ws({id:t,classes:a,color:i,isFaded:f,isHighlighted:n});return e.jsx(Ss,F({className:A.root},u,{style:F({x:ge([r,o,g,d,x],we(c,"x")),y:ge([r,o,g,d,x],we(c,"y"))},l),children:c}))}const Ps=["arcLabel","arcLabelMinAngle","arcLabelRadius","cornerRadius","data","faded","highlighted","id","innerRadius","outerRadius","paddingAngle","skipAnimation","slotProps","slots"],Ls=["startAngle","endAngle","paddingAngle","innerRadius","outerRadius","arcLabelRadius","cornerRadius"],$s=180/Math.PI;function _s(s,t,a){var r;if(!s||(a.endAngle-a.startAngle)*$s<t)return null;switch(s){case"label":return ve(a.label,"arc");case"value":return(r=a.value)==null?void 0:r.toString();case"formattedValue":return a.formattedValue;default:return s(F({},a,{label:ve(a.label,"arc")}))}}function Ts(s){const{arcLabel:t,arcLabelMinAngle:a=0,arcLabelRadius:i,cornerRadius:r=0,data:o,faded:g={additionalRadius:-5},highlighted:d,id:x,innerRadius:c,outerRadius:n,paddingAngle:f=0,skipAnimation:l,slotProps:u,slots:R}=s,A=Y(s,Ps),w=Me({innerRadius:c,outerRadius:n,arcLabelRadius:i,cornerRadius:r,paddingAngle:f,id:x,highlighted:d,faded:g,data:o}),p=Ie(w,F({},Rs,{immediate:l}));if(o.length===0)return null;const b=(R==null?void 0:R.pieArcLabel)??Cs;return e.jsx("g",F({},A,{children:p((j,y)=>{let{startAngle:v,endAngle:S,paddingAngle:$,innerRadius:T,outerRadius:P,arcLabelRadius:I,cornerRadius:k}=j,E=Y(j,Ls);return e.jsx(b,F({startAngle:v,endAngle:S,paddingAngle:$,innerRadius:T,outerRadius:P,arcLabelRadius:I,cornerRadius:k,style:E,id:x,color:y.color,isFaded:y.isFaded,isHighlighted:y.isHighlighted,formattedArcLabel:_s(t,a,y)},u==null?void 0:u.pieArcLabel))})}))}function Se(s,t){const{height:a,width:i}=t,{cx:r,cy:o}=s,g=Math.min(i,a)/2,d=Q(r??"50%",i),x=Q(o??"50%",a);return{cx:d,cy:x,availableRadius:g}}function Is(s){const{skipAnimation:t,slots:a,slotProps:i,onItemClick:r}=s,o=We(),{left:g,top:d,width:x,height:c}=D.useContext(qe);if(o===void 0)return null;const{series:n,seriesOrder:f}=o;return e.jsxs("g",{children:[f.map(l=>{const{innerRadius:u,outerRadius:R,cornerRadius:A,paddingAngle:w,data:p,cx:b,cy:j,highlighted:y,faded:v}=n[l],{cx:S,cy:$,availableRadius:T}=Se({cx:b,cy:j},{width:x,height:c}),P=Q(R??T,T),I=Q(u??0,T);return e.jsx("g",{transform:`translate(${g+S}, ${d+$})`,children:e.jsx(ys,{innerRadius:I,outerRadius:P,cornerRadius:A,paddingAngle:w,id:l,data:p,skipAnimation:t,highlighted:y,faded:v,onItemClick:r,slots:a,slotProps:i})},l)}),f.map(l=>{const{innerRadius:u,outerRadius:R,arcLabelRadius:A,cornerRadius:w,paddingAngle:p,arcLabel:b,arcLabelMinAngle:j,data:y,cx:v,cy:S}=n[l],{cx:$,cy:T,availableRadius:P}=Se({cx:v,cy:S},{width:x,height:c}),I=Q(R??P,P),k=Q(u??0,P),E=A===void 0?(I+k)/2:Q(A,P);return e.jsx("g",{transform:`translate(${g+$}, ${d+T})`,children:e.jsx(Ts,{innerRadius:k,outerRadius:I??P,arcLabelRadius:E,cornerRadius:w,paddingAngle:p,id:l,data:y,skipAnimation:t,arcLabel:b,arcLabelMinAngle:j,slots:a,slotProps:i})},l)})]})}const ks=["xAxis","yAxis","series","width","height","margin","colors","sx","tooltip","axisHighlight","skipAnimation","legend","topAxis","leftAxis","rightAxis","bottomAxis","children","slots","slotProps","onItemClick","loading","highlightedItem","onHighlightChange","className"],Es={top:5,bottom:5,left:5,right:100},Ms={top:5,bottom:5,left:100,right:5},Ds=D.forwardRef(function(t,a){const i=Je({props:t,name:"MuiPieChart"}),{xAxis:r,yAxis:o,series:g,width:d,height:x,margin:c,colors:n,sx:f,tooltip:l={trigger:"item"},axisHighlight:u={x:"none",y:"none"},skipAnimation:R,legend:A,topAxis:w=null,leftAxis:p=null,rightAxis:b=null,bottomAxis:j=null,children:y,slots:v,slotProps:S,onItemClick:$,loading:T,highlightedItem:P,onHighlightChange:I,className:k}=i,E=Y(i,ks),m=Ve(),N=F({},m?Ms:Es,c),G=F({direction:"column",position:{vertical:"middle",horizontal:m?"left":"right"}},A);return e.jsxs(Xe,F({},E,{ref:a,series:g.map(B=>F({type:"pie"},B)),width:d,height:x,margin:N,xAxis:r??[{id:Ze,scaleType:"point",data:[...new Array(Math.max(...g.map(B=>B.data.length)))].map((B,W)=>W)}],yAxis:o,colors:n,sx:f,disableAxisListener:(l==null?void 0:l.trigger)!=="axis"&&(u==null?void 0:u.x)==="none"&&(u==null?void 0:u.y)==="none",highlightedItem:P,onHighlightChange:I,className:k,children:[e.jsx(Ke,{topAxis:w,leftAxis:p,rightAxis:b,bottomAxis:j,slots:v,slotProps:S}),e.jsx(Is,{slots:v,slotProps:S,onItemClick:$,skipAnimation:R}),e.jsx(Qe,{loading:T,slots:v,slotProps:S}),e.jsx(Ye,F({},G,{slots:v,slotProps:S})),e.jsx(es,F({},u)),!T&&e.jsx(ss,F({},l,{slots:v,slotProps:S})),y]}))}),Fs=()=>{const[s,t]=D.useState([]),[a,i]=D.useState([]),[r,o]=D.useState([]),[g,d]=D.useState(0),[x,c]=D.useState(0);D.useState([]);const[n,f]=D.useState("Pagbabaybay"),[l,u]=D.useState([]),[R,A]=D.useState({}),[w,p]=D.useState("All Sections"),[b,j]=D.useState({}),y=["Aster","Camia","Dahlia","Iris","Jasmin","Orchid","Rose","Tulip","SSC"],[v,S]=D.useState({Aster:0,Camia:0,Dahlia:0,Iris:0,Jasmin:0,Orchid:0,Rose:0,Tulip:0,SSC:0}),[$,T]=D.useState({Aster:0,Camia:0,Dahlia:0,Iris:0});D.useState({scores:[],counts:[]});const[P,I]=D.useState({Incomplete:0,LowEmergingReader:0,HighEmergingReader:0,DevelopingReader:0,TransitioningReader:0,GradeLevelReader:0});D.useEffect(()=>{(async()=>{try{await Promise.all([k(),E(),m()]),await N(),se()}catch(C){console.error("Error fetching data:",C)}})()},[n]);const k=async()=>{try{const C=(await de.get("/api/users")).data;t(C),d(G(C,"Teacher")),c(G(C,"Parent"))}catch(h){console.error("Error fetching users:",h)}},E=async()=>{try{const C=(await de.get("/api/getStudents")).data;i(C);const L={Incomplete:0,LowEmergingReader:0,HighEmergingReader:0,DevelopingReader:0,TransitioningReader:0,GradeLevelReader:0};C.forEach(M=>{switch(M.status){case"Incomplete":L.Incomplete+=1;break;case"Low Emerging Reader":L.LowEmergingReader+=1;break;case"High Emerging Reader":L.HighEmergingReader+=1;break;case"Developing Reader":L.DevelopingReader+=1;break;case"Transitioning Reader":L.TransitioningReader+=1;break;case"Grade Level Reader":L.GradeLevelReader+=1;break;default:break}}),I(L);const _=B(C);S(_.totalCounts),j(_.statusCounts)}catch(h){console.error("Error fetching students:",h)}},m=async()=>{try{const C=(await de.get("/api/getAssessments")).data,_=["Pagbabaybay","Pantig","Salita","Pagbabasa"].reduce((M,z)=>(M[z]=C.filter(X=>X.Type===z).length,M),{});o(C),T(_)}catch(h){console.error("Error fetching assessments:",h)}},N=async()=>{try{const C=(await de.get("/api/getPerformance")).data;u(C)}catch(h){console.error("Error fetching performance:",h)}},G=(h,C)=>h.filter(L=>L.role===C).length,B=h=>{const C=["Aster","Camia","Dahlia","Iris","Jasmin","Orchid","Rose","Tulip","SSC"],L=["Incomplete","Low Emerging Reader","High Emerging Reader","Developing Reader","Transitioning Reader","Grade Level Reader"],_={},M={};return C.forEach(z=>{_[z]=0,M[z]={},L.forEach(X=>{const pe=h.filter(be=>be.Section===z&&be.status===X).length;M[z][X]=pe,_[z]+=pe})}),{totalCounts:_,statusCounts:M}},W=h=>{switch(h){case"Incomplete":return"#ff505b";case"Low Emerging Reader":return"#ff7828";case"High Emerging Reader":return"#DC84F3";case"Developing Reader":return"#4b99f5";case"Transitioning Reader":return"#ffce1f";case"Grade Level Reader":return"#FF8080";default:return"#ccc"}},q=Object.keys(v),ee=["Incomplete","Low Emerging Reader","High Emerging Reader","Developing Reader","Transitioning Reader","Grade Level Reader"].map(h=>({data:q.map(C=>b[C]&&b[C][h]||0),label:h,color:W(h)}));a.map(h=>{const C=l.filter(_=>_.LRN===h.LRN),L=r.map(_=>{const M=C.find(z=>z.Type===_.Type);return M?parseInt(M.Score,10):0});return{studentName:h.Name,scores:L}}),r.map(h=>h.Type);const se=()=>{const h={};y.forEach(L=>{h[L]=[]}),l.forEach(L=>{const _=a.find(M=>M.LRN===L.LRN);if(_&&_.Section){const M=_.Section;L.Type===n&&h[M].push(parseInt(L.Score,10))}});const C={};y.forEach(L=>{const _=h[L];C[L]=_.length?_.reduce((M,z)=>M+z,0)/_.length:0}),A(C)},te=()=>w==="All Sections"?{labels:Object.keys(R),data:Object.values(R)}:{labels:[w],data:[R[w]||0]},{labels:le,data:oe}=te();return e.jsxs("div",{className:"px-9",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Admin Dashboard"}),e.jsx(ze,{showArrow:!0,content:e.jsxs("div",{className:"p-2 text-sm",children:[e.jsx("div",{className:"font-bold",children:"Dashboard Info"}),e.jsx("p",{children:"View system data for each section."})]}),children:e.jsx(U,{icon:Fe,className:"ml-2 text-black"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-[#fb6ea4] rounded-lg shadow p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Students"}),e.jsx("p",{className:"text-5xl mt-2",children:a.length})]}),e.jsx("div",{children:e.jsx(U,{icon:ae,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#7668d2] rounded-lg shadow p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Teachers"}),e.jsx("p",{className:"text-5xl mt-2",children:g})]}),e.jsx("div",{children:e.jsx(U,{icon:ce,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#91c123] rounded-lg shadow p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Parents"}),e.jsx("p",{className:"text-5xl mt-2",children:x})]}),e.jsx("div",{children:e.jsx(U,{icon:He,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-1 bg-white rounded-lg shadow p-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"User Distribution"}),e.jsx("div",{className:"pt-8 pl-5",children:e.jsx(Ds,{series:[{data:[{id:1,value:a.length,label:"Students"},{id:2,value:g,label:"Teachers"},{id:3,value:x,label:"Parents"}]}],width:400,height:200})})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-2 bg-white rounded-lg shadow p-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Students Per Section"}),e.jsx(ue,{xAxis:[{label:"Sections",scaleType:"band",data:q,tickSize:10}],yAxis:[{label:"Number of Students",tickCount:6,grid:!0}],series:[{data:Object.values(v),color:"#4b99f5",label:"Total Students"}],height:300})]})]}),e.jsxs("div",{className:"mt-6 bg-white p-6 rounded-md shadow",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 items-center flex flex-col",children:"Student Status"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-[#ff505b] rounded-lg shadow-md p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Incomplete"}),e.jsx("p",{className:"text-5xl mt-2",children:P.Incomplete})]}),e.jsx("div",{children:e.jsx(U,{icon:ae,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#ff7828] rounded-lg shadow-md p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Low Emerging Reader"}),e.jsx("p",{className:"text-5xl mt-2",children:P.LowEmergingReader})]}),e.jsx("div",{children:e.jsx(U,{icon:ce,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#DC84F3] rounded-lg shadow-md p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"High Emerging Reader"}),e.jsx("p",{className:"text-5xl mt-2",children:P.HighEmergingReader})]}),e.jsx("div",{children:e.jsx(U,{icon:ce,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#4b99f5] rounded-lg shadow-md p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Developing Reader"}),e.jsx("p",{className:"text-5xl mt-2",children:P.DevelopingReader})]}),e.jsx("div",{children:e.jsx(U,{icon:ae,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#ffce1f] rounded-lg shadow-md p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Transitioning Reader"}),e.jsx("p",{className:"text-5xl mt-2",children:P.TransitioningReader})]}),e.jsx("div",{children:e.jsx(U,{icon:ae,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#FF8080] rounded-lg shadow-md p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Grade Level Reader"}),e.jsx("p",{className:"text-5xl mt-2",children:P.GradeLevelReader})]}),e.jsx("div",{children:e.jsx(U,{icon:ae,size:"2xl",className:"text-md",inverse:!0})})]})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-2 bg-slate-100 rounded-lg shadow-md p-4 mt-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Student Status Per Section"}),e.jsx(ue,{xAxis:[{label:"Sections",scaleType:"band",data:q,tickSize:10}],yAxis:[{label:"Number of Students",tickCount:6,grid:!0,max:20,tickFormat:h=>Math.floor(h)}],series:ee,gap:20,height:500})]})]}),e.jsxs("div",{className:"mt-6 bg-white p-6 rounded-md shadow",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4 items-center flex flex-col",children:"Student Assessment and Performance"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-[#7668d2] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Assessment"}),e.jsx("p",{className:"text-5xl mt-2",children:r.length})," "]}),e.jsx("div",{children:e.jsx(U,{icon:ce,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"bg-[#91c123] rounded-lg shadow-2xl p-4 flex flex-row justify-between",children:[e.jsxs("div",{className:"text-white",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Performance"}),e.jsx("p",{className:"text-5xl mt-2",children:l.length})," "]}),e.jsx("div",{children:e.jsx(U,{icon:ae,size:"2xl",className:"text-md",inverse:!0})})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-3 bg-slate-100 rounded-lg shadow-md p-4 mt-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Assessment Created"}),e.jsx(ue,{xAxis:[{label:"Activities",scaleType:"band",data:Object.keys($),tickSize:10}],yAxis:[{label:"Number of Assessments",max:10,min:0,tickCount:6,tickFormat:h=>Math.floor(h),grid:!0}],series:[{data:Object.values($),color:"#7668d2",label:"Assessments"}],barsize:40,gap:30,height:500})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-3 bg-slate-100 rounded-lg shadow-md p-4 mt-6",children:[e.jsxs("div",{className:"flex justify-start gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Select Section:"}),e.jsxs(Ne,{variant:"bordered",className:"bg-white rounded-sm",placeholder:"All Sections",value:w,onChange:h=>p(h.target.value),children:[e.jsx(ie,{children:"All Sections"},"All Sections"),y.map(h=>e.jsx(ie,{children:h},h))]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Select Assessment:"}),e.jsxs(Ne,{variant:"bordered",className:"bg-white rounded-sm",placeholder:"Select Assessment",value:n,onChange:h=>f(h.target.value),children:[e.jsx(ie,{children:"Assessment 1"},"Pagbabaybay"),e.jsx(ie,{children:"Assessment 2"},"Pantig"),e.jsx(ie,{children:"Assessment 3"},"Salita"),e.jsx(ie,{children:"Assessment 4"},"Pagbabasa")]})]})]}),e.jsxs("h2",{className:"text-xl font-semibold",children:["Average Scores in ",n," Assessment"]}),e.jsx(ue,{xAxis:[{label:"Sections",scaleType:"band",data:le,tickSize:10}],yAxis:[{label:"Average Score",min:0,max:10,tickCount:6,tickFormat:h=>Math.floor(h)}],series:[{data:oe,color:"#91c123",label:"Average Score"}],height:500})]})]})]})]})},it=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(De,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(ts,{}),e.jsx(Fs,{})]})]});export{it as default};
