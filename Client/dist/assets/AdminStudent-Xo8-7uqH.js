import{j as e,L as Q,r as t,a as W}from"./index-B79Lp1Sb.js";import{A as X}from"./AdminSidebar-CckALMVt.js";import{l as Y}from"./index-BhCuoFHt.js";import{R as Z}from"./react-paginate-C4QOuzEa.js";import{P as y,F as p,d as $,i as ee,j as se}from"./index-D4iS7rHE.js";import{C as te}from"./ContentHeader-D9qUqZMF.js";import{P as ae,t as le,a as re,b as a,c as ie,d as ne,e as l}from"./PrintRecord-ey893QW0.js";import{V as oe,U as de}from"./UpdateStudent-D7gmFNIY.js";import{m as ce,a as he,b as me,c as xe}from"./chunk-P2T5LMDM-CsRz1fQ4.js";import{m as ue}from"./chunk-LT4XONRR-Cq-iOy3d.js";import{b as n}from"./chunk-DBLREEYE-C-H-JCr7.js";import{D as fe}from"./DeleteStudent-BrbO3XBM.js";import{t as R}from"./profile-DMRa1GgG.js";import{s as je,l as r}from"./chunk-CEHIK4GH-DxBeBya-.js";import{i as pe}from"./chunk-GQQM5TNQ-tY51uwqH.js";import"./getChildNodes-DIw3H4Lt.js";import"./useOverlayTriggerState-BuaucyBg.js";import"./useDialog-Bt-U2vEu.js";import"./useLabels-CHoZES-g.js";import"./VisuallyHidden-DEDZOC4H.js";import"./Overlay-Camil_-P.js";import"./chunk-KBN3H6OQ-DIhqdszT.js";import"./useField-CgV5KgWF.js";import"./chunk-CIZQCQPA-D7mxbdH2.js";import"./useFormReset-MCMICyhn.js";const D=({show:h,onHide:o})=>e.jsx(ce,{isOpen:h,onClose:o,"aria-labelledby":"add-user-modal-title",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(ue,{children:[e.jsx(he,{className:"flex flex-col",id:"add-user-modal-title",children:"Add Student Information"}),e.jsx(me,{children:e.jsx("p",{children:"Do you want to add student information?"})}),e.jsxs(xe,{children:[e.jsx(n,{color:"danger",variant:"light",onClick:o,children:"Cancel"}),e.jsx(Q,{to:"/adminAddStudent",children:e.jsx(n,{color:"primary",children:"Add"})})]})]})});D.propTypes={show:y.bool.isRequired,onHide:y.func.isRequired};const Se=()=>{const[h,o]=t.useState(!1),[P,S]=t.useState(!1),[k,b]=t.useState(!1),[A,g]=t.useState(!1),[L,m]=t.useState(!1),[x,w]=t.useState([]),[N,v]=t.useState([]),[u,f]=t.useState(null),[E,M]=t.useState(0),[j]=t.useState(10),[c,T]=t.useState(""),[d,F]=t.useState(""),C=t.useRef(null),{onDownload:H}=Y.useDownloadExcel({currentTableRef:C.current,filename:"Student_List_Report_table",sheet:"Students"});t.useEffect(()=>{W.get("/api/getStudents").then(s=>{w(s.data),v(s.data)}).catch(s=>console.log(s))},[]),t.useEffect(()=>{let s=x;d&&(s=s.filter(i=>i.FirstName.toLowerCase().includes(d.toLowerCase())||i.LastName.toLowerCase().includes(d.toLowerCase())||i.LRN.includes(d))),c&&(s=s.filter(i=>i.Section===c)),v(s)},[d,c,x]);const z=()=>{S(!0)},I=()=>{o(!0)},V=s=>{f(s),g(!0)},B=s=>{f(s),b(!0)},G=s=>{f(s),m(!0)},U=s=>{w(x.filter(i=>i._id!==s)),m(!1)},O=s=>{M(s.selected)},_=E*j,q=N.slice(_,_+j),J=s=>{const i=s.target.value;T(i)},K=s=>{switch(s){case"Grade Ready Reader":return"text-green-600 font-semibold";case"Transitioning Reader":return"text-blue-600 font-semibold";case"Developing Reader":return"text-orange-600 font-semibold";case"Low Emerging Reader":return"text-red-600 font-semibold";case"High Emerging Reader":return"text-red-600 font-semibold";case"Incomplete":return"text-gray-600 italic";default:return"text-black"}};return e.jsxs("div",{className:"px-9",children:[e.jsx(ae,{show:P,onHide:()=>S(!1),print:H}),e.jsx(D,{show:h,onHide:()=>o(!1)}),e.jsx(oe,{show:A,onHide:()=>g(!1),student:u}),e.jsx(de,{show:k,student:u,onHide:()=>b(!1)}),e.jsx(fe,{show:L,onHide:()=>m(!1),student:u,onDeleteSuccess:U}),e.jsxs("div",{className:"content-title-header",children:[e.jsxs("div",{children:["Manage Student",e.jsx(R,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Student Table"}),e.jsx("div",{className:"text-tiny",children:"This function will view the list of the students in each section."})]}),children:e.jsx(p,{icon:$,size:"1x",className:"help-icon"})})]}),e.jsx("div",{className:"generate-report",children:e.jsx(R,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Print"}),e.jsx("div",{className:"text-tiny",children:"Generate report/Print table"})]}),children:e.jsx(p,{icon:ee,size:"1x",className:"print-icon",onClick:z})})})]}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card mt-1 border-0",children:[e.jsxs("div",{className:"list-header-drop-score",children:[e.jsxs(je,{className:"w-[20%]",labelPlacement:"outside",label:"Section",variant:"bordered",defaultSelectedKeys:[""],onChange:J,"aria-label":"Filter students by section",value:c,children:[e.jsx(r,{children:"Select Section"},""),e.jsx(r,{children:"Aster"},"Aster"),e.jsx(r,{children:"Camia"},"Camia"),e.jsx(r,{children:"Dahlia"},"Dahlia"),e.jsx(r,{children:"Iris"},"Iris"),e.jsx(r,{children:"Jasmin"},"Jasmin"),e.jsx(r,{children:"Orchid"},"Orchid"),e.jsx(r,{children:"Rose"},"Rose"),e.jsx(r,{children:"Tulip"},"Tulip"),e.jsx(r,{children:"SSC"},"SSC")]}),e.jsx("div",{className:"w-[40%] flex pt-8",children:e.jsx(pe,{type:"text",placeholder:"Search Student Name or LRN",variant:"bordered",startContent:e.jsx(p,{icon:se,size:"1x",inverse:!0,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}),onChange:s=>F(s.target.value)})}),e.jsx("div",{className:"back-button-profile",children:e.jsx(n,{auto:!0,color:"primary",className:"",onClick:()=>I(),children:"Add Student"})})]}),e.jsxs("div",{className:"card-body scrollable-table scrollable-container",children:[e.jsxs(le,{ref:C,removeWrapper:!0,color:"primary",selectionMode:"single",children:[e.jsxs(re,{children:[e.jsx(a,{children:"LRN"}),e.jsx(a,{children:"First Name"}),e.jsx(a,{children:"Last Name"}),e.jsx(a,{children:"Age"}),e.jsx(a,{children:"Section"}),e.jsx(a,{children:"Birthday"}),e.jsx(a,{children:"Mother Tongue"}),e.jsx(a,{children:"Gender"}),e.jsx(a,{children:"Status"})," ",e.jsx(a,{className:"text-center",children:"Actions"})]}),e.jsx(ie,{emptyContent:"No rows to display.",children:q.map(s=>e.jsxs(ne,{children:[e.jsx(l,{children:s.LRN}),e.jsx(l,{children:s.FirstName}),e.jsx(l,{children:s.LastName}),e.jsx(l,{children:s.Age}),e.jsx(l,{children:s.Section}),e.jsx(l,{children:s.Birthday}),e.jsx(l,{children:s.MotherTongue}),e.jsx(l,{children:s.Gender}),e.jsx(l,{children:e.jsx("span",{className:K(s.status),children:s.status})}),e.jsx(l,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(n,{color:"default",size:"sm",onClick:()=>V(s),children:"View"}),e.jsx(n,{color:"primary",size:"sm",onClick:()=>B(s),children:"Update"}),e.jsx(n,{color:"danger",size:"sm",onClick:()=>G(s),children:"Delete"})]})})]},s._id))})]}),e.jsx(Z,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(N.length/j),marginPagesDisplayed:2,pageRangeDisplayed:10,onPageChange:O,containerClassName:"pagination",activeClassName:"active"})]})]})})})})]})},Oe=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(X,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(te,{}),e.jsx(Se,{})]})]});export{Oe as default};
