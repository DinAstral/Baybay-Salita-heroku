import{u as p,c as u,r as i,j as s,a as y,_ as N}from"./index-C0mq2pM1.js";import{A as f}from"./AdminSidebar-IiVpn-6z.js";import{C as b}from"./ContentHeader-DPLcpCle.js";import{F as v,d as A}from"./index-DXLE2NwT.js";import{t as o}from"./profile-CycooEAC.js";import{b as r}from"./chunk-DBLREEYE-CmAhUcF6.js";import{m as w,a as P,b as C,c as I}from"./chunk-P2T5LMDM-unMqp2aE.js";import"./useOverlayTriggerState-DcLuQhII.js";import"./chunk-CIZQCQPA-ByI2RMzI.js";import"./Overlay-BDkNJOCE.js";const _=()=>{const h=p(),{ActivityCode:d}=u(),[e,g]=i.useState({ActivityCode:"",Period:"",Type:"",Title:"",Sentence:"",Questions:[],Items:[]}),[j,n]=i.useState(!1),[l,c]=i.useState({type:"",src:""});i.useEffect(()=>{(async()=>{try{const t=await y.get(`/api/getActivity/${d}`);g(t.data)}catch{N.error("Failed to fetch assessment data. Please try again later.")}})()},[d]);const m=(a,t)=>{c({type:a,src:t}),n(!0)},x=()=>{n(!1),c({type:"",src:""})};return s.jsxs("div",{className:"p-10",children:[s.jsxs("div",{className:"flex items-center justify-start gap-2 mb-5",children:[s.jsx("h1",{className:"text-3xl font-semibold",children:"View Assessment"}),s.jsx(o,{showArrow:!0,content:s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-sm font-bold",children:"View Information"}),s.jsx("div",{className:"text-xs",children:"This section displays the assessment's information."})]}),children:s.jsx(v,{icon:A,className:"text-gray-600"})})]}),s.jsxs("div",{className:"w-full max-w-8xl mx-auto bg-white shadow-lg rounded-lg p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Assessment Details"}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Activity Code:"})," ",e.ActivityCode||"N/A"]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Period:"})," ",e.Period||"N/A"]}),s.jsxs("p",{className:"text-gray-700",children:[s.jsx("strong",{children:"Type:"})," ",e.Type||"N/A"]})]}),e.Type==="Pagbabasa"&&s.jsxs("div",{className:"mb-6 bg-gray-100 p-4 rounded-lg shadow",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Reading Activity"}),s.jsxs("p",{className:"text-gray-800",children:[s.jsx("strong",{children:"Title:"})," ",e.Title||"N/A"]}),s.jsxs("p",{className:"text-gray-800",children:[s.jsx("strong",{children:"Sentence:"})," ",e.Sentence||"N/A"]})]}),e.Type==="Pagbabasa"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Questions"}),e.Questions.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.Questions.map((a,t)=>s.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow",children:[s.jsxs("p",{className:"text-gray-800",children:[s.jsxs("strong",{children:["Question ",t+1,":"]})," ",a.Question||"N/A"]}),s.jsxs("p",{className:"text-gray-800",children:[s.jsx("strong",{children:"Answer:"})," ",a.Answer||"N/A"]})]},t))}):s.jsx("p",{className:"text-gray-700",children:"No questions available for this assessment."})]}),e.Type!=="Pagbabasa"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Items"}),e.Items.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.Items.map((a,t)=>s.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow",children:[s.jsxs("p",{className:"text-gray-800",children:[s.jsx("strong",{children:"Item Code:"})," ",a.ItemCode]}),s.jsxs("p",{className:"text-gray-800",children:[s.jsx("strong",{children:"Word:"})," ",a.Word||"N/A"]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[a.Image&&s.jsx(o,{content:"View Image",children:s.jsx(r,{color:"primary",size:"sm",className:"my-2",onPress:()=>m("image",a.SecureImage),children:"View Image"})}),a.Audio&&s.jsx(o,{content:"Play Audio",children:s.jsx(r,{color:"primary",size:"sm",className:"my-2",onPress:()=>m("audio",a.SecureAudio),children:"Play Audio"})})]})]},t))}):s.jsx("p",{className:"text-gray-700",children:"No items available for this assessment."})]}),s.jsx("div",{className:"mt-6",children:s.jsx(r,{color:"primary",onPress:()=>h(-1),className:"my-4",children:"Back"})})]}),s.jsxs(w,{isOpen:j,onClose:x,width:"600px","aria-labelledby":"modal-title",children:[s.jsx(P,{children:s.jsx("h3",{className:"text-lg font-semibold",children:l.type==="image"?"View Image":"Play Audio"})}),s.jsx(C,{children:l.type==="image"?s.jsx("img",{src:l.src,alt:"Cloudinary Image",style:{width:"100%",objectFit:"contain"}}):s.jsx("audio",{controls:!0,src:l.src,className:"w-full",children:"Your browser does not support the audio element."})}),s.jsx(I,{children:s.jsx(r,{color:"danger",variant:"light",onPress:x,children:"Close"})})]})]})},R=()=>s.jsxs("div",{className:"w-full h-full flex",children:[s.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:s.jsx(f,{})}),s.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[s.jsx(b,{}),s.jsx(_,{})]})]});export{R as default};
