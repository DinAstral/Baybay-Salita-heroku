import{r as t,j as e,a as z}from"./index-A7ZaZ4u8.js";import{A as B}from"./AdminSidebar-BxHLSzDy.js";import{l as H}from"./index-CH_NsAg_.js";import{F as N,d as O,i as W}from"./index-CaxXx6Tv.js";import{R as q}from"./react-paginate-C86u9zav.js";import{C as J}from"./ContentHeader-Bw-tufK8.js";import{P as K,t as Q,a as U,b as n,c as X,d as Y,e as d}from"./PrintRecord-D4MVCmYE.js";import{t as P}from"./profile-CjC0TWUN.js";import{s as w,l as a}from"./chunk-CEHIK4GH-Ci_k2Axj.js";import{b as S}from"./chunk-DBLREEYE-D8P85AZ_.js";import"./useOverlayTriggerState-BdGeqriK.js";import"./useDialog-CRxUUliV.js";import"./useLabels-BIMkgeY8.js";import"./VisuallyHidden-ioMxcth_.js";import"./Overlay-D_HhAsSD.js";import"./chunk-KBN3H6OQ-3zZ-S7EY.js";import"./chunk-CAFRINWI-CMvs8fyY.js";import"./useField-D5dkv_Ew.js";import"./chunk-CIZQCQPA-DsJBGEOY.js";import"./chunk-P2T5LMDM-QFyHCutd.js";import"./chunk-LT4XONRR-QAM0LgTb.js";import"./useFormReset-B5tvkxkm.js";const Z=()=>{t.useState(!1);const[_,p]=t.useState(!1),[$,j]=t.useState(null),[u,C]=t.useState([]),[f,b]=t.useState([]),[m,y]=t.useState(""),[x,R]=t.useState(""),[D,k]=t.useState([]),[g,h]=t.useState(0),[c]=t.useState(9),A=t.useRef(null),{onDownload:F}=H.useDownloadExcel({currentTableRef:A.current,filename:"Full_Assessment_Report",sheet:"Assessment",data:D.map(({_id:s,...l})=>l)}),G=()=>{z.get("/api/getAssessments").then(s=>{C(s.data),b(s.data),k(s.data),h(0)}).catch(s=>console.log(s))};t.useEffect(()=>{G()},[]);const E=()=>{p(!0)},v=(s,l)=>{const o=s.target.value;l==="period"?y(o):l==="type"&&R(o);let i=u;o!==""&&(i=u.filter(r=>l==="period"?r.Period===o:r.Type===o)),m&&l==="type"&&(i=i.filter(r=>r.Period===m)),x&&l==="period"&&(i=i.filter(r=>r.Type===x)),b(i),h(0)},M=g*c+c,T=g*c,I=f.slice(T,M),L=Math.ceil(f.length/c),V=s=>{h(s.selected)};return e.jsxs("div",{className:"px-9",children:[e.jsx(K,{show:_,onHide:()=>p(!1),print:F}),e.jsxs("div",{className:"content-title-header",children:[e.jsxs("div",{children:["Manage Student Assessment",e.jsx(P,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Assessment Table"}),e.jsx("div",{className:"text-tiny",children:"View detailed assessment reports here."})]}),children:e.jsx(N,{icon:O,size:"1x",className:"help-icon"})})]}),e.jsx("div",{className:"generate-report",children:e.jsx(P,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Print"}),e.jsx("div",{className:"text-tiny",children:"Generate report/Print table"})]}),children:e.jsx(N,{icon:W,size:"1x",className:"print-icon",onClick:E})})})]}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card mt-1 border-0",children:[e.jsx("div",{className:"list-header-drop-score",children:e.jsxs("div",{className:"flex flex-row gap-5 justify-start w-[100%]",children:[e.jsxs(w,{labelPlacement:"outside",label:"Grading Period",variant:"bordered",className:"bg-transparent w-[20%]",onChange:s=>v(s,"period"),value:m,children:[e.jsx(a,{children:"Select Grading Period"},""),e.jsx(a,{children:"Grading Period 1"},"1"),e.jsx(a,{children:"Grading Period 2"},"2"),e.jsx(a,{children:"Grading Period 3"},"3"),e.jsx(a,{children:"Grading Period 4"},"4")]}),e.jsxs(w,{className:"w-[20%]",labelPlacement:"outside",label:"Assessment",variant:"bordered",onChange:s=>v(s,"type"),value:x,children:[e.jsx(a,{children:"Select Type of Assessment:"},""),e.jsx(a,{children:"Assessment 1"},"Assessment 1"),e.jsx(a,{children:"Assessment 2"},"Assessment 2"),e.jsx(a,{children:"Assessment 3"},"Assessment 3"),e.jsx(a,{children:"Assessment 4"},"Assessment 4")]})]})}),e.jsx("div",{className:"card-body scrollable-table scrollable-container",children:e.jsxs(Q,{"aria-label":"Assessment Table",ref:A,removeWrapper:!0,color:"primary",selectionMode:"single",children:[e.jsxs(U,{children:[e.jsx(n,{children:"Activity Code"}),e.jsx(n,{children:"Grading Period"}),e.jsx(n,{children:"Section"}),e.jsx(n,{children:"Type"}),e.jsx(n,{children:"Status"}),e.jsx(n,{className:"text-center",children:"Actions"})]}),e.jsx(X,{emptyContent:"No activity to display.",children:I.map(s=>e.jsxs(Y,{children:[e.jsx(d,{children:s.ActivityCode}),e.jsx(d,{children:s.Period}),e.jsx(d,{children:s.Section}),e.jsx(d,{children:s.Type}),e.jsx(d,{children:s.Assessment}),e.jsx(d,{className:"text-center",children:e.jsxs("div",{className:"table-buttons",children:[e.jsx(S,{color:"primary",onClick:()=>{j(s),setModalShowView(!0)},children:"View"}),e.jsx(S,{className:"bg-[#ff505b] text-white",onClick:()=>{j(s),setModalShowSubmit(!0)},children:"Delete"})]})})]},s._id))})]})}),e.jsx("div",{className:"pagination-controls",children:e.jsx(q,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:L,marginPagesDisplayed:2,pageRangeDisplayed:9,onPageChange:V,containerClassName:"pagination",activeClassName:"active"})})]})})})})]})},Ne=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(B,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(J,{}),e.jsx(Z,{})]})]});export{Ne as default};
