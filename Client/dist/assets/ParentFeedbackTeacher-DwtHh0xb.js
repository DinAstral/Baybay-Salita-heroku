import{j as e,r as l,U as j,a as f,_ as h}from"./index-BXV9bpMK.js";import{C as N}from"./ContentHeader-BIjoHmmo.js";import{P as b}from"./ParentSidebar-CPR-amNF.js";import{F as g,d as y}from"./index-xgicLjPJ.js";import{h as v,u as w,f as F,Y as C,b as _}from"./chunk-DBLREEYE-15uI-xy1.js";import{u as D,c as P,a as R}from"./chunk-H4VOEXHF-Bb8e3f8p.js";import{t as k}from"./profile-Yf8RvZIk.js";import"./useOverlayTriggerState-3bp4qIh8.js";import"./chunk-CIZQCQPA-DsFahXx_.js";var p=v((a,n)=>{var o;const{as:t,className:m,children:x,...d}=a,s=t||"div",r=w(n),{slots:c,classNames:i}=D(),u=F(i==null?void 0:i.header,m);return e.jsx(s,{ref:r,className:(o=c.header)==null?void 0:o.call(c,{class:u}),...d,children:x})});p.displayName="NextUI.CardHeader";var E=p;const A=()=>{const{user:a}=l.useContext(j),[n,o]=l.useState([]),[t,m]=l.useState(null),[x,d]=l.useState(!0);return l.useEffect(()=>{f.get(`/api/getParent/${a.UserID}`).then(s=>{m(s.data),console.log("Parent Data:",s.data)}).catch(s=>{h.error("Failed to load parent data.")}).finally(()=>{d(!1)})},[a.UserID]),l.useEffect(()=>{const s=async()=>{try{const r=await f.get("/api/getFeedbacks");console.log("Feedback Data:",r.data);const c=r.data.filter(i=>i.LRN===t.LRN);o(c),console.log("Filtered Feedbacks:",c)}catch{h.error("Failed to load feedbacks. Please try again.")}finally{d(!1)}};a&&t&&t.LRN&&s()},[a,t]),x?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(C,{size:"lg",color:"primary"})}):e.jsxs("div",{className:"content-body px-9 py-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{className:"flex items-center justify-start gap-2",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Student Information"}),e.jsx(k,{showArrow:!0,content:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-sm font-bold",children:"View Feedback"}),e.jsx("div",{className:"text-xs",children:"This function allows you to view the teachers's feedback in the assessment."})]}),children:e.jsx(g,{icon:y,className:"text-gray-600"})})]})}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:n.length>0?n.map(s=>e.jsxs(P,{className:"shadow-lg hover:shadow-2xl",children:[e.jsxs(E,{className:"pb-0 pt-4 px-4 flex-col items-start",children:[e.jsx("p",{className:"text-lg uppercase font-bold text-primary",children:s.Title}),e.jsxs("small",{className:"text-default-900",children:[" ","Assessment Type: ",s.Type]}),e.jsxs("h4",{className:"font-bold text-sm mt-1",children:["Assessment Code: ",s.ActivityCode]})]}),e.jsxs(R,{className:"py-4",children:[e.jsxs("p",{className:"mb-1",children:[e.jsxs("span",{className:"font-semibold text-sm",children:["LRN: ",s.LRN]})," "]}),e.jsxs("p",{className:"mb-1",children:[e.jsxs("span",{className:"font-semibold text-sm",children:["Date: ",s.Feedback_Date]})," "]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-semibold text-sm",children:["Context: ",s.Context]})," "]})]}),e.jsx("div",{className:"card-footer flex justify-end px-4 pb-4",children:e.jsx(_,{size:"sm",color:"primary",className:"w-full",children:"View Details"})})]},s._id)):e.jsx("p",{className:"text-center text-gray-600 font-medium",children:"No feedback available for this student."})})})]})},M=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(b,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(N,{}),e.jsx(A,{})]})]});export{M as default};
