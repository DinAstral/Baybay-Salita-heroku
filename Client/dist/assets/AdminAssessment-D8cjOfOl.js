import{j as e,L as se,r as a,a as D,_ as B}from"./index-B4wSyu9X.js";import{A as te}from"./AdminSidebar-Dk24mhpN.js";import{l as le}from"./index-BHnX5k_M.js";import{P,F as K,d as ae,i as ie}from"./index-C4NzbEoC.js";import{C as re}from"./ContentHeader-B1fghRo3.js";import{P as ne,t as oe,a as de,b,c as ce,d as me,e as S}from"./PrintRecord-DnHhCjP2.js";import{I as he,a as xe,D as ue}from"./importSentence-B-6mfiXB.js";import{m as F,a as M,b as V,c as H,d as L}from"./chunk-P2T5LMDM-DC1c45y9.js";import{b as d}from"./chunk-DBLREEYE-CPTf1qhq.js";import{s as u,l as s}from"./chunk-CEHIK4GH-BuZ88jNB.js";import{t as O}from"./profile-CveRvT9q.js";import"./getChildNodes-CNdKXxzI.js";import"./useOverlayTriggerState-B2eAueuT.js";import"./useDialog-D_jD5Yn-.js";import"./useLabels-CWEVCThf.js";import"./VisuallyHidden-6BjKz1X1.js";import"./chunk-KBN3H6OQ-DWYMk17H.js";import"./useField-DsC8VyRP.js";import"./chunk-CIZQCQPA-QIsEdyyr.js";import"./chunk-GQQM5TNQ-DAoGedlE.js";import"./useFormReset-BV-vE7GN.js";import"./chunk-ATAY3LCU-D0e6Ei9J.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";const U=({show:h,onHide:n,activity:c})=>e.jsx(F,{isOpen:h,onClose:n,"aria-labelledby":"contained-modal-title-vcenter",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(M,{children:[e.jsx(V,{className:"flex flex-col",id:"edit-user-modal-title",children:"View Assessment Information"}),e.jsx(H,{children:e.jsx("p",{children:"Do you want to view the assessment of the student selected?"})}),e.jsxs(L,{children:[e.jsx(d,{color:"danger",variant:"light",onClick:n,children:"Cancel"}),e.jsx(se,{to:`/adminViewAssessment/${c==null?void 0:c.ActivityCode}`,children:e.jsx(d,{color:"primary",children:"View"})})]})]})});U.propTypes={show:P.bool.isRequired,onHide:P.func.isRequired,activity:P.object};const pe=({show:h,onHide:n})=>{const c=()=>{n(),window.location.reload()};return e.jsx(F,{isOpen:h,onClose:n,"aria-labelledby":"contained-modal-title-vcenter",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(M,{children:[e.jsx(V,{id:"contained-modal-title-vcenter",children:"Activity Created Successfully!"}),e.jsx(H,{children:e.jsx("p",{children:"You have created an activity for your students!"})}),e.jsx(L,{children:e.jsx(d,{color:"primary",onClick:c,children:"Close"})})]})})},Y=({show:h,handleClose:n,userId:c})=>{const[C,N]=a.useState(!1),[y,G]=a.useState([]),[T,R]=a.useState([]),[g,w]=a.useState([]),[t,m]=a.useState({Section:"",Period:"",Type:"",Title:"",Item1:"",Item2:"",Item3:"",Item4:"",Item5:"",Item6:"",Item7:"",Item8:"",Item9:"",Item10:""}),k=()=>{D.get("/api/getImportWord").then(l=>{G(l.data)}).catch(l=>console.log(l))},W=()=>{D.get("/api/getSentence").then(l=>{R(l.data)}).catch(l=>console.log(l))};a.useEffect(()=>{k(),W()},[]),a.useEffect(()=>{if(t.Type){const l=y.filter(o=>o.Type===t.Type);w(l)}else w([])},[t.Type,y]);const _=(l,o)=>{const r=g.find(x=>x.ItemCode===o);m({...t,[l]:r?r.ItemCode:""})},I=async l=>{l.preventDefault();const{Period:o,Type:r,Title:x,Section:E}=t;try{const p=await D.post("/api/submitAssessment",{UserID:c,Section:E,Period:o,Type:r,Title:x,Item1:t.Item1,Item2:t.Item2,Item3:t.Item3,Item4:t.Item4,Item5:t.Item5,Item6:t.Item6,Item7:t.Item7,Item8:t.Item8,Item9:t.Item9,Item10:t.Item10});p.data.error?B.error(p.data.error):(m({Section:"",Period:"",Type:"",Title:"",Item1:"",Item2:"",Item3:"",Item4:"",Item5:"",Item6:"",Item7:"",Item8:"",Item9:"",Item10:""}),B.success("Created Activity Successfully."),N(!0),n())}catch(p){console.log(p)}};return e.jsxs(e.Fragment,{children:[e.jsx(F,{isOpen:h,onClose:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",isDismissable:!1,isKeyboardDismissDisabled:!0,placement:"center",scrollBehavior:"inside",children:e.jsxs(M,{className:"w-full md:w-[50vw] max-w-full max-h-[80vh] overflow-y-auto bg-white p-4 rounded-lg",children:[e.jsx(V,{id:"contained-modal-title-vcenter",className:"text-lg font-bold",children:"Create New Activity"}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs(H,{children:[e.jsxs(u,{labelPlacement:"outside",label:"Grading Period",placeholder:"Select Grading Period",value:t.Period,onChange:l=>m({...t,Period:l.target.value}),className:"w-full my-2",children:[e.jsx(s,{children:"Grading Period 1"},"1"),e.jsx(s,{children:"Grading Period 2"},"2"),e.jsx(s,{children:"Grading Period 3"},"3"),e.jsx(s,{children:"Grading Period 4"},"4")]}),e.jsxs(u,{labelPlacement:"outside",label:"Section",placeholder:"Select Section",className:"w-full my-2",value:t.Section,onChange:l=>m({...t,Section:l.target.value}),children:[e.jsx(s,{disabled:!0,children:"Select Section"},""),e.jsx(s,{children:"Camia"},"Camia"),e.jsx(s,{children:"Daffodil"},"Daffodil"),e.jsx(s,{children:"Daisy"},"Daisy"),e.jsx(s,{children:"Gumamela"},"Gumamela"),e.jsx(s,{children:"Lily"},"Lily"),e.jsx(s,{children:"Rosal"},"Rosal"),e.jsx(s,{children:"Rose"},"Rose"),e.jsx(s,{children:"Santan"},"Santan"),e.jsx(s,{children:"Special"},"Special")]}),e.jsxs(u,{labelPlacement:"outside",label:"Type of Assessment",placeholder:"Select Type of Assessment:",value:t.Type,onChange:l=>m({...t,Type:l.target.value}),className:"w-full my-2",children:[e.jsx(s,{children:"Assessment 1: Pagbabaybay Tunog at Letra"},"Pagbabaybay"),e.jsx(s,{children:"Assessment 2: Pantig"},"Pantig"),e.jsx(s,{children:"Assessment 3: Salita"},"Salita"),e.jsx(s,{children:"Assessment 4: Pagbabasa"},"Pagbabasa")]}),t.Type==="Pagbabasa"?e.jsx(u,{labelPlacement:"outside",label:"Title",value:t.Title,placeholder:"Select a Title:",onChange:l=>m({...t,Title:l.target.value}),className:"w-full my-2",children:T.map(l=>e.jsx(s,{value:l.Title,children:l.Title},l.Title))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(10)].map((l,o)=>e.jsx(u,{labelPlacement:"outside",label:`Item ${o+1}`,value:t[`Item${o+1}`],placeholder:"Select a word:",onChange:r=>_(`Item${o+1}`,r.target.value),className:"w-full my-2",children:g.map(r=>e.jsx(s,{value:r.Word,children:r.Word},r.ItemCode))},`Item${o+1}`))})]}),e.jsxs(L,{className:"flex justify-end space-x-2",children:[e.jsx(d,{color:"danger",variant:"light",onClick:n,children:"Close"}),e.jsx(d,{color:"primary",type:"submit",children:"Create Activity"})]})]})]})}),e.jsx(pe,{show:C,onHide:()=>N(!1)})]})};Y.propTypes={show:P.bool.isRequired,handleClose:P.func.isRequired};const je=()=>{const[h,n]=a.useState(!1),[c,C]=a.useState(!1),[N,y]=a.useState(!1),[G,T]=a.useState(!1),[R,g]=a.useState(!1),[w,t]=a.useState(null),[m,k]=a.useState([]),[W,_]=a.useState([]),[I,l]=a.useState(""),[o,r]=a.useState(!1),[x,E]=a.useState(""),p=()=>n(!1),J=()=>n(!0),$=a.useRef(null),{onDownload:Q}=le.useDownloadExcel({currentTableRef:$.current,filename:"Student_Assessment_Report_table",sheet:"Assessment"}),q=()=>{D.get("/api/getAssessments").then(i=>{k(i.data),_(i.data)}).catch(i=>console.log(i))};a.useEffect(()=>{q()},[]);const X=()=>{g(!0)},Z=()=>{C(!0)},ee=()=>{T(!0)},z=(i,v)=>{const A=i.target.value;v==="period"?l(A):v==="type"&&E(A);let j=m;A!==""&&(j=m.filter(f=>v==="period"?f.Period===A:f.Type===A)),I&&v==="type"&&(j=j.filter(f=>f.Period===I)),x&&v==="period"&&(j=j.filter(f=>f.Type===x)),_(j)};return e.jsxs("div",{className:"px-9",children:[e.jsx(ne,{show:R,onHide:()=>g(!1),print:Q}),e.jsx(Y,{show:h,handleClose:p,onSuccess:q}),e.jsx(he,{show:c,onHide:()=>C(!1)}),e.jsx(xe,{show:G,onHide:()=>T(!1)}),e.jsx(U,{show:N,activity:w,onHide:()=>y(!1)}),e.jsx(ue,{show:o,activity:w,onHide:()=>r(!1)}),e.jsxs("div",{className:"content-title-header",children:[e.jsxs("div",{children:["Manage Student Assessment",e.jsx(O,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Assessment Table"}),e.jsx("div",{className:"text-tiny",children:"This function will view the assessment of the students in each section."})]}),children:e.jsx(K,{icon:ae,size:"1x",className:"help-icon"})})]}),e.jsx("div",{className:"generate-report",children:e.jsx(O,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Print"}),e.jsx("div",{className:"text-tiny",children:"Generate report/Print table"})]}),children:e.jsx(K,{icon:ie,size:"1x",className:"print-icon",onClick:X})})})]}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card mt-1 border-0",children:[e.jsxs("div",{className:"list-header-drop-score",children:[e.jsxs("div",{className:"flex flex-row gap-5 justify-start w-[100%]",children:[e.jsxs(u,{labelPlacement:"outside",label:"Sort by Grading Period",variant:"bordered",className:"bg-transparent w-[20%]",onChange:i=>z(i,"period"),value:I,children:[e.jsx(s,{children:"Select Grading Period"},""),e.jsx(s,{children:"Grading Period 1"},"1"),e.jsx(s,{children:"Grading Period 2"},"2"),e.jsx(s,{children:"Grading Period 3"},"3"),e.jsx(s,{children:"Grading Period 4"},"4")]}),e.jsxs(u,{className:"w-[20%]",labelPlacement:"outside",label:"Sort by Type",variant:"bordered",onChange:i=>z(i,"type"),value:x,children:[e.jsx(s,{children:"Select Type of Assessment:"},""),e.jsx(s,{children:"Assessment 1"},"Pagbabaybay"),e.jsx(s,{children:"Assessment 2"},"Pantig"),e.jsx(s,{children:"Assessment 3"},"Salita"),e.jsx(s,{children:"Assessment 4"},"Pagbabasa")]})]}),e.jsxs("div",{className:"flex flex-row gap-5 justify-end mt-3",children:[e.jsx(d,{auto:!0,onClick:ee,color:"default",children:"Import Sentence"}),e.jsx(d,{auto:!0,onClick:Z,color:"default",children:"Import Word"}),e.jsx(d,{auto:!0,onClick:J,color:"primary",children:"Create Activity"})]})]}),e.jsx("div",{className:"card-body scrollable-table scrollable-container",children:e.jsxs(oe,{"aria-label":"Assessment Table",ref:$,removeWrapper:!0,color:"primary",selectionMode:"single",children:[e.jsxs(de,{children:[e.jsx(b,{children:"Activity Code"}),e.jsx(b,{children:"Grading Period"}),e.jsx(b,{children:"Section"}),e.jsx(b,{children:"Type"}),e.jsx(b,{children:"Status"}),e.jsx(b,{className:"text-center",children:"Actions"})]}),e.jsx(ce,{emptyContent:"No rows to display.",children:W.map(i=>e.jsxs(me,{children:[e.jsx(S,{children:i.ActivityCode}),e.jsx(S,{children:i.Period}),e.jsx(S,{children:i.Section}),e.jsx(S,{children:i.Type}),e.jsx(S,{children:i.Assessment}),e.jsx(S,{className:"text-center",children:e.jsxs("div",{className:"table-buttons",children:[e.jsx(d,{color:"primary",onClick:()=>{t(i),y(!0)},children:"View"}),e.jsx(d,{color:"danger",onClick:()=>{t(i),r(!0)},children:"Delete"})]})})]},i._id))})]})})]})})})})]})},Le=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6]",children:e.jsx(te,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(re,{}),e.jsx(je,{})]})]});export{Le as default};
