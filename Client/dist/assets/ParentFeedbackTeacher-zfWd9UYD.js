import{j as e,r as t,U as N,a as p,_ as u}from"./index-A7ZaZ4u8.js";import{C as b}from"./ContentHeader-Bw-tufK8.js";import{P as g}from"./ParentSidebar-H7M44h5P.js";import{F as v,d as y}from"./index-CaxXx6Tv.js";import{h as w,u as F,f as C,W as _}from"./chunk-DBLREEYE-D8P85AZ_.js";import{u as R,c as k,a as P}from"./chunk-H4VOEXHF-CjDt-HQo.js";import{t as D}from"./profile-CjC0TWUN.js";import"./useOverlayTriggerState-BdGeqriK.js";import"./chunk-CIZQCQPA-DsJBGEOY.js";var j=w((l,r)=>{var c;const{as:a,className:m,children:x,...d}=l,s=a||"div",h=F(r),{slots:n,classNames:o}=R(),i=C(o==null?void 0:o.header,m);return e.jsx(s,{ref:h,className:(c=n.header)==null?void 0:c.call(n,{class:i}),...d,children:x})});j.displayName="NextUI.CardHeader";var E=j;const S=()=>{const{user:l}=t.useContext(N),[r,c]=t.useState([]),[a,m]=t.useState(null),[x,d]=t.useState(!0);return t.useEffect(()=>{p.get(`/api/getParent/${l.UserID}`).then(s=>{m(s.data)}).catch(s=>{u.error("Failed to load parent data.")}).finally(()=>{d(!1)})},[l.UserID]),t.useEffect(()=>{const s=async()=>{try{const n=(await p.get("/api/getFeedbacks")).data.filter(o=>{var i,f;return o.LRN===((f=(i=a==null?void 0:a.Student)==null?void 0:i[0])==null?void 0:f.LRN)});c(n)}catch{u.error("Failed to load feedbacks. Please try again.")}finally{d(!1)}};a!=null&&a.LRN&&s()},[a]),x?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(_,{size:"lg",color:"primary"})}):e.jsxs("div",{className:"px-4 md:px-9 py-2",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-semibold",children:"Student Feedback"}),e.jsx(D,{showArrow:!0,content:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-sm font-bold",children:"View Feedback"}),e.jsx("div",{className:"text-xs",children:"This function allows you to view the teachers' feedback in the assessments."})]}),children:e.jsx(v,{icon:y,className:"text-gray-600"})})]})}),e.jsx("div",{className:"content-container",children:r.length>0?e.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:r.map(s=>e.jsxs(k,{className:"shadow-lg hover:shadow-2xl transition-shadow",children:[e.jsxs(E,{className:"pb-0 pt-4 px-4 flex-col items-start",children:[e.jsx("p",{className:"text-lg uppercase font-bold text-primary",children:s.Title}),e.jsxs("small",{className:"text-default-900",children:["Assessment Type: ",s.Type]}),e.jsxs("h4",{className:"font-bold text-sm mt-1",children:["Assessment Code: ",s.ActivityCode]})]}),e.jsxs(P,{className:"py-4",children:[e.jsx("p",{className:"mb-1",children:e.jsxs("span",{className:"font-semibold text-sm",children:["LRN: ",s.LRN]})}),e.jsx("p",{className:"mb-1",children:e.jsxs("span",{className:"font-semibold text-sm",children:["Date: ",s.Feedback_Date]})}),e.jsx("p",{children:e.jsxs("span",{className:"font-semibold text-sm",children:["Context: ",s.Context]})})]})]},s._id))}):e.jsx("p",{className:"text-center text-gray-600 font-medium",children:"No feedback available for this student."})})]})},O=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(g,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(b,{}),e.jsx(S,{})]})]});export{O as default};
