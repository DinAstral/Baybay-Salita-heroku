import{o as be,l as xe,r as d,j as $,b as ve}from"./index-Cz5Vujn0.js";import{B as $e,e as k,t as he,j as we,h as S,u as N,f as y,c as P,n as ye,I as ge,q as Ee,v as Ce,x as h,Q as Me}from"./chunk-DBLREEYE-u4K1mOgI.js";import{b as Be,$ as ke}from"./useOverlayTriggerState-CW0is1k2.js";import{$ as R,d as Pe,b as Se,a as Ne,c as Te}from"./Overlay-D0KPGmXa.js";function q(e,t){let o=e;for(R(o,t)&&(o=o.parentElement);o&&!R(o,t);)o=o.parentElement;return o||document.scrollingElement||document.documentElement}const M=typeof document<"u"&&window.visualViewport,Oe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let w=0,B;function Ie(e={}){let{isDisabled:t}=e;$e(()=>{if(!t)return w++,w===1&&(be()?B=De():B=Ae()),()=>{w--,w===0&&B()}},[t])}function Ae(){return k(b(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),b(document.documentElement,"overflow","hidden"))}function De(){let e,t,o=a=>{e=q(a.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=b(e,"overscrollBehavior","contain"))},n=a=>{if(!e||e===document.documentElement||e===document.body){a.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&a.preventDefault()},l=a=>{let s=a.target;_(s)&&s!==document.activeElement&&(a.preventDefault(),i(),s.style.transform="translateY(-2000px)",s.focus(),requestAnimationFrame(()=>{s.style.transform=""})),t&&t()},c=a=>{let s=a.target;_(s)&&(i(),s.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{s.style.transform="",M&&(M.height<window.innerHeight?requestAnimationFrame(()=>{j(s)}):M.addEventListener("resize",()=>j(s),{once:!0}))}))},r=null,i=()=>{if(r)return;let a=()=>{window.scrollTo(0,0)},s=window.pageXOffset,u=window.pageYOffset;r=k(v(window,"scroll",a),b(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),b(document.documentElement,"overflow","hidden"),b(document.body,"marginTop",`-${u}px`),()=>{window.scrollTo(s,u)}),window.scrollTo(0,0)},m=k(v(document,"touchstart",o,{passive:!1,capture:!0}),v(document,"touchmove",n,{passive:!1,capture:!0}),v(document,"touchend",l,{passive:!1,capture:!0}),v(document,"focus",c,!0));return()=>{t==null||t(),r==null||r(),m()}}function b(e,t,o){let n=e.style[t];return e.style[t]=o,()=>{e.style[t]=n}}function v(e,t,o,n){return e.addEventListener(t,o,n),()=>{e.removeEventListener(t,o,n)}}function j(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let o=q(e);if(o!==document.documentElement&&o!==document.body&&o!==e){let n=o.getBoundingClientRect().top,l=e.getBoundingClientRect().top;l>n+e.clientHeight&&(o.scrollTop+=l-n)}e=o.parentElement}}function _(e){return e instanceof HTMLInputElement&&!Oe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var V=he({slots:{wrapper:["flex","w-screen","h-[100dvh]","fixed","inset-0","z-50","overflow-x-auto","justify-center"],base:["flex","flex-col","relative","bg-white","z-50","w-full","box-border","bg-content1","outline-none","mx-1","my-1","sm:mx-6","sm:my-16"],backdrop:"z-50",header:"flex py-4 px-6 flex-initial text-large font-semibold",body:"flex flex-1 flex-col gap-3 px-6 py-2",footer:"flex flex-row gap-2 px-6 py-4 justify-end",closeButton:["absolute","appearance-none","outline-none","select-none","top-1","right-1","rtl:left-1","rtl:right-[unset]","p-2","text-foreground-500","rounded-full","hover:bg-default-100","active:bg-default-200","tap-highlight-transparent",...we]},variants:{size:{xs:{base:"max-w-xs"},sm:{base:"max-w-sm"},md:{base:"max-w-md"},lg:{base:"max-w-lg"},xl:{base:"max-w-xl"},"2xl":{base:"max-w-2xl"},"3xl":{base:"max-w-3xl"},"4xl":{base:"max-w-4xl"},"5xl":{base:"max-w-5xl"},full:{base:"my-0 mx-0 sm:mx-0 sm:my-0 max-w-full h-[100dvh] !rounded-none"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"}},placement:{auto:{wrapper:"items-end sm:items-center"},center:{wrapper:"items-center sm:items-center"},top:{wrapper:"items-start sm:items-start"},"top-center":{wrapper:"items-start sm:items-center"},bottom:{wrapper:"items-end sm:items-end"},"bottom-center":{wrapper:"items-end sm:items-center"}},shadow:{sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},backdrop:{transparent:{backdrop:"hidden"},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-md backdrop-saturate-150 bg-overlay/30"}},scrollBehavior:{normal:{base:"overflow-y-hidden"},inside:{base:"max-h-[calc(100%_-_8rem)]",body:"overflow-y-auto"},outside:{wrapper:"items-start sm:items-start overflow-y-auto",base:"my-16"}},disableAnimation:{false:{wrapper:["[--scale-enter:100%]","[--scale-exit:100%]","[--slide-enter:0px]","[--slide-exit:80px]","sm:[--scale-enter:100%]","sm:[--scale-exit:103%]","sm:[--slide-enter:0px]","sm:[--slide-exit:0px]"]}}},defaultVariants:{size:"md",radius:"lg",shadow:"sm",placement:"auto",backdrop:"opaque",scrollBehavior:"normal"},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"w-screen h-screen fixed inset-0"}}]}),[He,F]=xe({name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Modal />`"}),L=S((e,t)=>{const{as:o,children:n,className:l,...c}=e,{slots:r,classNames:i,bodyId:m,setBodyMounted:a}=F(),s=N(t),u=o||"div";return d.useEffect(()=>(a(!0),()=>a(!1)),[a]),$.jsx(u,{ref:s,className:r.body({class:y(i==null?void 0:i.body,l)}),id:m,...c,children:n})});L.displayName="NextUI.ModalBody";var Le=L,W=S((e,t)=>{const{as:o,children:n,className:l,...c}=e,{slots:r,classNames:i,headerId:m,setHeaderMounted:a}=F(),s=N(t),u=o||"header";return d.useEffect(()=>(a(!0),()=>a(!1)),[a]),$.jsx(u,{ref:s,className:r.header({class:y(i==null?void 0:i.header,l)}),id:m,...c,children:n})});W.displayName="NextUI.ModalHeader";var We=W;function Re(e={shouldBlockScroll:!0},t,o){let{overlayProps:n,underlayProps:l}=Be({...e,isOpen:t.isOpen,onClose:t.close},o);return Ie({isDisabled:!t.isOpen||!e.shouldBlockScroll}),Pe(),d.useEffect(()=>{if(t.isOpen&&o.current)return Se([o.current])},[t.isOpen,o]),{modalProps:P(n),underlayProps:l}}function je(e){var t,o,n;const l=ve(),[c,r]=ye(e,V.variantKeys),{ref:i,as:m,className:a,classNames:s,isOpen:u,defaultOpen:Y,onOpenChange:T,motionProps:K,closeButton:U,isDismissable:g=!0,hideCloseButton:X=!1,shouldBlockScroll:O=!0,portalContainer:Q,isKeyboardDismissDisabled:G=!1,onClose:I,...J}=c,Z=m||"section",E=N(i),ee=d.useRef(null),[te,oe]=d.useState(!1),[se,ae]=d.useState(!1),C=(o=(t=e.disableAnimation)!=null?t:l==null?void 0:l.disableAnimation)!=null?o:!1,ne=d.useId(),A=d.useId(),D=d.useId(),f=ke({isOpen:u,defaultOpen:Y,onOpenChange:p=>{T==null||T(p),p||I==null||I()}}),{modalProps:le,underlayProps:H}=Re({isDismissable:g,shouldBlockScroll:O,isKeyboardDismissDisabled:G},f,E),{buttonProps:re}=ge({onPress:f.close},ee),{isFocusVisible:de,focusProps:ce}=Ee(),ie=y(s==null?void 0:s.base,a),x=d.useMemo(()=>V({...r,disableAnimation:C}),[Ce(r),C]),ue=(p={},fe=null)=>({ref:Ne(fe,E),...P(le,J,p),className:x.base({class:y(ie,p.className)}),id:ne,"data-open":h(f.isOpen),"data-dismissable":h(g),"aria-modal":h(!0),"aria-labelledby":te?A:void 0,"aria-describedby":se?D:void 0}),me=d.useCallback((p={})=>({className:x.backdrop({class:s==null?void 0:s.backdrop}),onClick:()=>f.close(),...H,...p}),[x,s,H]),pe=()=>({role:"button",tabIndex:0,"aria-label":"Close","data-focus-visible":h(de),className:x.closeButton({class:s==null?void 0:s.closeButton}),...P(re,ce)});return{Component:Z,slots:x,domRef:E,headerId:A,bodyId:D,motionProps:K,classNames:s,isDismissable:g,closeButton:U,hideCloseButton:X,portalContainer:Q,shouldBlockScroll:O,backdrop:(n=e.backdrop)!=null?n:"opaque",isOpen:f.isOpen,onClose:f.close,disableAnimation:C,setBodyMounted:ae,setHeaderMounted:oe,getDialogProps:ue,getBackdropProps:me,getCloseButtonProps:pe}}var z=S((e,t)=>{const{children:o,...n}=e,l=je({...n,ref:t}),c=$.jsx(Te,{portalContainer:l.portalContainer,children:o});return $.jsx(He,{value:l,children:l.disableAnimation&&l.isOpen?c:$.jsx(Me,{children:l.isOpen?c:null})})});z.displayName="NextUI.Modal";var ze=z;export{We as a,Le as b,ze as m,F as u};
