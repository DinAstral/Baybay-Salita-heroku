import{u as h,r as i,j as e,a as b,n as o}from"./index-Br4U8MD5.js";import{F as j,f as y}from"./index-BtZPxBKx.js";import{c as v,a as w}from"./chunk-H4VOEXHF-g0SU3-2P.js";import{i as N}from"./chunk-GQQM5TNQ-BIEoL1OC.js";import{b as x}from"./chunk-DBLREEYE-BYMmdl1I.js";import"./chunk-CAFRINWI-CMvs8fyY.js";import"./useFormReset-B_09FROi.js";import"./useField-D2XaPJ68.js";import"./useLabels-DjJTkHz4.js";const B=()=>{const n=h(),[r,m]=i.useState(!1),[a,c]=i.useState({}),f=()=>{n("/login")},[t,d]=i.useState({email:""}),p=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),g=async s=>{if(s.preventDefault(),c({}),!p(t.email)){c({email:"Please enter a valid email address."});return}m(!0);try{const u=(await b.post("/api/forgotPass",{email:t.email})).data;u.error?o.error(u.error):(d({email:""}),o.success("We have e-mailed your password reset link!"),n("/login"))}catch(l){console.log(l),o.error("Error occurred while processing the request.")}finally{m(!1)}};return e.jsx("div",{className:"flex bg-[#f6fbff] w-full h-screen items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(v,{className:"w-full flex flex-col p-6",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-center",children:"Forgot Password"}),e.jsx("p",{className:"text-sm md:text-base text-center mt-2",children:"Enter your registered email to reset your password."}),e.jsx(w,{children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(N,{type:"text",label:"Email",variant:"bordered",className:"bg-transparent py-2 my-1",value:t.email,onChange:s=>d({...t,email:s.target.value}),endContent:e.jsx(j,{icon:y,className:"text-xl text-default-400 pointer-events-none"}),"aria-describedby":a.email?"email-error":null,"aria-invalid":!!a.email}),a.email&&e.jsx("span",{id:"email-error",className:"text-red-500 text-sm",children:a.email})]}),e.jsxs("div",{className:"w-full flex items-center justify-center gap-4 my-4",children:[e.jsx(x,{className:"my-2",size:"lg",radius:"md",color:"danger",variant:"light",onClick:f,disabled:r,children:"Back"}),e.jsx(x,{type:"submit",className:"my-2",size:"lg",radius:"md",color:"primary",disabled:r,children:r?"Submitting...":"Submit"})]})]})})]})})})};export{B as default};
