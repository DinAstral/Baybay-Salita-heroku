import{j as e,r as s}from"./react-BCcS7c0c.js";import{C as te}from"./ContentHeader-DwIQzFOv.js";import{S as se}from"./Sidebar-DaLC3a38.js";import{l as ae}from"./react-export-table-to-excel-CDdXcfrC.js";import{R as ie}from"./react-paginate-BYTMUaIF.js";import{F as j,d as re,i as le,j as oe}from"./@fortawesome-BVdY808A.js";import{a as M}from"./axios-CCb-kr4I.js";import{P as ne}from"./PrintRecord-LBy-exmt.js";import{P as d}from"./prop-types-LuavYUF2.js";import{L as S}from"./react-router-dom-Dk6_dLEo.js";import{m as b,f as g,g as w,h as N,j as v,b as c,t as T,i as de,k as ce,n as he,o as r,p as me,q as xe,r as l}from"./@nextui-org-CLkIIHEi.js";import{D as ue}from"./DeleteStudent-CRPEdoRc.js";import{U as fe}from"./index-DzzbZJ-V.js";import"./@babel-m2JXyA6a.js";import"./profile-Berhznzr.js";import"./react-router-MkLRJz4d.js";import"./@remix-run-BOUEh3jQ.js";import"./react-dom-rv-KAOpM.js";import"./scheduler-CzFDRTuY.js";import"./@react-aria-CfXSs2UI.js";import"./@react-stately-ChQ0zIrC.js";import"./clsx-B-dksMZM.js";import"./@swc-DS7M6wx8.js";import"./@internationalized-BB0Nk989.js";import"./framer-motion-BvVSIgoR.js";import"./react-textarea-autosize-bEG1sDiq.js";import"./use-latest-2zZSkz0C.js";import"./use-isomorphic-layout-effect-Co3QFFXf.js";import"./use-composed-ref-BmZZpR7Y.js";import"./tailwind-variants-ayMnMv5e.js";import"./tailwind-merge-Dc5vmgZ1.js";import"./react-hot-toast-Dux6v_Wl.js";import"./goober-vt3s6TGe.js";const A=({show:a,onHide:i,student:o})=>e.jsx(b,{isOpen:a,onClose:i,"aria-labelledby":"contained-modal-title-vcenter",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(g,{children:[e.jsx(w,{className:"flex flex-col",id:"edit-user-modal-title",children:"View Student Information"}),e.jsx(N,{children:e.jsx("p",{children:"Do you want to view the profile of student selected?"})}),e.jsxs(v,{children:[e.jsx(c,{color:"danger",variant:"light",onClick:i,children:"Cancel"}),e.jsx(S,{to:`/viewStudent/${o==null?void 0:o._id}`,children:e.jsx(c,{color:"primary",children:"View"})})]})]})});A.propTypes={show:d.bool.isRequired,onHide:d.func.isRequired,student:d.object};const U=({show:a,onHide:i})=>e.jsx(b,{isOpen:a,onClose:i,"aria-labelledby":"add-user-modal-title",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(g,{children:[e.jsx(w,{className:"flex flex-col",id:"add-user-modal-title",children:"Add Student Information"}),e.jsx(N,{children:e.jsx("p",{children:"Do you want to add student information?"})}),e.jsxs(v,{children:[e.jsx(c,{color:"danger",variant:"light",onClick:i,children:"Cancel"}),e.jsx(S,{to:"/addStudent",children:e.jsx(c,{color:"primary",children:"Add"})})]})]})});U.propTypes={show:d.bool.isRequired,onHide:d.func.isRequired};const F=({show:a,onHide:i,student:o})=>e.jsx(b,{isOpen:a,onClose:i,"aria-labelledby":"contained-modal-title-vcenter",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(g,{children:[e.jsx(w,{className:"flex flex-col",id:"contained-modal-title-vcenter",children:"Update Student Information"}),e.jsx(N,{children:e.jsx("p",{children:"Are you sure you want to update this student's information?"})}),e.jsxs(v,{children:[e.jsx(c,{color:"danger",variant:"light",onClick:i,children:"Cancel"}),e.jsx(S,{to:`/editStudent/${o==null?void 0:o._id}`,children:e.jsx(c,{color:"primary",children:"Update"})})]})]})});F.propTypes={show:d.bool.isRequired,onHide:d.func.isRequired,student:d.object};const pe=()=>{const{user:a}=s.useContext(fe),[i,o]=s.useState(!1),[I,y]=s.useState(!1),[q,C]=s.useState(!1),[H,_]=s.useState(!1),[V,R]=s.useState(!1),[m,D]=s.useState([]),[P,z]=s.useState([]),[x,B]=s.useState(""),[u,L]=s.useState(null),[G,K]=s.useState(0),[f]=s.useState(10),[p,je]=s.useState(""),[h,O]=s.useState(""),k=s.useRef(null),{onDownload:$}=ae.useDownloadExcel({currentTableRef:k.current,filename:"Student_List_Report_table",sheet:"Students"});s.useEffect(()=>{a&&a.UserID&&M.get(`/api/getTeacher/${a.UserID}`).then(t=>{B(t.data.Section)}).catch(t=>console.log(t))},[a]),s.useEffect(()=>{M.get("/api/getStudents").then(t=>{D(t.data)}).catch(t=>console.log(t))},[]),s.useEffect(()=>{let t=m;x&&(t=t.filter(n=>n.Section===x)),h&&(t=t.filter(n=>n.FirstName.toLowerCase().includes(h.toLowerCase())||n.LastName.toLowerCase().includes(h.toLowerCase())||n.LRN.includes(h))),p&&(t=t.filter(n=>n.Section===p)),z(t)},[h,p,m,x]);const Q=()=>y(!0),W=t=>{L(t),_(!0)},J=t=>{L(t),C(!0)},X=t=>{D(m.filter(n=>n._id!==t)),R(!1)},Y=t=>K(t.selected),E=G*f,Z=P.slice(E,E+f),ee=t=>{switch(t){case"Grade Ready Reader":return"text-green-600 font-semibold";case"Transitioning Reader":return"text-blue-600 font-semibold";case"Developing Reader":return"text-orange-600 font-semibold";case"Low Emerging Reader":return"text-red-600 font-semibold";case"High Emerging Reader":return"text-red-600 font-semibold";case"Incomplete":return"text-gray-600 italic";default:return"text-black"}};return e.jsxs("div",{className:"px-9",children:[e.jsx(ne,{show:I,onHide:()=>y(!1),print:$}),e.jsx(U,{show:i,onHide:()=>o(!1)}),e.jsx(A,{show:H,onHide:()=>_(!1),student:u}),e.jsx(F,{show:q,student:u,onHide:()=>C(!1)}),e.jsx(ue,{show:V,onHide:()=>R(!1),student:u,onDeleteSuccess:X}),e.jsxs("div",{className:"content-title-header",children:[e.jsxs("div",{children:["Manage Student",e.jsx(T,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Student Table"}),e.jsx("div",{className:"text-tiny",children:"This function will view the list of the students in each section."})]}),children:e.jsx(j,{icon:re,size:"1x",className:"help-icon"})})]}),e.jsx("div",{className:"generate-report",children:e.jsx(T,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Print"}),e.jsx("div",{className:"text-tiny",children:"Generate report/Print table"})]}),children:e.jsx(j,{icon:le,size:"1x",className:"print-icon",onClick:Q})})})]}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card mt-1 border-0",children:[e.jsx("div",{className:"list-header-drop-score",children:e.jsx("div",{className:"w-[40%] flex pt-4",children:e.jsx(de,{type:"text",placeholder:"Search Student Name or LRN",variant:"bordered",startContent:e.jsx(j,{icon:oe,size:"1x",inverse:!0,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}),onChange:t=>O(t.target.value)})})}),e.jsxs("div",{className:"card-body scrollable-table scrollable-container",children:[e.jsxs(ce,{ref:k,removeWrapper:!0,color:"primary",selectionMode:"single",children:[e.jsxs(he,{children:[e.jsx(r,{children:"LRN"}),e.jsx(r,{children:"First Name"}),e.jsx(r,{children:"Last Name"}),e.jsx(r,{children:"Age"}),e.jsx(r,{children:"Section"}),e.jsx(r,{children:"Birthday"}),e.jsx(r,{children:"Mother Tongue"}),e.jsx(r,{children:"Gender"}),e.jsx(r,{children:"Status"})," ",e.jsx(r,{className:"text-center",children:"Actions"})]}),e.jsx(me,{emptyContent:"No rows to display.",children:Z.map(t=>e.jsxs(xe,{children:[e.jsx(l,{children:t.LRN}),e.jsx(l,{children:t.FirstName}),e.jsx(l,{children:t.LastName}),e.jsx(l,{children:t.Age}),e.jsx(l,{children:t.Section}),e.jsx(l,{children:t.Birthday}),e.jsx(l,{children:t.MotherTongue}),e.jsx(l,{children:t.Gender}),e.jsx(l,{children:e.jsx("span",{className:ee(t.status),children:t.status})}),e.jsx(l,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(c,{color:"default",size:"sm",onClick:()=>W(t),children:"View"}),e.jsx(c,{color:"primary",size:"sm",onClick:()=>J(t),children:"Update"})]})})]},t._id))})]}),e.jsx(ie,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(P.length/f),marginPagesDisplayed:2,pageRangeDisplayed:10,onPageChange:Y,containerClassName:"pagination",activeClassName:"active"})]})]})})})})]})},Xe=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6]",children:e.jsx(se,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(te,{}),e.jsx(pe,{})]})]});export{Xe as default};
