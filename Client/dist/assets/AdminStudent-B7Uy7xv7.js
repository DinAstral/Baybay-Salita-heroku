import{j as e,L as xe,r as t,a as fe}from"./index-C0mq2pM1.js";import{A as je}from"./AdminSidebar-IiVpn-6z.js";import{l as pe}from"./index-D6Psk_dW.js";import{R as Se}from"./react-paginate-FR8rw8R7.js";import{P as T,F as y,d as ge,i as be,j as Ne}from"./index-DXLE2NwT.js";import{C as we}from"./ContentHeader-DPLcpCle.js";import{P as Ce,t as ve,a as Re,b as l,c as ye,d as De,e as i}from"./PrintRecord-XLh-EX2U.js";import{V as _e,U as Le}from"./UpdateStudent-C8sa1RxO.js";import{m as Ae,a as ke,b as Pe,c as Ee}from"./chunk-P2T5LMDM-unMqp2aE.js";import{m as Te}from"./chunk-LT4XONRR-BbvgX0Jf.js";import{b as m}from"./chunk-DBLREEYE-CmAhUcF6.js";import{D as He}from"./DeleteStudent-Dl-KbQbD.js";import{t as H}from"./profile-CycooEAC.js";import{s as M,l as r}from"./chunk-CEHIK4GH-JCd2cYw1.js";import{i as Me}from"./chunk-GQQM5TNQ-DjbyrHNV.js";import"./useOverlayTriggerState-DcLuQhII.js";import"./useDialog-cdyi40F6.js";import"./useLabels-C6nxSUGo.js";import"./VisuallyHidden-Ipnd9vIt.js";import"./Overlay-BDkNJOCE.js";import"./chunk-KBN3H6OQ-CBiUzbmB.js";import"./chunk-CAFRINWI-CMvs8fyY.js";import"./useField-BOxuQbUu.js";import"./chunk-CIZQCQPA-ByI2RMzI.js";import"./useFormReset-C-mRlYoR.js";const F=({show:f,onHide:h})=>e.jsx(Ae,{isOpen:f,onClose:h,"aria-labelledby":"add-user-modal-title",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(Te,{children:[e.jsx(ke,{className:"flex flex-col",id:"add-user-modal-title",children:"Add Student Information"}),e.jsx(Pe,{children:e.jsx("p",{children:"Do you want to add student information?"})}),e.jsxs(Ee,{children:[e.jsx(m,{color:"danger",variant:"light",onClick:h,children:"Cancel"}),e.jsx(xe,{to:"/adminAddStudent",children:e.jsx(m,{color:"primary",children:"Add"})})]})]})});F.propTypes={show:T.bool.isRequired,onHide:T.func.isRequired};const Fe=()=>{const[f,h]=t.useState(!1),[I,D]=t.useState(!1),[B,_]=t.useState(!1),[G,L]=t.useState(!1),[z,j]=t.useState(!1),[p,A]=t.useState([]),[c,d]=t.useState([]),[S,g]=t.useState(null),[O,V]=t.useState(0),[b]=t.useState(10),[x,U]=t.useState(""),[u,K]=t.useState(""),[N,q]=t.useState(""),[w,J]=t.useState("asc"),[C,Q]=t.useState("asc"),[v,W]=t.useState("asc"),[R,X]=t.useState("asc"),k=t.useRef(null),{onDownload:Y}=pe.useDownloadExcel({currentTableRef:k.current,filename:"Student_List_Report_table",sheet:"Students"});t.useEffect(()=>{fe.get("/api/getStudents").then(s=>{A(s.data),d(s.data)}).catch(s=>console.log(s))},[]),t.useEffect(()=>{let s=p;u&&(s=s.filter(a=>a.FirstName.toLowerCase().includes(u.toLowerCase())||a.LastName.toLowerCase().includes(u.toLowerCase())||a.LRN.includes(u))),x&&(s=s.filter(a=>a.Section===x)),N&&(s=s.filter(a=>a.status===N)),d(s)},[u,x,N,p]);const Z=()=>{D(!0)},$=()=>{h(!0)},ee=s=>{g(s),L(!0)},se=s=>{g(s),_(!0)},te=s=>{g(s),j(!0)},ae=s=>{A(p.filter(a=>a._id!==s)),j(!1)},re=s=>{V(s.selected)},P=O*b,ne=c.slice(P,P+b),le=s=>{const a=s.target.value;U(a)},ie=s=>{switch(s){case"Grade Ready Reader":return"text-green-600 font-semibold";case"Transitioning Reader":return"text-blue-600 font-semibold";case"Developing Reader":return"text-orange-600 font-semibold";case"Low Emerging Reader":return"text-red-600 font-semibold";case"High Emerging Reader":return"text-red-600 font-semibold";case"Incomplete":return"text-gray-600 italic";default:return"text-black"}},oe=()=>{const s=[...c].sort((a,o)=>{const n=a.LastName.localeCompare(o.LastName);return v==="asc"?n:-n});d(s),W(v==="asc"?"desc":"asc")},ce=()=>{const s=[...c].sort((a,o)=>{const n=a.Section.localeCompare(o.Section);return R==="asc"?n:-n});d(s),X(R==="asc"?"desc":"asc")},de=()=>{const s=[...c].sort((a,o)=>{const n=a.Age-o.Age;return C==="asc"?n:-n});d(s),Q(C==="asc"?"desc":"asc")},me=()=>{const s=[...c].sort((a,o)=>{const n=["Incomplete","Low Emerging Reader","High Emerging Reader","Developing Reader","Transitioning Reader","Grade Ready Reader"],he=a.status||"",ue=o.status||"",E=n.indexOf(he)-n.indexOf(ue);return w==="asc"?E:-E});d(s),J(w==="asc"?"desc":"asc")};return e.jsxs("div",{className:"px-9",children:[e.jsx(Ce,{show:I,onHide:()=>D(!1),print:Y}),e.jsx(F,{show:f,onHide:()=>h(!1)}),e.jsx(_e,{show:G,onHide:()=>L(!1),student:S}),e.jsx(Le,{show:B,student:S,onHide:()=>_(!1)}),e.jsx(He,{show:z,onHide:()=>j(!1),student:S,onDeleteSuccess:ae}),e.jsxs("div",{className:"content-title-header",children:[e.jsxs("div",{children:["Manage Student",e.jsx(H,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Student Table"}),e.jsx("div",{className:"text-tiny",children:"This function will view the list of the students in each section."})]}),children:e.jsx(y,{icon:ge,size:"1x",className:"help-icon"})})]}),e.jsx("div",{className:"generate-report",children:e.jsx(H,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Print"}),e.jsx("div",{className:"text-tiny",children:"Generate report/Print table"})]}),children:e.jsx(y,{icon:be,size:"1x",className:"print-icon",onClick:Z})})})]}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card mt-1 border-0",children:[e.jsxs("div",{className:"list-header-drop-score",children:[e.jsxs(M,{className:"w-[20%]",labelPlacement:"outside",label:"Section",variant:"bordered",defaultSelectedKeys:[""],onChange:le,"aria-label":"Filter students by section",value:x,children:[e.jsx(r,{children:"Select Section"},""),e.jsx(r,{children:"Aster"},"Aster"),e.jsx(r,{children:"Camia"},"Camia"),e.jsx(r,{children:"Dahlia"},"Dahlia"),e.jsx(r,{children:"Iris"},"Iris"),e.jsx(r,{children:"Jasmin"},"Jasmin"),e.jsx(r,{children:"Orchid"},"Orchid"),e.jsx(r,{children:"Rose"},"Rose"),e.jsx(r,{children:"Tulip"},"Tulip"),e.jsx(r,{children:"SSC"},"SSC")]}),e.jsxs(M,{className:"w-[20%]",labelPlacement:"outside",label:"Status",variant:"bordered",onChange:s=>q(s.target.value),defaultSelectedKeys:[""],children:[e.jsx(r,{children:"All"},""),e.jsx(r,{children:"Incomplete"},"Incomplete"),e.jsx(r,{children:"Low Emerging"},"Low Emerging Reader"),e.jsx(r,{children:"High Emerging"},"High Emerging Reader"),e.jsx(r,{children:"Developing"},"Developing Reader"),e.jsx(r,{children:"Transitioning"},"Transitioning Reader"),e.jsx(r,{children:"Grade Ready"},"Grade Ready Reader")]}),e.jsx("div",{className:"w-[40%] flex pt-8",children:e.jsx(Me,{type:"text",placeholder:"Search Student Name or LRN",variant:"bordered",startContent:e.jsx(y,{icon:Ne,size:"1x",inverse:!0,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}),onChange:s=>K(s.target.value)})}),e.jsx("div",{className:"back-button-profile",children:e.jsx(m,{auto:!0,color:"primary",className:"",onClick:()=>$(),children:"Add Student"})})]}),e.jsxs("div",{className:"card-body scrollable-table scrollable-container",children:[e.jsxs(ve,{ref:k,removeWrapper:!0,color:"primary",selectionMode:"single",children:[e.jsxs(Re,{children:[e.jsx(l,{children:"LRN"}),e.jsx(l,{children:"First Name"}),e.jsxs(l,{onClick:oe,children:["Last Name ",v==="asc"?"↑":"↓"]}),e.jsxs(l,{onClick:de,children:["Age ",C==="asc"?"↑":"↓"]}),e.jsxs(l,{onClick:ce,children:["Section ",R==="asc"?"↑":"↓"]}),e.jsx(l,{children:"Mother Tongue"}),e.jsx(l,{children:"Gender"}),e.jsxs(l,{onClick:me,children:["Status ",w==="asc"?"↑":"↓"]}),e.jsx(l,{className:"text-center",children:"Actions"})]}),e.jsx(ye,{emptyContent:"No student data to display.",children:ne.map(s=>e.jsxs(De,{children:[e.jsx(i,{children:s.LRN}),e.jsx(i,{children:s.FirstName}),e.jsx(i,{children:s.LastName}),e.jsx(i,{children:s.Age}),e.jsx(i,{children:s.Section}),e.jsx(i,{children:s.MotherTongue}),e.jsx(i,{children:s.Gender}),e.jsx(i,{children:e.jsx("span",{className:ie(s.status),children:s.status})}),e.jsx(i,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(m,{color:"default",size:"sm",onClick:()=>ee(s),children:"View"}),e.jsx(m,{color:"primary",size:"sm",onClick:()=>se(s),children:"Update"}),e.jsx(m,{color:"danger",size:"sm",onClick:()=>te(s),children:"Delete"})]})})]},s._id))})]}),e.jsx(Se,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(c.length/b),marginPagesDisplayed:2,pageRangeDisplayed:10,onPageChange:re,containerClassName:"pagination",activeClassName:"active"})]})]})})})})]})},cs=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(je,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(we,{}),e.jsx(Fe,{})]})]});export{cs as default};
