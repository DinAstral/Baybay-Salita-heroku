import{r as u,u as V,j as e,a as O,n as p}from"./index-DOir1VEp.js";import{F as l,l as v,m as T,n as J,f as W,a as N,b as y}from"./index-DRB5IWKv.js";import{c as Y,a as $}from"./chunk-H4VOEXHF-C6LRFNeK.js";import{i as d}from"./chunk-GQQM5TNQ-CshPbfGe.js";import{s as f,l as n}from"./chunk-CEHIK4GH--i-mpxOG.js";import{b as j}from"./chunk-DBLREEYE-BUE9bXnN.js";import"./useField-DN-RA58P.js";import"./useLabels-WKfUgjyv.js";import"./useFormReset-BOpAGmQV.js";import"./getChildNodes-IkYwP7Q7.js";import"./useOverlayTriggerState-CEjPxx58.js";import"./useDialog-BjMwMnGR.js";import"./VisuallyHidden-BokXmP-y.js";import"./Overlay-nmVAJFaJ.js";const oe=()=>{const[a,i]=u.useState({FirstName:"",LastName:"",Section:"",Department:"",Birthday:"",Age:"",Gender:"",Address:"",Status:"",ContactNumber:"",email:"",password:"",confirmPassword:""}),[s,S]=u.useState({}),b=V(),[h,C]=u.useState(!1),w=()=>C(!h),[g,D]=u.useState(!1),I=()=>D(!g),A=()=>{b("/register")},F=t=>{const r=new Date(t),o=new Date;let c=o.getFullYear()-r.getFullYear();const x=o.getMonth()-r.getMonth();return(x<0||x===0&&o.getDate()<r.getDate())&&c--,c},P=()=>{let t=!0,r={};return a.FirstName||(r.FirstName="First Name is required.",t=!1),a.LastName||(r.LastName="Last Name is required.",t=!1),a.Section||(r.Section="Section is required.",t=!1),a.Department||(r.Department="Department is required.",t=!1),a.Birthday||(r.Birthday="Birthday is required.",t=!1),a.Gender||(r.Gender="Gender is required.",t=!1),a.Address||(r.Address="Address is required.",t=!1),a.Status||(r.Status="Status is required.",t=!1),a.ContactNumber||(r.ContactNumber="Contact Number is required.",t=!1),/^09\d{9}$/.test(a.ContactNumber)||(r.ContactNumber="Please enter a valid PH contact number.",t=!1),a.email||(r.email="Email is required.",t=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(r.email="Invalid email format.",t=!1),a.password?a.password!==a.confirmPassword&&(r.confirmPassword="Passwords do not match.",t=!1):(r.password="Password is required.",t=!1),S(r),t},M=async t=>{if(t.preventDefault(),!P()){p.error("Please fill out this form.");return}const{FirstName:r,LastName:o,Section:c,Department:x,Birthday:L,Address:k,Status:G,Gender:q,ContactNumber:B,email:E,password:R,confirmPassword:H,Age:_}=a;try{const m=await O.post("/api/registerTeacher",{FirstName:r,LastName:o,Section:c,Department:x,Birthday:L,Age:_,Address:k,Status:G,Gender:q,ContactNumber:B,email:E,password:R});m.data.error?p.error(m.data.error):(i({}),p.success(m.data.message),localStorage.setItem("userId",m.data.data.userId),b("/verifyEmail"))}catch(m){console.log(m),p.error("An error occurred. Please try again.")}};return e.jsx("div",{className:"flex bg-[#f6fbff] w-full items-center min-h-screen p-4 md:p-8",children:e.jsx("div",{className:"w-full max-w-4xl mx-auto",children:e.jsxs(Y,{className:"w-full flex flex-col p-4",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-center",children:"Teacher Registration"}),e.jsx("p",{className:"text-sm text-center mb-4",children:"Please fill up the details needed!"}),e.jsx($,{children:e.jsxs("form",{onSubmit:M,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(d,{type:"text",name:"FirstName",label:"First Name",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.FirstName,onChange:t=>i({...a,FirstName:t.target.value}),errorMessage:s.FirstName,isInvalid:!!s.FirstName,endContent:e.jsx(l,{icon:v,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),e.jsx(d,{type:"text",name:"LastName",label:"Last Name",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.LastName,onChange:t=>i({...a,LastName:t.target.value}),errorMessage:s.LastName,isInvalid:!!s.LastName,endContent:e.jsx(l,{icon:v,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),e.jsxs(f,{label:"Section",placeholder:"Select your section",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Section,onChange:t=>i({...a,Section:t.target.value}),errorMessage:s.Section,isInvalid:!!s.Section,children:[e.jsx(n,{disabled:!0,children:"Select Section"},""),e.jsx(n,{children:"Aster"},"Aster"),e.jsx(n,{children:"Camia"},"Camia"),e.jsx(n,{children:"Dahlia"},"Dahlia"),e.jsx(n,{children:"Iris"},"Iris"),e.jsx(n,{children:"Jasmin"},"Jasmin"),e.jsx(n,{children:"Orchid"},"Orchid"),e.jsx(n,{children:"Rose"},"Rose"),e.jsx(n,{children:"Tulip"},"Tulip"),e.jsx(n,{children:"SSC"},"SSC")]}),e.jsxs(f,{label:"Department",placeholder:"Select your department",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Department,onChange:t=>i({...a,Department:t.target.value}),errorMessage:s.Department,isInvalid:!!s.Department,children:[e.jsx(n,{disabled:!0,children:"Select Department"},""),e.jsx(n,{children:"Filipino"},"Filipino")]}),e.jsx(d,{className:"pt-2",type:"date",label:"Birthday",variant:"bordered",value:a.Birthday,onChange:t=>{const r=t.target.value,o=F(r);i({...a,Birthday:r,Age:o})},errorMessage:s.Birthday,isInvalid:!!s.Birthday}),e.jsxs(f,{label:"Gender",name:"Gender",placeholder:"Select your gender",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Gender,onChange:t=>i({...a,Gender:t.target.value}),errorMessage:s.Gender,isInvalid:!!s.Gender,children:[e.jsx(n,{disabled:!0,children:"Select Gender"},""),e.jsx(n,{children:"Male"},"Male"),e.jsx(n,{children:"Female"},"Female"),e.jsx(n,{children:"Other"},"Other")]}),e.jsx(d,{type:"text",name:"Address",label:"Address",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Address,onChange:t=>i({...a,Address:t.target.value}),errorMessage:s.Address,isInvalid:!!s.Address,endContent:e.jsx(l,{icon:T,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),e.jsxs(f,{label:"Status",name:"Status",placeholder:"Select your status",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Status,onChange:t=>i({...a,Status:t.target.value}),errorMessage:s.Status,isInvalid:!!s.Status,children:[e.jsx(n,{disabled:!0,children:"Select Status"},""),e.jsx(n,{children:"Single"},"Single"),e.jsx(n,{children:"Married"},"Married"),e.jsx(n,{children:"Widowed"},"Widowed"),e.jsx(n,{children:"Separated"},"Separated"),e.jsx(n,{children:"Other"},"Other")]}),e.jsx(d,{type:"text",name:"ContactNumber",label:"Contact Number",maxLength:11,variant:"bordered",className:"bg-transparent py-1 my-1",value:a.ContactNumber,onChange:t=>i({...a,ContactNumber:t.target.value}),errorMessage:s.ContactNumber,isInvalid:!!s.ContactNumber,endContent:e.jsx(l,{icon:J,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),e.jsx(d,{type:"text",name:"email",label:"Email",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.email,onChange:t=>i({...a,email:t.target.value}),errorMessage:s.email,isInvalid:!!s.email,endContent:e.jsx(l,{icon:W,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(d,{name:"password",label:"Password",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.password,onChange:t=>i({...a,password:t.target.value}),errorMessage:s.password,isInvalid:!!s.password,endContent:e.jsx("button",{className:"focus:outline-none",type:"button",onClick:w,"aria-label":"toggle password visibility",children:h?e.jsx(l,{icon:N,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"}):e.jsx(l,{icon:y,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),type:h?"text":"password"}),e.jsx(d,{name:"confirmPassword",label:"Confirm Password",variant:"bordered",className:"bg-transparent py-1 my-1",endContent:e.jsx("button",{className:"focus:outline-none",type:"button",onClick:I,"aria-label":"toggle password visibility",children:g?e.jsx(l,{icon:N,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"}):e.jsx(l,{icon:y,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),type:g?"text":"password",value:a.confirmPassword,onChange:t=>i({...a,confirmPassword:t.target.value}),errorMessage:s.confirmPassword,isInvalid:!!s.confirmPassword})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 mt-6",children:[e.jsx(j,{className:"w-full md:w-1/2 text-md",color:"danger",variant:"light",onClick:A,children:"Cancel"}),e.jsx(j,{type:"submit",className:"w-full md:w-1/2 text-md",color:"primary",children:"Submit"})]})]})})]})})})};export{oe as default};
