import{r as o,j as C}from"./react-BCcS7c0c.js";import{R as Y}from"./react-dom-rv-KAOpM.js";import{d as z}from"./dequal-tFQomdd2.js";import{p as X,h as J,a as Q,b as Z,e as ee,o as te,f as ne,d as re,g as oe}from"./@popperjs-CY3HxPKn.js";import{c as _,o as $,l as O,a as F}from"./dom-helpers-BqZ4taC5.js";import{w as ie}from"./warning-Cpq9Zs1R.js";function N(){const e=o.useRef(!0),t=o.useRef(()=>e.current);return o.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function se(e){const t=o.useRef(e);return t.current=e,t}function ue(e){const t=se(e);o.useEffect(()=>()=>t.current(),[])}const A=2**31-1;function G(e,t,n){const r=n-Date.now();e.current=r<=A?setTimeout(t,r):setTimeout(()=>G(e,t,n),A)}function Ye(){const e=N(),t=o.useRef();return ue(()=>clearTimeout(t.current)),o.useMemo(()=>{const n=()=>clearTimeout(t.current);function r(s,i=0){e()&&(n(),i<=A?t.current=setTimeout(s,i):G(t,s,Date.now()+i))}return{set:r,clear:n,handleRef:t}},[])}const D=e=>!e||typeof e=="function"?e:t=>{e.current=t};function ce(e,t){const n=D(e),r=D(t);return s=>{n&&n(s),r&&r(s)}}function j(e,t){return o.useMemo(()=>ce(e,t),[e,t])}function W(){return o.useState(null)}function ae(e){const t=N();return[e[0],o.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}const le=X({defaultModifiers:[J,Q,Z,ee,te,ne,re,oe]}),fe=["enabled","placement","strategy","modifiers"];function de(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const pe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},me={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const r=(t.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==n.id);r.length?t.setAttribute("aria-describedby",r.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:r}=e.elements,s=(t=n.getAttribute("role"))==null?void 0:t.toLowerCase();if(n.id&&s==="tooltip"&&"setAttribute"in r){const i=r.getAttribute("aria-describedby");if(i&&i.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",i?`${i},${n.id}`:n.id)}}},be=[];function ve(e,t,n={}){let{enabled:r=!0,placement:s="bottom",strategy:i="absolute",modifiers:c=be}=n,d=de(n,fe);const l=o.useRef(c),u=o.useRef(),f=o.useCallback(()=>{var p;(p=u.current)==null||p.update()},[]),m=o.useCallback(()=>{var p;(p=u.current)==null||p.forceUpdate()},[]),[v,E]=ae(o.useState({placement:s,update:f,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),a=o.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:p})=>{const g={},b={};Object.keys(p.elements).forEach(h=>{g[h]=p.styles[h],b[h]=p.attributes[h]}),E({state:p,styles:g,attributes:b,update:f,forceUpdate:m,placement:p.placement})}}),[f,m,E]),y=o.useMemo(()=>(z(l.current,c)||(l.current=c),l.current),[c]);return o.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:s,strategy:i,modifiers:[...y,a,pe]})},[i,s,a,r,y]),o.useEffect(()=>{if(!(!r||e==null||t==null))return u.current=le(e,t,Object.assign({},d,{placement:s,strategy:i,modifiers:[...y,me,a]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,E(p=>Object.assign({},p,{attributes:{},styles:{popper:{}}})))}},[r,e,t]),v}function Ee(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e},[e]),t}function x(e){const t=Ee(e);return o.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const I=()=>{};function ge(e){return e.button===0}function ye(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const M=e=>e&&("current"in e?e.current:e),P={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function he(e,t=I,{disabled:n,clickTrigger:r="click"}={}){const s=o.useRef(!1),i=o.useRef(!1),c=o.useCallback(u=>{const f=M(e);ie(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!f||ye(u)||!ge(u)||!!_(f,u.target)||i.current,i.current=!1},[e]),d=x(u=>{const f=M(e);f&&_(f,u.target)&&(i.current=!0)}),l=x(u=>{s.current||t(u)});o.useEffect(()=>{var u,f;if(n||e==null)return;const m=$(M(e)),v=m.defaultView||window;let E=(u=v.event)!=null?u:(f=v.parent)==null?void 0:f.event,a=null;P[r]&&(a=O(m,P[r],d,!0));const y=O(m,r,c,!0),p=O(m,r,b=>{if(b===E){E=void 0;return}l(b)});let g=[];return"ontouchstart"in m.documentElement&&(g=[].slice.call(m.body.children).map(b=>O(b,"mousemove",I))),()=>{a==null||a(),y(),p(),g.forEach(b=>b())}},[e,n,r,c,d,l])}function we(e){return e.code==="Escape"||e.keyCode===27}function Re(){const e=o.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}const Oe=()=>{};function xe(e,t,{disabled:n,clickTrigger:r}={}){const s=t||Oe;he(e,s,{disabled:n,clickTrigger:r});const i=x(c=>{we(c)&&s(c)});o.useEffect(()=>{if(n||e==null)return;const c=$(M(e));let d=(c.defaultView||window).event;const l=O(c,"keyup",u=>{if(u===d){d=void 0;return}i(u)});return()=>{l()}},[e,n,i])}const H=o.createContext(F?window:void 0);H.Provider;function Ce(){return o.useContext(H)}const S=(e,t)=>F?e==null?(t||$()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function K(e,t){const n=Ce(),[r,s]=o.useState(()=>S(e,n==null?void 0:n.document));if(!r){const i=S(e);i&&s(i)}return o.useEffect(()=>{},[t,r]),o.useEffect(()=>{const i=S(e);i!==r&&s(i)},[e,r]),r}function Me(e){const t={};return Array.isArray(e)?(e==null||e.forEach(n=>{t[n.name]=n}),t):e||t}function je(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function Te({enabled:e,enableEvents:t,placement:n,flip:r,offset:s,fixed:i,containerPadding:c,arrowElement:d,popperConfig:l={}}){var u,f,m,v,E;const a=Me(l.modifiers);return Object.assign({},l,{placement:n,enabled:e,strategy:i?"fixed":l.strategy,modifiers:je(Object.assign({},a,{eventListeners:{enabled:t,options:(u=a.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},a.preventOverflow,{options:c?Object.assign({padding:c},(f=a.preventOverflow)==null?void 0:f.options):(m=a.preventOverflow)==null?void 0:m.options}),offset:{options:Object.assign({offset:s},(v=a.offset)==null?void 0:v.options)},arrow:Object.assign({},a.arrow,{enabled:!!d,options:Object.assign({},(E=a.arrow)==null?void 0:E.options,{element:d})}),flip:Object.assign({enabled:!!r},a.flip)}))})}const ke=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Le=typeof document<"u",U=Le||ke?o.useLayoutEffect:o.useEffect;function Se({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=o.useRef(null),c=o.useRef(t),d=x(n);o.useEffect(()=>{t?c.current=!0:d(i.current)},[t,d]);const l=j(i,e.ref),u=o.cloneElement(e,{ref:l});return t?u:s||!c.current&&r?null:u}const Ae=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function $e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _e(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:s,onExiting:i,onExited:c,addEndListener:d,children:l}=e,u=$e(e,Ae);const{major:f}=Re(),m=f>=19?l.props.ref:l.ref,v=o.useRef(null),E=j(v,typeof l=="function"?null:m),a=w=>R=>{w&&v.current&&w(v.current,R)},y=o.useCallback(a(t),[t]),p=o.useCallback(a(n),[n]),g=o.useCallback(a(r),[r]),b=o.useCallback(a(s),[s]),h=o.useCallback(a(i),[i]),T=o.useCallback(a(c),[c]),k=o.useCallback(a(d),[d]);return Object.assign({},u,{nodeRef:v},t&&{onEnter:y},n&&{onEntering:p},r&&{onEntered:g},s&&{onExit:b},i&&{onExiting:h},c&&{onExited:T},d&&{addEndListener:k},{children:typeof l=="function"?(w,R)=>l(w,Object.assign({},R,{ref:E})):o.cloneElement(l,{ref:E})})}const De=["component"];function We(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const Ie=o.forwardRef((e,t)=>{let{component:n}=e,r=We(e,De);const s=_e(r);return C.jsx(n,Object.assign({ref:t},s))});function Pe({in:e,onTransition:t}){const n=o.useRef(null),r=o.useRef(!0),s=x(t);return U(()=>{if(!n.current)return;let i=!1;return s({in:e,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[e,s]),U(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Ke({children:e,in:t,onExited:n,onEntered:r,transition:s}){const[i,c]=o.useState(!t);t&&i&&c(!1);const d=Pe({in:!!t,onTransition:u=>{const f=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(c(!0),n==null||n(u.element)))};Promise.resolve(s(u)).then(f,m=>{throw u.in||c(!0),m})}}),l=j(d,e.ref);return i&&!t?null:o.cloneElement(e,{ref:l})}function Ue(e,t,n){return e?C.jsx(Ie,Object.assign({},n,{component:e})):t?C.jsx(Ke,Object.assign({},n,{transition:t})):C.jsx(Se,Object.assign({},n))}const Fe=o.forwardRef((e,t)=>{const{flip:n,offset:r,placement:s,containerPadding:i,popperConfig:c={},transition:d,runTransition:l}=e,[u,f]=W(),[m,v]=W(),E=j(f,t),a=K(e.container),y=K(e.target),[p,g]=o.useState(!e.show),b=ve(y,u,Te({placement:s,enableEvents:!!e.show,containerPadding:i||5,flip:n,offset:r,arrowElement:m,popperConfig:c}));e.show&&p&&g(!1);const h=(...B)=>{g(!0),e.onExited&&e.onExited(...B)},T=e.show||!p;if(xe(u,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!T)return null;const{onExit:k,onExiting:w,onEnter:R,onEntering:V,onEntered:q}=e;let L=e.children(Object.assign({},b.attributes.popper,{style:b.styles.popper,ref:E}),{popper:b,placement:s,show:!!e.show,arrowProps:Object.assign({},b.attributes.arrow,{style:b.styles.arrow,ref:v})});return L=Ue(d,l,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:L,onExit:k,onExiting:w,onExited:h,onEnter:R,onEntering:V,onEntered:q}),a?Y.createPortal(L,a):null});Fe.displayName="Overlay";export{Fe as O,x as a,U as b,Ye as c,j as u};
