import{o as xe,l as ve,r as i,j as x,b as $e}from"./index-BeTcVfSM.js";import{D as he,e as k,t as we,j as ye,h as g,u as E,f as h,c as S,n as ge,I as Ee,q as Ce,v as Me,x as w,Q as Be}from"./chunk-DBLREEYE-BzKuSura.js";import{b as Ne,$ as Pe}from"./useOverlayTriggerState-efY3q-2i.js";import{$ as H,d as ke,b as Se,a as Te,c as Ie}from"./Overlay-BQdpL7pO.js";function q(e,o){let t=e;for(H(t,o)&&(t=t.parentElement);t&&!H(t,o);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const N=typeof document<"u"&&window.visualViewport,Oe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let y=0,P;function Ae(e={}){let{isDisabled:o}=e;he(()=>{if(!o)return y++,y===1&&(xe()?P=Re():P=De()),()=>{y--,y===0&&P()}},[o])}function De(){return k(b(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),b(document.documentElement,"overflow","hidden"))}function Re(){let e,o,t=a=>{e=q(a.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(o=b(e,"overscrollBehavior","contain"))},n=a=>{if(!e||e===document.documentElement||e===document.body){a.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&a.preventDefault()},l=a=>{let s=a.target;F(s)&&s!==document.activeElement&&(a.preventDefault(),d(),s.style.transform="translateY(-2000px)",s.focus(),requestAnimationFrame(()=>{s.style.transform=""})),o&&o()},c=a=>{let s=a.target;F(s)&&(d(),s.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{s.style.transform="",N&&(N.height<window.innerHeight?requestAnimationFrame(()=>{_(s)}):N.addEventListener("resize",()=>_(s),{once:!0}))}))},r=null,d=()=>{if(r)return;let a=()=>{window.scrollTo(0,0)},s=window.pageXOffset,m=window.pageYOffset;r=k($(window,"scroll",a),b(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),b(document.documentElement,"overflow","hidden"),b(document.body,"marginTop",`-${m}px`),()=>{window.scrollTo(s,m)}),window.scrollTo(0,0)},u=k($(document,"touchstart",t,{passive:!1,capture:!0}),$(document,"touchmove",n,{passive:!1,capture:!0}),$(document,"touchend",l,{passive:!1,capture:!0}),$(document,"focus",c,!0));return()=>{o==null||o(),r==null||r(),u()}}function b(e,o,t){let n=e.style[o];return e.style[o]=t,()=>{e.style[o]=n}}function $(e,o,t,n){return e.addEventListener(o,t,n),()=>{e.removeEventListener(o,t,n)}}function _(e){let o=document.scrollingElement||document.documentElement;for(;e&&e!==o;){let t=q(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let n=t.getBoundingClientRect().top,l=e.getBoundingClientRect().top;l>n+e.clientHeight&&(t.scrollTop+=l-n)}e=t.parentElement}}function F(e){return e instanceof HTMLInputElement&&!Oe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var V=we({slots:{wrapper:["flex","w-screen","h-[100dvh]","fixed","inset-0","z-50","overflow-x-auto","justify-center"],base:["flex","flex-col","relative","bg-white","z-50","w-full","box-border","bg-content1","outline-none","mx-1","my-1","sm:mx-6","sm:my-16"],backdrop:"z-50",header:"flex py-4 px-6 flex-initial text-large font-semibold",body:"flex flex-1 flex-col gap-3 px-6 py-2",footer:"flex flex-row gap-2 px-6 py-4 justify-end",closeButton:["absolute","appearance-none","outline-none","select-none","top-1","right-1","rtl:left-1","rtl:right-[unset]","p-2","text-foreground-500","rounded-full","hover:bg-default-100","active:bg-default-200","tap-highlight-transparent",...ye]},variants:{size:{xs:{base:"max-w-xs"},sm:{base:"max-w-sm"},md:{base:"max-w-md"},lg:{base:"max-w-lg"},xl:{base:"max-w-xl"},"2xl":{base:"max-w-2xl"},"3xl":{base:"max-w-3xl"},"4xl":{base:"max-w-4xl"},"5xl":{base:"max-w-5xl"},full:{base:"my-0 mx-0 sm:mx-0 sm:my-0 max-w-full h-[100dvh] !rounded-none"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"}},placement:{auto:{wrapper:"items-end sm:items-center"},center:{wrapper:"items-center sm:items-center"},top:{wrapper:"items-start sm:items-start"},"top-center":{wrapper:"items-start sm:items-center"},bottom:{wrapper:"items-end sm:items-end"},"bottom-center":{wrapper:"items-end sm:items-center"}},shadow:{sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},backdrop:{transparent:{backdrop:"hidden"},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-md backdrop-saturate-150 bg-overlay/30"}},scrollBehavior:{normal:{base:"overflow-y-hidden"},inside:{base:"max-h-[calc(100%_-_8rem)]",body:"overflow-y-auto"},outside:{wrapper:"items-start sm:items-start overflow-y-auto",base:"my-16"}},disableAnimation:{false:{wrapper:["[--scale-enter:100%]","[--scale-exit:100%]","[--slide-enter:0px]","[--slide-exit:80px]","sm:[--scale-enter:100%]","sm:[--scale-exit:103%]","sm:[--slide-enter:0px]","sm:[--slide-exit:0px]"]}}},defaultVariants:{size:"md",radius:"lg",shadow:"sm",placement:"auto",backdrop:"opaque",scrollBehavior:"normal"},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"w-screen h-screen fixed inset-0"}}]}),[je,T]=ve({name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Modal />`"}),L=g((e,o)=>{const{as:t,children:n,className:l,...c}=e,{slots:r,classNames:d,bodyId:u,setBodyMounted:a}=T(),s=E(o),m=t||"div";return i.useEffect(()=>(a(!0),()=>a(!1)),[a]),x.jsx(m,{ref:s,className:r.body({class:h(d==null?void 0:d.body,l)}),id:u,...c,children:n})});L.displayName="NextUI.ModalBody";var We=L,W=g((e,o)=>{const{as:t,children:n,className:l,...c}=e,{slots:r,classNames:d}=T(),u=E(o),a=t||"footer";return x.jsx(a,{ref:u,className:r.footer({class:h(d==null?void 0:d.footer,l)}),...c,children:n})});W.displayName="NextUI.ModalFooter";var ze=W,z=g((e,o)=>{const{as:t,children:n,className:l,...c}=e,{slots:r,classNames:d,headerId:u,setHeaderMounted:a}=T(),s=E(o),m=t||"header";return i.useEffect(()=>(a(!0),()=>a(!1)),[a]),x.jsx(m,{ref:s,className:r.header({class:h(d==null?void 0:d.header,l)}),id:u,...c,children:n})});z.displayName="NextUI.ModalHeader";var Ue=z;function He(e={shouldBlockScroll:!0},o,t){let{overlayProps:n,underlayProps:l}=Ne({...e,isOpen:o.isOpen,onClose:o.close},t);return Ae({isDisabled:!o.isOpen||!e.shouldBlockScroll}),ke(),i.useEffect(()=>{if(o.isOpen&&t.current)return Se([t.current])},[o.isOpen,t]),{modalProps:S(n),underlayProps:l}}function _e(e){var o,t,n;const l=$e(),[c,r]=ge(e,V.variantKeys),{ref:d,as:u,className:a,classNames:s,isOpen:m,defaultOpen:Y,onOpenChange:I,motionProps:K,closeButton:X,isDismissable:C=!0,hideCloseButton:Q=!1,shouldBlockScroll:O=!0,portalContainer:G,isKeyboardDismissDisabled:J=!1,onClose:A,...Z}=c,ee=u||"section",M=E(d),oe=i.useRef(null),[te,se]=i.useState(!1),[ae,ne]=i.useState(!1),B=(t=(o=e.disableAnimation)!=null?o:l==null?void 0:l.disableAnimation)!=null?t:!1,le=i.useId(),D=i.useId(),R=i.useId(),f=Pe({isOpen:m,defaultOpen:Y,onOpenChange:p=>{I==null||I(p),p||A==null||A()}}),{modalProps:re,underlayProps:j}=He({isDismissable:C,shouldBlockScroll:O,isKeyboardDismissDisabled:J},f,M),{buttonProps:de}=Ee({onPress:f.close},oe),{isFocusVisible:ce,focusProps:ie}=Ce(),ue=h(s==null?void 0:s.base,a),v=i.useMemo(()=>V({...r,disableAnimation:B}),[Me(r),B]),me=(p={},be=null)=>({ref:Te(be,M),...S(re,Z,p),className:v.base({class:h(ue,p.className)}),id:le,"data-open":w(f.isOpen),"data-dismissable":w(C),"aria-modal":w(!0),"aria-labelledby":te?D:void 0,"aria-describedby":ae?R:void 0}),pe=i.useCallback((p={})=>({className:v.backdrop({class:s==null?void 0:s.backdrop}),onClick:()=>f.close(),...j,...p}),[v,s,j]),fe=()=>({role:"button",tabIndex:0,"aria-label":"Close","data-focus-visible":w(ce),className:v.closeButton({class:s==null?void 0:s.closeButton}),...S(de,ie)});return{Component:ee,slots:v,domRef:M,headerId:D,bodyId:R,motionProps:K,classNames:s,isDismissable:C,closeButton:X,hideCloseButton:Q,portalContainer:G,shouldBlockScroll:O,backdrop:(n=e.backdrop)!=null?n:"opaque",isOpen:f.isOpen,onClose:f.close,disableAnimation:B,setBodyMounted:ne,setHeaderMounted:se,getDialogProps:me,getBackdropProps:pe,getCloseButtonProps:fe}}var U=g((e,o)=>{const{children:t,...n}=e,l=_e({...n,ref:o}),c=x.jsx(Ie,{portalContainer:l.portalContainer,children:t});return x.jsx(je,{value:l,children:l.disableAnimation&&l.isOpen?c:x.jsx(Be,{children:l.isOpen?c:null})})});U.displayName="NextUI.Modal";var Ye=U;export{Ue as a,We as b,ze as c,Ye as m,T as u};
