import{c as h,u as p,r as n,U as f,j as e,a as g,_ as j}from"./index-C0mq2pM1.js";import{A as N}from"./AdminSidebar-IiVpn-6z.js";import{C as u}from"./ContentHeader-DPLcpCle.js";import{F as y,d as A}from"./index-DXLE2NwT.js";import{A as v}from"./AddFeedback-CsI0275l.js";import{t as c}from"./profile-CycooEAC.js";import{b as d}from"./chunk-DBLREEYE-CmAhUcF6.js";import"./chunk-P2T5LMDM-unMqp2aE.js";import"./useOverlayTriggerState-DcLuQhII.js";import"./Overlay-BDkNJOCE.js";import"./chunk-LT4XONRR-BbvgX0Jf.js";import"./useDialog-cdyi40F6.js";import"./useLabels-C6nxSUGo.js";import"./VisuallyHidden-Ipnd9vIt.js";import"./chunk-GQQM5TNQ-DjbyrHNV.js";import"./chunk-CAFRINWI-CMvs8fyY.js";import"./useFormReset-C-mRlYoR.js";import"./useField-BOxuQbUu.js";import"./chunk-CEHIK4GH-JCd2cYw1.js";import"./chunk-ATAY3LCU-CYbVDLyy.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./chunk-CIZQCQPA-ByI2RMzI.js";const b=o=>{const t=parseInt(o,10);if(isNaN(t))return"Not applicable";const i=Math.floor(t/60),l=t%60;return`${i}:${l<10?"0":""}${l} min`},w=()=>{const{UserInputId:o}=h(),t=p(),{user:i}=n.useContext(f),[l,m]=n.useState(!1),[s,x]=n.useState({UserInputId:"",LRN:"",Section:"",ActivityCode:"",Type:"",PerformanceItems:[],Questions:[],Score:"",TimeRead:""});return n.useEffect(()=>{(async()=>{try{const r=await g.get(`/api/getPerformance/${o}`);x(r.data)}catch{j.error("Failed to fetch performance data. Please try again later.")}})()},[o]),e.jsxs("div",{className:"p-10",children:[e.jsx(v,{show:l,onHide:()=>m(!1),actCode:s.ActivityCode,userid:(i==null?void 0:i.UserID)||"",lrn:s.LRN,section:s.Section}),e.jsxs("div",{className:"flex items-center justify-start gap-2 mb-5",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"View Performance"}),e.jsx(c,{showArrow:!0,content:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-sm font-bold",children:"View Student Performance"}),e.jsx("div",{className:"text-xs",children:"This section displays the student's performance."})]}),children:e.jsx(y,{icon:A,className:"text-gray-600"})})]}),e.jsxs("div",{className:"w-full max-w-8xl mx-auto bg-white shadow-lg rounded-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Assessment Details"}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Activity Code:"})," ",s.ActivityCode||"N/A"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"LRN:"})," ",s.LRN||"N/A"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Section:"})," ",s.Section||"N/A"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Type:"})," ",s.Type||"N/A"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Score:"})," ",s.Score||"N/A"]})}),s.Type==="Pagbabasa"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Questions and Answers"}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Time Read:"})," ",b(s.TimeRead)]}),s.Questions&&s.Questions.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.Questions.map((a,r)=>e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow",children:[e.jsxs("p",{className:"text-gray-800",children:[e.jsxs("strong",{children:["Question ",r+1,":"]})," ",a.Question||"N/A"]}),e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Answer:"})," ",a.Answer||"N/A"]})]},r))}):e.jsx("p",{className:"text-gray-700",children:"No questions available for this assessment."})]}),s.Type!=="Pagbabasa"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Items"}),s.PerformanceItems&&s.PerformanceItems.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:s.PerformanceItems.map((a,r)=>e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg shadow",children:[e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Item Code:"})," ",a.ItemCode]}),e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Word:"})," ",a.Word||"N/A"]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:a.UserAudioURL?e.jsx(c,{content:"Play User Audio",children:e.jsx(d,{as:"a",href:a.UserAudioURL,target:"_blank",rel:"noopener noreferrer",color:"primary",size:"sm",children:"Play User Audio"})}):"No audio uploaded"}),e.jsx("div",{className:"flex items-center gap-2",children:a.DefaultAudio?e.jsx(c,{content:"Play Default Audio",children:e.jsx(d,{as:"a",href:a.DefaultAudio,target:"_blank",rel:"noopener noreferrer",color:"primary",size:"sm",children:"Play Default Audio"})}):"No default audio available"})]})]},r))}):e.jsx("p",{className:"text-gray-700",children:"No items available for this assessment."})]}),e.jsx("div",{className:"mt-6 flex gap-5",children:e.jsx(d,{color:"danger",onClick:()=>t(-1),className:"mt-4",children:"Back"})})]})]})},J=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(N,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(u,{}),e.jsx(w,{})]})]});export{J as default};
