import{j as e,r as s}from"./react-BCcS7c0c.js";import{C as O}from"./ContentHeader-B2Ht1HTi.js";import{S as W}from"./Sidebar-Dk_xdG0_.js";import{l as J}from"./react-export-table-to-excel-CDdXcfrC.js";import{R as X}from"./react-paginate-BYTMUaIF.js";import{F as S,d as Y,i as Z,j as ee}from"./@fortawesome-BVdY808A.js";import{a as R}from"./axios-CCb-kr4I.js";import{P as te}from"./PrintRecord-LBy-exmt.js";import{P as g}from"./prop-types-LuavYUF2.js";import{L as se}from"./react-router-dom-Dk6_dLEo.js";import{m as ae,f as re,g as le,h as ie,j as oe,b as c,t as D,i as ne,k as ce,n as de,o as a,p as he,q as me,r}from"./@nextui-org-CLkIIHEi.js";import{A as xe,D as ue}from"./DeleteStudent-Cj9PH2b5.js";import{U as fe}from"./UpdateStudent-DE29nnoj.js";import{U as pe}from"./index-ByxnD8YG.js";import"./@babel-m2JXyA6a.js";import"./profile-Berhznzr.js";import"./react-router-MkLRJz4d.js";import"./@remix-run-BOUEh3jQ.js";import"./react-dom-rv-KAOpM.js";import"./scheduler-CzFDRTuY.js";import"./@react-aria-CfXSs2UI.js";import"./@react-stately-ChQ0zIrC.js";import"./clsx-B-dksMZM.js";import"./@swc-DS7M6wx8.js";import"./@internationalized-BB0Nk989.js";import"./framer-motion-BvVSIgoR.js";import"./react-textarea-autosize-bEG1sDiq.js";import"./use-latest-2zZSkz0C.js";import"./use-isomorphic-layout-effect-Co3QFFXf.js";import"./use-composed-ref-BmZZpR7Y.js";import"./tailwind-variants-ayMnMv5e.js";import"./tailwind-merge-Dc5vmgZ1.js";import"./react-hot-toast-Dux6v_Wl.js";import"./goober-vt3s6TGe.js";const P=({show:i,onHide:d,student:o})=>e.jsx(ae,{isOpen:i,onClose:d,"aria-labelledby":"contained-modal-title-vcenter",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(re,{children:[e.jsx(le,{className:"flex flex-col",id:"edit-user-modal-title",children:"View Student Information"}),e.jsx(ie,{children:e.jsx("p",{children:"Do you want to view the profile of student selected?"})}),e.jsxs(oe,{children:[e.jsx(c,{color:"danger",variant:"light",onClick:d,children:"Cancel"}),e.jsx(se,{to:`/viewStudent/${o==null?void 0:o._id}`,children:e.jsx(c,{color:"primary",children:"View"})})]})]})});P.propTypes={show:g.bool.isRequired,onHide:g.func.isRequired,student:g.object};const je=()=>{const{user:i}=s.useContext(pe),[d,o]=s.useState(!1),[L,w]=s.useState(!1),[k,b]=s.useState(!1),[E,N]=s.useState(!1),[M,h]=s.useState(!1),[m,v]=s.useState([]),[C,T]=s.useState([]),[x,A]=s.useState(""),[u,f]=s.useState(null),[F,H]=s.useState(0),[p]=s.useState(10),[j,Se]=s.useState(""),[n,U]=s.useState(""),y=s.useRef(null),{onDownload:V}=J.useDownloadExcel({currentTableRef:y.current,filename:"Student_List_Report_table",sheet:"Students"});s.useEffect(()=>{i&&i.UserID&&R.get(`/api/getTeacher/${i.UserID}`).then(t=>{A(t.data.Section)}).catch(t=>console.log(t))},[i]),s.useEffect(()=>{R.get("/api/getStudents").then(t=>{v(t.data)}).catch(t=>console.log(t))},[]),s.useEffect(()=>{let t=m;x&&(t=t.filter(l=>l.Section===x)),n&&(t=t.filter(l=>l.FirstName.toLowerCase().includes(n.toLowerCase())||l.LastName.toLowerCase().includes(n.toLowerCase())||l.LRN.includes(n))),j&&(t=t.filter(l=>l.Section===j)),T(t)},[n,j,m,x]);const z=()=>w(!0),I=t=>{f(t),N(!0)},B=t=>{f(t),b(!0)},G=t=>{f(t),h(!0)},q=t=>{v(m.filter(l=>l._id!==t)),h(!1)},Q=t=>H(t.selected),_=F*p,$=C.slice(_,_+p),K=t=>{switch(t){case"Grade Ready Reader":return"text-green-600";case"Transitioning Reader":return"text-blue-600";case"Developing Reader":return"text-orange-600";case"Low and High Emerging Reader":return"text-red-600";case"Incomplete":return"text-gray-600";default:return"text-black"}};return e.jsxs("div",{className:"px-9",children:[e.jsx(te,{show:L,onHide:()=>w(!1),print:V}),e.jsx(xe,{show:d,onHide:()=>o(!1)}),e.jsx(P,{show:E,onHide:()=>N(!1),student:u}),e.jsx(fe,{show:k,student:u,onHide:()=>b(!1)}),e.jsx(ue,{show:M,onHide:()=>h(!1),student:u,onDeleteSuccess:q}),e.jsxs("div",{className:"content-title-header",children:[e.jsxs("div",{children:["Manage Student",e.jsx(D,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Student Table"}),e.jsx("div",{className:"text-tiny",children:"This function will view the list of the students in each section."})]}),children:e.jsx(S,{icon:Y,size:"1x",className:"help-icon"})})]}),e.jsx("div",{className:"generate-report",children:e.jsx(D,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Print"}),e.jsx("div",{className:"text-tiny",children:"Generate report/Print table"})]}),children:e.jsx(S,{icon:Z,size:"1x",className:"print-icon",onClick:z})})})]}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card mt-1 border-0",children:[e.jsx("div",{className:"list-header-drop-score",children:e.jsx("div",{className:"w-[40%] flex pt-4",children:e.jsx(ne,{type:"text",placeholder:"Search Student Name or LRN",variant:"bordered",startContent:e.jsx(S,{icon:ee,size:"1x",inverse:!0,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}),onChange:t=>U(t.target.value)})})}),e.jsxs("div",{className:"card-body scrollable-table scrollable-container",children:[e.jsxs(ce,{ref:y,removeWrapper:!0,color:"primary",selectionMode:"single",children:[e.jsxs(de,{children:[e.jsx(a,{children:"LRN"}),e.jsx(a,{children:"First Name"}),e.jsx(a,{children:"Last Name"}),e.jsx(a,{children:"Age"}),e.jsx(a,{children:"Section"}),e.jsx(a,{children:"Birthday"}),e.jsx(a,{children:"Mother Tongue"}),e.jsx(a,{children:"Gender"}),e.jsx(a,{children:"Status"})," ",e.jsx(a,{className:"text-center",children:"Actions"})]}),e.jsx(he,{emptyContent:"No rows to display.",children:$.map(t=>e.jsxs(me,{children:[e.jsx(r,{children:t.LRN}),e.jsx(r,{children:t.FirstName}),e.jsx(r,{children:t.LastName}),e.jsx(r,{children:t.Age}),e.jsx(r,{children:t.Section}),e.jsx(r,{children:t.Birthday}),e.jsx(r,{children:t.MotherTongue}),e.jsx(r,{children:t.Gender}),e.jsx(r,{children:e.jsx("span",{className:K(t.status),children:t.status})}),e.jsx(r,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(c,{color:"primary",size:"sm",onClick:()=>I(t),children:"View"}),e.jsx(c,{color:"secondary",size:"sm",onClick:()=>B(t),children:"Edit"}),e.jsx(c,{color:"danger",size:"sm",onClick:()=>G(t),children:"Delete"})]})})]},t._id))})]}),e.jsx(X,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(C.length/p),marginPagesDisplayed:2,pageRangeDisplayed:10,onPageChange:Q,containerClassName:"pagination",activeClassName:"active"})]})]})})})})]})},Ze=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6]",children:e.jsx(W,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(O,{}),e.jsx(je,{})]})]});export{Ze as default};
