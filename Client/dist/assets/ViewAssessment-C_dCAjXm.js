import{j as e,r as t}from"./react-BCcS7c0c.js";import{C as Q}from"./ContentHeader-D_Hb8_9_.js";import{S as X}from"./Sidebar-DrSsHGrI.js";import{l as Y}from"./react-export-table-to-excel-CDdXcfrC.js";import{F as I,d as Z,i as ee}from"./@fortawesome-BVdY808A.js";import{a as D}from"./axios-CCb-kr4I.js";import{P as se}from"./PrintRecord-LBy-exmt.js";import{C as te,I as le,a as re,D as oe}from"./importSentence-BSD88HFs.js";import{U as ae}from"./index-CTn7D3WU.js";import{P as j}from"./prop-types-LuavYUF2.js";import{L as ie}from"./react-router-dom-Dk6_dLEo.js";import{m as ne,f as de,g as ce,h as me,j as he,b as i,t as T,s as k,l as r,k as xe,n as pe,o as h,p as fe,q as ue,r as x}from"./@nextui-org-CLkIIHEi.js";import"./@babel-m2JXyA6a.js";import"./profile-Berhznzr.js";import"./react-router-MkLRJz4d.js";import"./@remix-run-BOUEh3jQ.js";import"./react-dom-rv-KAOpM.js";import"./scheduler-CzFDRTuY.js";import"./react-hot-toast-Dux6v_Wl.js";import"./goober-vt3s6TGe.js";import"./@react-aria-CfXSs2UI.js";import"./@react-stately-ChQ0zIrC.js";import"./clsx-B-dksMZM.js";import"./@swc-DS7M6wx8.js";import"./@internationalized-BB0Nk989.js";import"./framer-motion-BvVSIgoR.js";import"./react-textarea-autosize-bEG1sDiq.js";import"./use-latest-2zZSkz0C.js";import"./use-isomorphic-layout-effect-Co3QFFXf.js";import"./use-composed-ref-BmZZpR7Y.js";import"./tailwind-variants-ayMnMv5e.js";import"./tailwind-merge-Dc5vmgZ1.js";const R=({show:p,onHide:c,activity:m})=>e.jsx(ne,{isOpen:p,onClose:c,"aria-labelledby":"contained-modal-title-vcenter",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(de,{children:[e.jsx(ce,{className:"flex flex-col",id:"edit-user-modal-title",children:"View Assessment Information"}),e.jsx(me,{children:e.jsx("p",{children:"Do you want to view the assessment of the student selected?"})}),e.jsxs(he,{children:[e.jsx(i,{color:"danger",variant:"light",onClick:c,children:"Cancel"}),e.jsx(ie,{to:`/ViewActivityAssessment/${m==null?void 0:m.ActivityCode}`,children:e.jsx(i,{color:"primary",children:"View"})})]})]})});R.propTypes={show:j.bool.isRequired,onHide:j.func.isRequired,activity:j.object};const je=()=>{const[p,c]=t.useState(!1),[m,b]=t.useState(!1),[U,w]=t.useState(!1),[E,S]=t.useState(!1),[G,v]=t.useState(!1),[A,g]=t.useState(null),[y,V]=t.useState([]),[M,_]=t.useState([]),[f,F]=t.useState(""),[H,N]=t.useState(!1),[u,q]=t.useState(""),[W,$]=t.useState(""),{user:l}=t.useContext(ae),z=()=>c(!1),B=()=>c(!0),C=t.useRef(null),{onDownload:L}=Y.useDownloadExcel({currentTableRef:C.current,filename:"Student_Assessment_Report_table",sheet:"Assessment"});t.useEffect(()=>{l&&l.UserID&&D.get(`/api/getTeacher/${l.UserID}`).then(s=>{$(s.data.Section)}).catch(s=>console.log(s))},[l]),t.useEffect(()=>{l&&l.UserID&&D.get(`/api/getActivity/${l.UserID}`).then(s=>{const o=s.data.filter(a=>a.UserID===l.UserID);V(o),_(o)}).catch(s=>console.log(s))},[l]);const K=()=>{v(!0)},O=()=>{b(!0)},J=()=>{S(!0)},P=(s,o)=>{const a=s.target.value;o==="period"?F(a):o==="type"&&q(a);let n=y;a!==""&&(n=y.filter(d=>o==="period"?d.Period===a:d.Type===a)),f&&o==="type"&&(n=n.filter(d=>d.Period===f)),u&&o==="period"&&(n=n.filter(d=>d.Type===u)),_(n)};return e.jsxs("div",{className:"px-9",children:[e.jsx(se,{show:G,onHide:()=>v(!1),print:L}),e.jsx(te,{show:p,handleClose:z,userId:l.UserID,section:W}),e.jsx(le,{show:m,onHide:()=>b(!1)}),e.jsx(re,{show:E,onHide:()=>S(!1)}),e.jsx(R,{show:U,activity:A,onHide:()=>w(!1)}),e.jsx(oe,{show:H,activity:A,onHide:()=>N(!1)}),e.jsxs("div",{className:"content-title-header",children:[e.jsxs("div",{children:["Manage Student Assessment",e.jsx(T,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Assessment Table"}),e.jsx("div",{className:"text-tiny",children:"This function will view the assessment of the students in each section."})]}),children:e.jsx(I,{icon:Z,size:"1x",className:"help-icon"})})]}),e.jsx("div",{className:"generate-report",children:e.jsx(T,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Print"}),e.jsx("div",{className:"text-tiny",children:"Generate report/Print table"})]}),children:e.jsx(I,{icon:ee,size:"1x",className:"print-icon",onClick:K})})})]}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card mt-1 border-0",children:[e.jsxs("div",{className:"list-header-drop-score",children:[e.jsxs("div",{className:"flex flex-row gap-5 justify-start w-[100%]",children:[e.jsxs(k,{labelPlacement:"outside",label:"Sort by Grading Period",variant:"bordered",className:"bg-transparent w-[20%]",onChange:s=>P(s,"period"),value:f,children:[e.jsx(r,{children:"Select Grading Period"},""),e.jsx(r,{children:"Grading Period 1"},"1"),e.jsx(r,{children:"Grading Period 2"},"2"),e.jsx(r,{children:"Grading Period 3"},"3"),e.jsx(r,{children:"Grading Period 4"},"4")]}),e.jsxs(k,{className:"w-[20%]",labelPlacement:"outside",label:"Sort by Type",variant:"bordered",onChange:s=>P(s,"type"),value:u,children:[e.jsx(r,{children:"Select Type of Assessment:"},""),e.jsx(r,{children:"Assessment 1"},"Pagbabaybay"),e.jsx(r,{children:"Assessment 2"},"Pantig"),e.jsx(r,{children:"Assessment 3"},"Salita"),e.jsx(r,{children:"Assessment 4"},"Pagbabasa")]})]}),e.jsxs("div",{className:"flex flex-row gap-5 justify-end mt-3",children:[e.jsx(i,{auto:!0,onClick:J,color:"default",children:"Import Sentence"}),e.jsx(i,{auto:!0,onClick:O,color:"default",children:"Import Word"}),e.jsx(i,{auto:!0,onClick:B,color:"primary",children:"Create Activity"})]})]}),e.jsx("div",{className:"card-body scrollable-table scrollable-container",children:e.jsxs(xe,{"aria-label":"Assessment Table",ref:C,removeWrapper:!0,color:"primary",selectionMode:"single",children:[e.jsxs(pe,{children:[e.jsx(h,{children:"Activity Code"}),e.jsx(h,{children:"Grading Period"}),e.jsx(h,{children:"Type"}),e.jsx(h,{children:"Status"}),e.jsx(h,{className:"text-center",children:"Actions"})]}),e.jsx(fe,{emptyContent:"No rows to display.",children:M.map(s=>e.jsxs(ue,{children:[e.jsx(x,{children:s.ActivityCode}),e.jsx(x,{children:s.Period}),e.jsx(x,{children:s.Type}),e.jsx(x,{children:s.Assessment}),e.jsx(x,{className:"text-center",children:e.jsxs("div",{className:"table-buttons",children:[e.jsx(i,{color:"primary",onClick:()=>{g(s),w(!0)},children:"View"}),e.jsx(i,{color:"danger",onClick:()=>{g(s),N(!0)},children:"Delete"})]})})]},s._id))})]})})]})})})})]})},Qe=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6]",children:e.jsx(X,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(Q,{}),e.jsx(je,{})]})]});export{Qe as default};
