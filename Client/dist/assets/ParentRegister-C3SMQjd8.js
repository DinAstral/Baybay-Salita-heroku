import{r as x,u as D,j as t,a as O,n as f}from"./index-BXV9bpMK.js";import{F as d,l as p,m as $,n as U,f as W,b as C,a as j}from"./index-xgicLjPJ.js";import{c as z,a as H}from"./chunk-H4VOEXHF-Bb8e3f8p.js";import{i as l}from"./chunk-GQQM5TNQ-BoIlqCBx.js";import{s as w,l as o}from"./chunk-CEHIK4GH-CW9VsxRl.js";import{b as S}from"./chunk-DBLREEYE-15uI-xy1.js";import"./useField-CHGuITbW.js";import"./useLabels-BQlx2yix.js";import"./useFormReset-C52w8Xoc.js";import"./getChildNodes-iRsPuWMD.js";import"./useOverlayTriggerState-3bp4qIh8.js";import"./useDialog-CmpqWMcq.js";import"./VisuallyHidden-D16j2PK0.js";const ie=()=>{const[a,n]=x.useState({FirstName:"",LastName:"",StudentName:"",LRN:"",Birthday:"",Gender:"",Address:"",Status:"",ContactNumber:"",email:"",password:"",confirmPassword:""}),L=()=>{v("/register")},[s,P]=x.useState({}),v=D(),[N,R]=x.useState(!1),I=()=>R(!N),[h,G]=x.useState(!1),M=()=>G(!h);function y(e){return!isNaN(e)}function F(e){const i=[],u=/[A-Z]/.test(e),m=/[a-z]/.test(e),g=/\d/.test(e),b=/[!@#$%^&*(),.?":{}|<>]/.test(e);return e?(e.length<8&&i.push("Password must be at least 8 characters long."),u||i.push("Password must contain at least one uppercase letter."),m||i.push("Password must contain at least one lowercase letter."),g||i.push("Password must contain at least one digit."),b||i.push("Password must contain at least one special character."),i.length>0?i.join(" "):null):"Password is required."}const A=()=>{let e=!0,r={};a.FirstName||(r.FirstName="First Name is required",e=!1),a.LastName||(r.LastName="Last Name is required",e=!1),a.LRN||(r.LRN="LRN is required",e=!1),y(a.LRN)||(r.LRN="Invalid LRN",e=!1),a.StudentName||(r.StudentName="StudentName is required",e=!1),a.Birthday||(r.Birthday="Birthday is required",e=!1),a.Gender||(r.Gender="Gender is required",e=!1),a.Address||(r.Address="Address is required",e=!1),a.Status||(r.Status="Status is required",e=!1),a.ContactNumber||(r.ContactNumber="Contact Number is required",e=!1),y(a.ContactNumber)||(r.ContactNumber="Invalid Contact Number",e=!1),/^09\d{9}$/.test(a.ContactNumber)||(r.ContactNumber="Enter PH Contact number",e=!1),a.email||(r.email="Email is required",e=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(r.email="Invalid email format.");const m=F(a.password);return m?(r.password=m,e=!1):a.password!==a.confirmPassword&&(r.confirmPassword="Passwords do not match.",e=!1),P(r),e},E=async e=>{if(e.preventDefault(),!A()){f.error("Please fix the errors in the form.");return}const{FirstName:r,LastName:i,StudentName:u,LRN:m,Birthday:g,Address:b,Status:q,Gender:B,ContactNumber:k,email:_,password:V}=a;try{const c=await O.post("/api/registerParent",{FirstName:r,LastName:i,StudentName:u,LRN:m,Birthday:g,Address:b,Status:q,Gender:B,ContactNumber:k,email:_,password:V});c.data.error?f.error(c.data.error):(n({}),f.success("Register Verification."),localStorage.setItem("userId",c.data.data.userId),v("/verifyEmail"))}catch(c){console.log(c),f.error("An error occurred. Please try again.")}};return t.jsx("div",{className:"flex bg-[#f6fbff] w-full items-center min-h-screen p-4 md:p-8",children:t.jsx("div",{className:"w-full max-w-4xl mx-auto",children:t.jsxs(z,{className:"w-full flex flex-col p-4",children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-center",children:"Parent Registration"}),t.jsx("p",{className:"text-sm text-center mb-4",children:"Please fill up the details needed!"}),t.jsx(H,{children:t.jsxs("form",{onSubmit:E,children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(l,{type:"text",name:"FirstName",label:"First Name",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.FirstName,errorMessage:s.FirstName,isInvalid:!!s.FirstName,onChange:e=>n({...a,FirstName:e.target.value}),endContent:t.jsx(d,{icon:p,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(l,{type:"text",name:"LastName",label:"Last Name",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.LastName,errorMessage:s.LastName,isInvalid:!!s.LastName,onChange:e=>n({...a,LastName:e.target.value}),endContent:t.jsx(d,{icon:p,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(l,{type:"text",label:"Name of Grade 1 student",name:"Name of Grade 1 student",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.StudentName,errorMessage:s.StudentName,isInvalid:!!s.StudentName,onChange:e=>n({...a,StudentName:e.target.value}),endContent:t.jsx(d,{icon:p,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(l,{type:"text",label:"LRN of Grade 1 student",name:"LRN of Grade 1 student",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.LRN,onChange:e=>n({...a,LRN:e.target.value}),maxLength:12,errorMessage:s.LRN,isInvalid:!!s.LRN,endContent:t.jsx(d,{icon:p,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(l,{className:"pt-2",type:"date",label:"Birthday",variant:"bordered",value:a.Birthday,onChange:e=>n({...a,Birthday:e.target.value}),errorMessage:s.Birthday,isInvalid:!!s.Birthday}),t.jsxs(w,{label:"Gender",name:"Gender",placeholder:"Select your gender",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Gender,onChange:e=>n({...a,Gender:e.target.value}),errorMessage:s.Gender,isInvalid:!!s.Gender,children:[t.jsx(o,{disabled:!0,children:"Select Gender"},""),t.jsx(o,{children:"Male"},"Male"),t.jsx(o,{children:"Female"},"Female"),t.jsx(o,{children:"Other"},"Other")]}),t.jsx(l,{type:"text",name:"Address",label:"Address",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Address,onChange:e=>n({...a,Address:e.target.value}),errorMessage:s.Address,isInvalid:!!s.Address,endContent:t.jsx(d,{icon:$,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsxs(w,{label:"Status",name:"Status",placeholder:"Select your status",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Status,onChange:e=>n({...a,Status:e.target.value}),errorMessage:s.Status,isInvalid:!!s.Status,children:[t.jsx(o,{disabled:!0,children:"Select Status"},""),t.jsx(o,{children:"Single"},"Single"),t.jsx(o,{children:"Married"},"Married"),t.jsx(o,{children:"Widowed"},"Widowed"),t.jsx(o,{children:"Separated"},"Separated"),t.jsx(o,{children:"Other"},"Other")]}),t.jsx(l,{type:"text",name:"ContactNumber",label:"Contact Number",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.ContactNumber,onChange:e=>n({...a,ContactNumber:e.target.value}),maxLength:11,errorMessage:s.ContactNumber,isInvalid:!!s.ContactNumber,endContent:t.jsx(d,{icon:U,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(l,{type:"email",name:"email",label:"Email",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.email,onChange:e=>n({...a,email:e.target.value}),errorMessage:s.email,isInvalid:!!s.email,endContent:t.jsx(d,{icon:W,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})})]}),t.jsx("div",{className:"mt-4",children:t.jsx(l,{type:N?"text":"password",name:"password",label:"Password",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.password,onChange:e=>n({...a,password:e.target.value}),errorMessage:s.password,isInvalid:!!s.password,endContent:t.jsx(d,{icon:N?C:j,className:"text-xl md:text-2xl text-default-400 cursor-pointer",onClick:I})})}),t.jsx("div",{className:"mt-4",children:t.jsx(l,{type:h?"text":"password",name:"confirmPassword",label:"Confirm Password",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.confirmPassword,onChange:e=>n({...a,confirmPassword:e.target.value}),errorMessage:s.confirmPassword,isInvalid:!!s.confirmPassword,endContent:t.jsx(d,{icon:h?C:j,className:"text-xl md:text-2xl text-default-400 cursor-pointer",onClick:M})})}),t.jsxs("div",{className:"flex items-center justify-center gap-6 my-4",children:[t.jsx(S,{className:"w-full md:w-1/3 text-md",color:"danger",variant:"light",onClick:L,children:"Cancel"}),t.jsx(S,{type:"submit",className:"w-full md:w-1/3 text-md",color:"primary",children:"Register"})]})]})})]})})})};export{ie as default};
