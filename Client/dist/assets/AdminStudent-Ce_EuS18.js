import{j as e,L as W,r as a,a as X}from"./index-BjF_G-ic.js";import{A as Y}from"./AdminSidebar-v5fFIFYT.js";import{l as Z}from"./index-B1sybR-A.js";import{R as $}from"./react-paginate-B9bGghfG.js";import{P as _,F as p,d as ee,i as se,j as te}from"./index-DrZpWsSU.js";import{C as ae}from"./ContentHeader-CiuXUQM2.js";import{P as le,t as re,a as ie,b as l,c as ne,d as oe,e as r}from"./PrintRecord-CgSZ9c9w.js";import{V as de,U as ce}from"./UpdateStudent-C7zc73lK.js";import{m as he,a as me,b as xe,c as ue}from"./chunk-P2T5LMDM-Ca6dRHNN.js";import{m as fe}from"./chunk-LT4XONRR-CQzbHLbe.js";import{b as n}from"./chunk-DBLREEYE-CnLlufi-.js";import{D as je}from"./DeleteStudent-CxNtyC7p.js";import{t as D}from"./profile-BT-Jg7Q4.js";import{s as P,l as t}from"./chunk-CEHIK4GH-oEDvTFTM.js";import{i as pe}from"./chunk-GQQM5TNQ-Tj9aGxT5.js";import"./useOverlayTriggerState-DuOfg75X.js";import"./useDialog-UkFYi8Ye.js";import"./useLabels-BKDMMi_w.js";import"./VisuallyHidden-fPqKGt3n.js";import"./Overlay-BBGuDsuL.js";import"./chunk-KBN3H6OQ-DCggU7IY.js";import"./useField-CsK04t-T.js";import"./chunk-CIZQCQPA-D7sKapEk.js";import"./useFormReset-B52YxVjX.js";const L=({show:h,onHide:o})=>e.jsx(he,{isOpen:h,onClose:o,"aria-labelledby":"add-user-modal-title",isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsxs(fe,{children:[e.jsx(me,{className:"flex flex-col",id:"add-user-modal-title",children:"Add Student Information"}),e.jsx(xe,{children:e.jsx("p",{children:"Do you want to add student information?"})}),e.jsxs(ue,{children:[e.jsx(n,{color:"danger",variant:"light",onClick:o,children:"Cancel"}),e.jsx(W,{to:"/adminAddStudent",children:e.jsx(n,{color:"primary",children:"Add"})})]})]})});L.propTypes={show:_.bool.isRequired,onHide:_.func.isRequired};const ge=()=>{const[h,o]=a.useState(!1),[k,g]=a.useState(!1),[A,S]=a.useState(!1),[E,b]=a.useState(!1),[T,m]=a.useState(!1),[x,w]=a.useState([]),[N,v]=a.useState([]),[u,f]=a.useState(null),[M,F]=a.useState(0),[j]=a.useState(10),[c,C]=a.useState(""),[d,H]=a.useState(""),y=a.useRef(null),{onDownload:I}=Z.useDownloadExcel({currentTableRef:y.current,filename:"Student_List_Report_table",sheet:"Students"});a.useEffect(()=>{X.get("/api/getStudents").then(s=>{w(s.data),v(s.data)}).catch(s=>console.log(s))},[]),a.useEffect(()=>{let s=x;d&&(s=s.filter(i=>i.FirstName.toLowerCase().includes(d.toLowerCase())||i.LastName.toLowerCase().includes(d.toLowerCase())||i.LRN.includes(d))),c&&(s=s.filter(i=>i.Section===c)),v(s)},[d,c,x]);const z=()=>{g(!0)},G=()=>{o(!0)},V=s=>{f(s),b(!0)},B=s=>{f(s),S(!0)},U=s=>{f(s),m(!0)},K=s=>{w(x.filter(i=>i._id!==s)),m(!1)},O=s=>{F(s.selected)},R=M*j,q=N.slice(R,R+j),J=s=>{const i=s.target.value;C(i)},Q=s=>{switch(s){case"Grade Ready Reader":return"text-green-600 font-semibold";case"Transitioning Reader":return"text-blue-600 font-semibold";case"Developing Reader":return"text-orange-600 font-semibold";case"Low Emerging Reader":return"text-red-600 font-semibold";case"High Emerging Reader":return"text-red-600 font-semibold";case"Incomplete":return"text-gray-600 italic";default:return"text-black"}};return e.jsxs("div",{className:"px-9",children:[e.jsx(le,{show:k,onHide:()=>g(!1),print:I}),e.jsx(L,{show:h,onHide:()=>o(!1)}),e.jsx(de,{show:E,onHide:()=>b(!1),student:u}),e.jsx(ce,{show:A,student:u,onHide:()=>S(!1)}),e.jsx(je,{show:T,onHide:()=>m(!1),student:u,onDeleteSuccess:K}),e.jsxs("div",{className:"content-title-header",children:[e.jsxs("div",{children:["Manage Student",e.jsx(D,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Student Table"}),e.jsx("div",{className:"text-tiny",children:"This function will view the list of the students in each section."})]}),children:e.jsx(p,{icon:ee,size:"1x",className:"help-icon"})})]}),e.jsx("div",{className:"generate-report",children:e.jsx(D,{showArrow:!0,content:e.jsxs("div",{className:"px-1 py-2",children:[e.jsx("div",{className:"text-small font-bold",children:"Print"}),e.jsx("div",{className:"text-tiny",children:"Generate report/Print table"})]}),children:e.jsx(p,{icon:se,size:"1x",className:"print-icon",onClick:z})})})]}),e.jsx("div",{className:"content-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card mt-1 border-0",children:[e.jsxs("div",{className:"list-header-drop-score",children:[e.jsxs(P,{className:"w-[20%]",labelPlacement:"outside",label:"Section",variant:"bordered",defaultSelectedKeys:[""],onChange:J,"aria-label":"Filter students by section",value:c,children:[e.jsx(t,{children:"Select Section"},""),e.jsx(t,{children:"Aster"},"Aster"),e.jsx(t,{children:"Camia"},"Camia"),e.jsx(t,{children:"Dahlia"},"Dahlia"),e.jsx(t,{children:"Iris"},"Iris"),e.jsx(t,{children:"Jasmin"},"Jasmin"),e.jsx(t,{children:"Orchid"},"Orchid"),e.jsx(t,{children:"Rose"},"Rose"),e.jsx(t,{children:"Tulip"},"Tulip"),e.jsx(t,{children:"SSC"},"SSC")]}),e.jsxs(P,{className:"w-[20%]",labelPlacement:"outside",label:"Status",variant:"bordered",onChange:s=>C(s.target.value),defaultSelectedKeys:"",children:[e.jsx(t,{children:"All"},""),e.jsx(t,{children:"Incomplete"},"Incomplete"),e.jsx(t,{children:"Low Emerging"},"Low Emerging Reader"),e.jsx(t,{children:"High Emerging"},"High Emerging Reader"),e.jsx(t,{children:"Developing"},"Developing Reader"),e.jsx(t,{children:"Transitioning"},"Transitioning Reader"),e.jsx(t,{children:"Grade Ready"},"Grade Ready Reader")]}),e.jsx("div",{className:"w-[40%] flex pt-8",children:e.jsx(pe,{type:"text",placeholder:"Search Student Name or LRN",variant:"bordered",startContent:e.jsx(p,{icon:te,size:"1x",inverse:!0,className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}),onChange:s=>H(s.target.value)})}),e.jsx("div",{className:"back-button-profile",children:e.jsx(n,{auto:!0,color:"primary",className:"",onClick:()=>G(),children:"Add Student"})})]}),e.jsxs("div",{className:"card-body scrollable-table scrollable-container",children:[e.jsxs(re,{ref:y,removeWrapper:!0,color:"primary",selectionMode:"single",children:[e.jsxs(ie,{children:[e.jsx(l,{children:"LRN"}),e.jsx(l,{children:"First Name"}),e.jsx(l,{children:"Last Name"}),e.jsx(l,{children:"Age"}),e.jsx(l,{children:"Section"}),e.jsx(l,{children:"Birthday"}),e.jsx(l,{children:"Mother Tongue"}),e.jsx(l,{children:"Gender"}),e.jsx(l,{children:"Status"})," ",e.jsx(l,{className:"text-center",children:"Actions"})]}),e.jsx(ne,{emptyContent:"No rows to display.",children:q.map(s=>e.jsxs(oe,{children:[e.jsx(r,{children:s.LRN}),e.jsx(r,{children:s.FirstName}),e.jsx(r,{children:s.LastName}),e.jsx(r,{children:s.Age}),e.jsx(r,{children:s.Section}),e.jsx(r,{children:s.Birthday}),e.jsx(r,{children:s.MotherTongue}),e.jsx(r,{children:s.Gender}),e.jsx(r,{children:e.jsx("span",{className:Q(s.status),children:s.status})}),e.jsx(r,{children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(n,{color:"default",size:"sm",onClick:()=>V(s),children:"View"}),e.jsx(n,{color:"primary",size:"sm",onClick:()=>B(s),children:"Update"}),e.jsx(n,{color:"danger",size:"sm",onClick:()=>U(s),children:"Delete"})]})})]},s._id))})]}),e.jsx($,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(N.length/j),marginPagesDisplayed:2,pageRangeDisplayed:10,onPageChange:O,containerClassName:"pagination",activeClassName:"active"})]})]})})})})]})},Ue=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(Y,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(ae,{}),e.jsx(ge,{})]})]});export{Ue as default};
