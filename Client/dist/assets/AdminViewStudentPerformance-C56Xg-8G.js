import{c as g,u as j,r as c,U as N,j as e,a as u,_ as y}from"./index-9k_Ocd80.js";import{A as b}from"./AdminSidebar-DGQnSepX.js";import{C as A}from"./ContentHeader-BKYcynH5.js";import{F as n,d as v,D as x,E as h}from"./index-B6K5ESG2.js";import{A as w}from"./AddFeedback-BkjzOE_w.js";import{t as d}from"./profile-DYuKv9Zm.js";import{b as m}from"./chunk-DBLREEYE-DVjbjQx8.js";import"./chunk-P2T5LMDM-CR1df-yk.js";import"./useOverlayTriggerState-BZO4l0S3.js";import"./useDialog-Cje9gbXM.js";import"./useLabels-D-HJF6pw.js";import"./VisuallyHidden-PT-Sj4_P.js";import"./chunk-GQQM5TNQ-DIeraZ41.js";import"./chunk-CAFRINWI-CMvs8fyY.js";import"./useFormReset-8bZuwF1F.js";import"./useField-CpUyNuvN.js";import"./chunk-CEHIK4GH-zxS_DSeF.js";import"./chunk-ATAY3LCU-BV89LzXG.js";import"./extends-CF3RwP-h.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./chunk-CIZQCQPA-8Nr0sLZY.js";const C=l=>{const t=parseInt(l,10);if(isNaN(t))return"Not applicable";const o=Math.floor(t/60),i=t%60;return`${o}:${i<10?"0":""}${i} min`},R=()=>{const{UserInputId:l}=g(),t=j(),{user:o}=c.useContext(N),[i,p]=c.useState(!1),[r,f]=c.useState({UserInputId:"",LRN:"",Section:"",ActivityCode:"",Type:"",PerformanceItems:[],QuestionData:[],Score:"",TimeRead:""});return c.useEffect(()=>{(async()=>{try{const a=await u.get(`/api/getPerformance/${l}`);f(a.data)}catch{y.error("Failed to fetch performance data. Please try again later.")}})()},[l]),e.jsxs("div",{className:"px-9",children:[e.jsx(w,{show:i,onHide:()=>p(!1),actCode:r.ActivityCode,userid:(o==null?void 0:o.UserID)||"",lrn:r.LRN,section:r.Section}),e.jsxs("div",{className:"flex items-center justify-start gap-2 mb-5",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"View Performance"}),e.jsx(d,{showArrow:!0,content:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-sm font-bold",children:"View Student Performance"}),e.jsx("div",{className:"text-xs",children:"This section displays the student's performance."})]}),children:e.jsx(n,{icon:v,className:"text-gray-600"})})]}),e.jsxs("div",{className:"w-full max-w-8xl mx-auto bg-white shadow-lg rounded-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Assessment Details"}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Activity Code:"})," ",r.ActivityCode||"N/A"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"LRN:"})," ",r.LRN||"N/A"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Section:"})," ",r.Section||"N/A"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Type:"})," ",r.Type||"N/A"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Score:"})," ",r.Score||"N/A"]})}),r.Type==="Pagbabasa"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Questions and Answers"}),e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsx("strong",{children:"Time Read:"})," ",C(r.TimeRead)]}),r.QuestionData&&r.QuestionData.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.QuestionData.map((s,a)=>e.jsxs("div",{className:`p-4 bg-gray-50 rounded-lg shadow ${s.Remarks==="Correct"?"border-2 border-green-500":"border-2 border-red-500"} relative`,children:[e.jsxs("p",{className:"text-gray-800 flex justify-start gap-2",children:[e.jsxs("strong",{children:["Question ",a+1,":"]})," ",s.Question||"N/A"]}),e.jsxs("p",{className:"text-gray-800 flex justify-start gap-7",children:[e.jsx("strong",{children:"Answer:"})," ",s.Answer||"N/A"]}),e.jsxs("p",{className:"text-gray-800 flex justify-start gap-5",children:[e.jsx("strong",{children:"Remarks:"})," ",s.Remarks||"N/A"]}),e.jsx(n,{icon:s.Remarks==="Correct"?x:h,className:`absolute top-2 right-2 ${s.Remarks==="Correct"?"text-green-500":"text-red-500"}`})]},a))}):e.jsx("p",{className:"text-gray-700",children:"No questions available for this assessment."})]}),r.Type!=="Pagbabasa"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Items"}),r.PerformanceItems&&r.PerformanceItems.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:r.PerformanceItems.map((s,a)=>e.jsxs("div",{className:`p-4 bg-gray-50 rounded-lg shadow ${s.Remarks==="Correct"?"border-2 border-green-500":"border-2 border-red-500"} relative`,children:[e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Item Code:"})," ",s.ItemCode]}),e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Word:"})," ",s.Word||"N/A"]}),e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Remarks:"})," ",s.Remarks||"N/A"]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:s.UserAudioURL?e.jsx(d,{content:"Play User Audio",children:e.jsx(m,{as:"a",href:s.UserAudioURL,target:"_blank",rel:"noopener noreferrer",color:"primary",size:"sm",children:"Play User Audio"})}):"No audio uploaded"}),e.jsx("div",{className:"flex items-center gap-2",children:s.DefaultAudio?e.jsx(d,{content:"Play Default Audio",children:e.jsx(m,{as:"a",href:s.DefaultAudio,target:"_blank",rel:"noopener noreferrer",color:"primary",size:"sm",children:"Play Default Audio"})}):"No default audio available"}),e.jsx(n,{icon:s.Remarks==="Correct"?x:h,className:`absolute top-2 right-2 ${s.Remarks==="Correct"?"text-green-500":"text-red-500"}`})]})]},a))}):e.jsx("p",{className:"text-gray-700",children:"No items available for this assessment."})]}),e.jsx("div",{className:"mt-6 flex gap-5",children:e.jsx(m,{color:"danger",onClick:()=>t(-1),className:"mt-4",children:"Back"})})]})]})},K=()=>e.jsxs("div",{className:"w-full h-full flex",children:[e.jsx("div",{className:"fixed top-0 left-0 w-[15%] h-full bg-[#F5EBD6] shadow-lg",children:e.jsx(b,{})}),e.jsxs("div",{className:"ml-[15%] w-[85%] h-full min-h-[100vh] bg-[#F2EDE3] p-[2rem] flex flex-col gap-[1.5rem]",children:[e.jsx(A,{}),e.jsx(R,{})]})]});export{K as default};
