import{j as t,u as z,r as g,a as H,n as v}from"./index-Cz5Vujn0.js";import{F as l,l as N,n as Z,m as J,f as K,a as P,b as R,o as Q}from"./index-DYcFSFXU.js";import{u as X,c as Y,a as ee}from"./chunk-H4VOEXHF-CyGbH8E3.js";import{h as te,u as ae,f as se,b as y}from"./chunk-DBLREEYE-u4K1mOgI.js";import{i as d}from"./chunk-GQQM5TNQ-ihTkHPWm.js";import{s as I,l as i}from"./chunk-CEHIK4GH-C3XlnChQ.js";import"./useField-BEGRl8cX.js";import"./useLabels-CHBKrAO0.js";import"./useFormReset-II1lQ-2u.js";import"./getChildNodes-CdUGJITf.js";import"./useOverlayTriggerState-CW0is1k2.js";import"./useDialog-BR_xjFZD.js";import"./VisuallyHidden-BI4fM_vv.js";import"./Overlay-D0KPGmXa.js";var G=te((p,m)=>{var c;const{as:x,className:S,children:f,...j}=p,s=x||"div",C=ae(m),{slots:a,classNames:n}=X(),w=se(n==null?void 0:n.footer,S);return t.jsx(s,{ref:C,className:(c=a.footer)==null?void 0:c.call(a,{class:w}),...j,children:f})});G.displayName="NextUI.CardFooter";var re=G;const be=()=>{const p=z(),[m,c]=g.useState(0),[x,S]=g.useState(!1),[f,j]=g.useState(!1),[s,C]=g.useState({}),[a,n]=g.useState({FirstName:"",LastName:"",StudentFirstName:"",StudentLastName:"",LRN:"",Birthday:"",StudentBirthday:"",Gender:"",StudentGender:"",Address:"",Status:"",ContactNumber:"",MotherTongue:"",email:"",password:"",confirmPassword:""}),w=()=>S(!x),B=()=>j(!f),F=e=>!isNaN(e);function k(e){const o=[],b=/[A-Z]/.test(e),u=/[a-z]/.test(e),L=/\d/.test(e),M=/[!@#$%^&*(),.?":{}|<>]/.test(e);return e?(e.length<8&&o.push("Password must be at least 8 characters long."),b||o.push("Password must contain at least one uppercase letter."),u||o.push("Password must contain at least one lowercase letter."),L||o.push("Password must contain at least one digit."),M||o.push("Password must contain at least one special character."),o.length>0?o.join(" "):null):"Password is required."}const q=()=>{let e=!0,r={};a.FirstName||(r.FirstName="First Name is required.",e=!1),a.LastName||(r.LastName="Last Name is required.",e=!1),a.LRN||(r.LRN="LRN is required.",e=!1),F(a.LRN)||(r.LRN="Invalid LRN.",e=!1),a.StudentFirstName||(r.StudentFirstName="Student First Name is required.",e=!1),a.StudentLastName||(r.StudentLastName="Student Last Name is required.",e=!1),a.Birthday||(r.Birthday="Birthday is required.",e=!1),a.StudentBirthday||(r.StudentBirthday="Student Birthday is required.",e=!1),a.MotherTongue||(r.MotherTongue="MotherTongue is required.",e=!1),a.Gender||(r.Gender="Gender is required.",e=!1),a.StudentGender||(r.StudentGender="Student Gender is required.",e=!1),a.Address||(r.Address="Address is required.",e=!1),a.Status||(r.Status="Status is required.",e=!1),a.ContactNumber||(r.ContactNumber="Contact Number is required.",e=!1),F(a.ContactNumber)||(r.ContactNumber="Invalid Contact Number.",e=!1),/^09\d{9}$/.test(a.ContactNumber)||(r.ContactNumber="Please enter a valid PH contact number.",e=!1),a.email||(r.email="Email is required.",e=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(r.email="Invalid email format.");const u=k(a.password);return u?(r.password=u,e=!1):a.password!==a.confirmPassword&&(r.confirmPassword="Passwords do not match.",e=!1),C(r),e},A=async e=>{if(e.preventDefault(),!q()){v.error("Please fill out this form.");return}const{FirstName:r,LastName:o,Birthday:b,Address:u,Status:L,Gender:M,ContactNumber:_,email:E,password:T,StudentFirstName:V,StudentLastName:O,LRN:D,StudentBirthday:$,StudentGender:U,MotherTongue:W}=a;try{const h=await H.post("/api/registerParent",{FirstName:r,LastName:o,Birthday:b,Address:u,Status:L,Gender:M,ContactNumber:_,email:E,password:T,StudentFirstName:V,StudentLastName:O,LRN:D,StudentBirthday:$,StudentGender:U,MotherTongue:W});h.data.error?v.error(h.data.error):(n({}),v.success("Register Verification."),localStorage.setItem("userId",h.data.data.userId),p("/verifyEmail"))}catch(h){console.log(h),v.error("An error occurred. Please try again.")}};return t.jsx("div",{className:"p-4 md:p-10 bg-[#f6fbff] flex w-full min-h-screen items-center",children:t.jsxs("div",{className:"w-full max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6 md:p-10",children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-semibold text-center mb-6",children:"Parent Registration"}),t.jsxs("div",{className:"flex gap-4 md:gap-6 border-b pb-3 justify-center mb-4",children:[t.jsx(y,{variant:"light",className:`text-sm md:text-md font-medium ${m===0?"border-b-4 border-blue-500":""}`,onClick:()=>c(0),children:"Parent Information"}),t.jsx(y,{variant:"light",className:`text-sm md:text-md font-medium ${m===1?"border-b-4 border-blue-500":""}`,onClick:()=>c(1),children:"Student Information"})]}),t.jsx(Y,{children:t.jsxs("form",{onSubmit:A,children:[t.jsxs(ee,{children:[m===0&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(d,{type:"text",name:"FirstName",label:"First Name",variant:"bordered",value:a.FirstName,onChange:e=>n({...a,FirstName:e.target.value}),errorMessage:s.FirstName,isInvalid:!!s.FirstName,endContent:t.jsx(l,{icon:N,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(d,{type:"text",name:"LastName",label:"Last Name",variant:"bordered",value:a.LastName,onChange:e=>n({...a,LastName:e.target.value}),errorMessage:s.LastName,isInvalid:!!s.LastName,endContent:t.jsx(l,{icon:N,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(d,{className:"pt-2",type:"date",label:"Birthday",variant:"bordered",value:a.Birthday,onChange:e=>n({...a,Birthday:e.target.value}),errorMessage:s.Birthday,isInvalid:!!s.Birthday}),t.jsx(d,{type:"text",name:"ContactNumber",label:"Contact Number",maxLength:11,variant:"bordered",className:"bg-transparent py-1 my-1",value:a.ContactNumber,onChange:e=>n({...a,ContactNumber:e.target.value}),errorMessage:s.ContactNumber,isInvalid:!!s.ContactNumber,endContent:t.jsx(l,{icon:Z,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsxs(I,{label:"Gender",name:"Gender",placeholder:"Select your gender",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Gender,onChange:e=>n({...a,Gender:e.target.value}),errorMessage:s.Gender,isInvalid:!!s.Gender,children:[t.jsx(i,{disabled:!0,children:"Select Gender"},""),t.jsx(i,{children:"Male"},"Male"),t.jsx(i,{children:"Female"},"Female"),t.jsx(i,{children:"Other"},"Other")]}),t.jsx(d,{type:"text",name:"Address",label:"Address",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Address,onChange:e=>n({...a,Address:e.target.value}),errorMessage:s.Address,isInvalid:!!s.Address,endContent:t.jsx(l,{icon:J,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsxs(I,{label:"Status",name:"Status",placeholder:"Select your status",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.Status,onChange:e=>n({...a,Status:e.target.value}),errorMessage:s.Status,isInvalid:!!s.Status,children:[t.jsx(i,{disabled:!0,children:"Select Status"},""),t.jsx(i,{children:"Single"},"Single"),t.jsx(i,{children:"Married"},"Married"),t.jsx(i,{children:"Widowed"},"Widowed"),t.jsx(i,{children:"Separated"},"Separated"),t.jsx(i,{children:"Other"},"Other")]}),t.jsx(d,{type:"text",name:"email",label:"Email",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.email,onChange:e=>n({...a,email:e.target.value}),errorMessage:s.email,isInvalid:!!s.email,endContent:t.jsx(l,{icon:K,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(d,{name:"password",label:"Password",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.password,onChange:e=>n({...a,password:e.target.value}),errorMessage:s.password,isInvalid:!!s.password,endContent:t.jsx("button",{className:"focus:outline-none",type:"button",onClick:w,"aria-label":"toggle password visibility",children:x?t.jsx(l,{icon:P,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"}):t.jsx(l,{icon:R,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),type:x?"text":"password"}),t.jsx(d,{name:"confirmPassword",label:"Confirm Password",variant:"bordered",className:"bg-transparent py-1 my-1",endContent:t.jsx("button",{className:"focus:outline-none",type:"button",onClick:B,"aria-label":"toggle password visibility",children:f?t.jsx(l,{icon:P,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"}):t.jsx(l,{icon:R,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),type:f?"text":"password",value:a.confirmPassword,onChange:e=>n({...a,confirmPassword:e.target.value}),errorMessage:s.confirmPassword,isInvalid:!!s.confirmPassword})]}),m===1&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(d,{type:"text",name:"StudentName",label:"Student First Name",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.StudentFirstName,onChange:e=>n({...a,StudentFirstName:e.target.value}),errorMessage:s.StudentFirstName,isInvalid:!!s.StudentFirstName,endContent:t.jsx(l,{icon:N,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(d,{type:"text",name:"StudentName",label:"Student Last Name",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.StudentLastName,onChange:e=>n({...a,StudentLastName:e.target.value}),errorMessage:s.StudentLastName,isInvalid:!!s.StudentLastName,endContent:t.jsx(l,{icon:N,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(d,{type:"text",name:"LRN",label:"LRN",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.LRN,onChange:e=>n({...a,LRN:e.target.value}),errorMessage:s.LRN,isInvalid:!!s.LRN,maxLength:12,endContent:t.jsx(l,{icon:Q,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})}),t.jsx(d,{type:"date",name:"Birthday",label:"Birthday",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.StudentBirthday,onChange:e=>n({...a,StudentBirthday:e.target.value}),errorMessage:s.StudentBirthday,isInvalid:!!s.StudentBirthday}),t.jsxs(I,{label:"Gender",name:"Gender",placeholder:"Select your gender",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.StudentGender,onChange:e=>n({...a,StudentGender:e.target.value}),errorMessage:s.StudentGender,isInvalid:!!s.StudentGender,children:[t.jsx(i,{disabled:!0,children:"Select Gender"},""),t.jsx(i,{children:"Male"},"Male"),t.jsx(i,{children:"Female"},"Female"),t.jsx(i,{children:"Other"},"Other")]}),t.jsx(d,{type:"text",name:"MotherTongue",label:"Mother Tongue",variant:"bordered",className:"bg-transparent py-1 my-1",value:a.MotherTongue,onChange:e=>n({...a,MotherTongue:e.target.value}),errorMessage:s.MotherTongue,isInvalid:!!s.MotherTongue,endContent:t.jsx(l,{icon:N,className:"text-xl md:text-2xl text-default-400 pointer-events-none flex-shrink-0"})})]})]}),t.jsxs(re,{className:"flex flex-col md:flex-row justify-center gap-4 mt-6",children:[t.jsx(y,{className:"w-full md:w-1/3 text-md",color:"danger",variant:"light",onClick:()=>p("/register"),children:"Cancel"}),t.jsx(y,{type:"submit",className:"w-full md:w-1/3 text-md",color:"primary",children:"Register"})]})]})})]})})};export{be as default};
